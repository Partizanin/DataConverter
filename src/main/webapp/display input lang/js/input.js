/**
 * Created by Partizanin on 16.12.2014.
 */
var _log=function(){if(window.DEBUG&&window.console&&window.console.info)for(var e=0;e<arguments.length;e++)window.console.info(arguments[e])};var _error=function(){if(!window.DEBUG&&arguments[arguments.length-1]!==true)return;if(window.console&&window.console.debug)for(var e=0;e<arguments.length;e++)window.console.debug(arguments[e]);else if(typeof window.Error==="function")for(var e=0;e<arguments.length;e++)new Error(arguments[e])};window.DEBUG=/^localhost|10\.|\.ceb\.loc/.test(document.location.host)||/DEBUG/.test(document.location.href);(function(e,t){e.UserAgent={_browserInfo:navigator.userAgent?navigator.userAgent.toLowerCase():"",_versions:null,isIPhone:function(){return this._browserInfo.indexOf("iphone")>-1},isIPad:function(){return this._browserInfo.indexOf("ipad")>-1},isIPod:function(){return this._browserInfo.indexOf("ipod")>-1},isIOSDevice:function(){return this.isIPad()||this.isIPod()||this.isIPhone()},isAndroidDevice:function(){return this._browserInfo.indexOf("android")>-1},isMobileDevice:function(){return this.isIOSDevice()||this.isAndroidDevice()},isOpera:function(){return this._browserInfo.indexOf("opera")>-1},isChrome:function(){return this._browserInfo.indexOf("chrome")>-1},isFireFox:function(){return this._browserInfo.indexOf("firefox")>-1},isMSIE:function(){return this._browserInfo.indexOf("msie")>-1},isSafari:function(){return this._browserInfo.indexOf("safari")>-1}};e.UserAgent["_versions"]={msie:(/(?:msie\s([0-9a-z,.]+);)/.exec(e.UserAgent._browserInfo)||[])[1]||"",opera:(/(?:version\/([0-9a-z,.]+))$/.exec(e.UserAgent._browserInfo)||[])[1]||"",chrome:(/(?:chrome\/([0-9a-z,.]+)\s)/.exec(e.UserAgent._browserInfo)||[])[1]||"",firefox:(/(?:firefox\/([0-9a-z,.]+))$/.exec(e.UserAgent._browserInfo)||[])[1]||"",safari:(/(?:version\/([0-9a-z,.]+)\s)/.exec(e.UserAgent._browserInfo)||[])[1]||""};for(var n in e.UserAgent["_versions"]){var i=e.UserAgent["_versions"][n].replace(/[^0-9\.,]/,"").split(/[\.,]/);e.UserAgent["_versions"][n]=+(i.shift()+"."+i.join(""))||0}e.UserAgent["browser"]={name:"",version:"",language:(navigator.systemLanguage||navigator.language.split("-")[0]).toLowerCase(),isSupported:true};if(e.UserAgent.isChrome()){e.UserAgent["browser"]["name"]="Chrome";e.UserAgent["browser"]["chrome"]=true;e.UserAgent["browser"]["version"]=e.UserAgent._versions["chrome"];e.UserAgent["browser"]["isSupported"]=true}else if(e.UserAgent.isOpera()){e.UserAgent["browser"]["name"]="Opera";e.UserAgent["browser"]["opera"]=true;e.UserAgent["browser"]["version"]=e.UserAgent._versions["opera"];e.UserAgent["browser"]["isSupported"]=!e.UserAgent.isMobileDevice()?+e.UserAgent._versions["opera"]>=10:true}else if(e.UserAgent.isFireFox()){e.UserAgent["browser"]["name"]="Firefox";e.UserAgent["browser"]["firefox"]=true;e.UserAgent["browser"]["version"]=e.UserAgent._versions["firefox"];e.UserAgent["browser"]["isSupported"]=!e.UserAgent.isMobileDevice()?+e.UserAgent._versions["firefox"]>=3.7:true}else if(e.UserAgent.isSafari()){e.UserAgent["browser"]["name"]="Safari";e.UserAgent["browser"]["safari"]=true;e.UserAgent["browser"]["version"]=e.UserAgent._versions["safari"];e.UserAgent["browser"]["isSupported"]=true}else if(e.UserAgent.isMSIE()){e.UserAgent["browser"]["name"]="InternetExplorer";e.UserAgent["browser"]["msie"]=true;e.UserAgent["browser"]["version"]=e.UserAgent._versions["msie"];e.UserAgent["browser"]["isSupported"]=!e.UserAgent.isMobileDevice()?+e.UserAgent._versions["msie"]>=9:true}})(window,undefined);window.iSelection={moveSelectionTo:function(e,t){var n=isNaN(t)?e.value.length:t;try{e.focus();e.setSelectionRange(n,n)}catch(i){if(e.createTextRange){e.range=e.createTextRange();e.range.moveStart("character",-n);e.range.moveStart("character",n);e.range.moveEnd("character",0);e.range.collapse(true);e.range.select()}}},getSelection:function(e){if(typeof e==="undefined")return null;try{return{start:e.selectionStart,end:e.selectionEnd}}catch(t){if(document.selection){var n=0;var i=0;var r="";var s=null;var a=null;var o=document.selection.createRange();if(o&&o.parentElement()==e){var l=e.value.length;r=e.value.replace(/\r\n/g,"\n");s=e.createTextRange();s.moveToBookmark(o.getBookmark());a=e.createTextRange();a.collapse(false);if(s.compareEndPoints("StartToEnd",a)>-1){n=l;i=l}else{n=-s.moveStart("character",-l);n+=r.slice(0,n).split("\n").length-1;if(s.compareEndPoints("EndToEnd",a)>-1){i=l}else{i=-s.moveEnd("character",-l);i+=r.slice(0,i).split("\n").length-1}}return{start:n,end:i}}else{return null}}}return null},setSelection:function(e,t,n){var i=e.value.length;t=isNaN(t)?i:t;n=isNaN(n)?i:n;try{e.focus();e.setSelectionRange(t,n)}catch(r){if(e.createTextRange){e.range=e.createTextRange();e.range.moveStart("character",-t);e.range.moveStart("character",t);e.range.moveEnd("character",n);e.range.collapse(true);e.range.select()}}}};(function(e,t){function n(e){return K.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}function i(e){if(!fn[e]){var t=E.body,n=K("<"+e+">").appendTo(t),i=n.css("display");n.remove();if(i==="none"||i===""){hn||(hn=E.createElement("iframe"),hn.frameBorder=hn.width=hn.height=0),t.appendChild(hn);if(!pn||!hn.createElement)pn=(hn.contentWindow||hn.contentDocument).document,pn.write((E.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),pn.close();n=pn.createElement(e),pn.body.appendChild(n),i=K.css(n,"display"),t.removeChild(hn)}fn[e]=i}return fn[e]}function r(e,t){var n={};K.each(yn.concat.apply([],yn.slice(0,t)),function(){n[this]=e});return n}function s(){bn=t}function a(){setTimeout(s,0);return bn=K.now()}function o(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function l(){try{return new e.XMLHttpRequest}catch(t){}}function c(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i=e.dataTypes,r={},s,a,o=i.length,l,c=i[0],u,d,f,h,p;for(s=1;s<o;s++){if(s===1)for(a in e.converters)typeof a=="string"&&(r[a.toLowerCase()]=e.converters[a]);u=c,c=i[s];if(c==="*")c=u;else if(u!=="*"&&u!==c){d=u+" "+c,f=r[d]||r["* "+c];if(!f){p=t;for(h in r){l=h.split(" ");if(l[0]===u||l[0]==="*"){p=r[l[1]+" "+c];if(p){h=r[h],h===!0?f=p:p===!0&&(f=h);break}}}}!f&&!p&&K.error("No conversion from "+d.replace(" "," to ")),f!==!0&&(n=f?f(n):p(h(n)))}}return n}function u(e,n,i){var r=e.contents,s=e.dataTypes,a=e.responseFields,o,l,c,u;for(l in a)l in i&&(n[a[l]]=i[l]);while(s[0]==="*")s.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("content-type"));if(o)for(l in r)if(r[l]&&r[l].test(o)){s.unshift(l);break}if(s[0]in i)c=s[0];else{for(l in i){if(!s[0]||e.converters[l+" "+s[0]]){c=l;break}u||(u=l)}c=c||u}if(c){c!==s[0]&&s.unshift(c);return i[c]}}function d(e,t,n,i){if(K.isArray(t))K.each(t,function(t,r){n||$t.test(e)?i(e,r):d(e+"["+(typeof r=="object"||K.isArray(r)?t:"")+"]",r,n,i)});else if(!n&&t!=null&&typeof t=="object")for(var r in t)d(e+"["+r+"]",t[r],n,i);else i(e,t)}function f(e,n,i,r,s,a){s=s||n.dataTypes[0],a=a||{},a[s]=!0;var o=e[s],l=0,c=o?o.length:0,u=e===tn,d;for(;l<c&&(u||!d);l++)d=o[l](n,i,r),typeof d=="string"&&(!u||a[d]?d=t:(n.dataTypes.unshift(d),d=f(e,n,i,r,d,a)));(u||!d)&&!a["*"]&&(d=f(e,n,i,r,"*",a));return d}function h(e){return function(t,n){typeof t!="string"&&(n=t,t="*");if(K.isFunction(n)){var i=t.toLowerCase().split(Xt),r=0,s=i.length,a,o,l;for(;r<s;r++)a=i[r],l=/^\+/.test(a),l&&(a=a.substr(1)||"*"),o=e[a]=e[a]||[],o[l?"unshift":"push"](n)}}}function p(e,t,n){var i=t==="width"?e.offsetWidth:e.offsetHeight,r=t==="width"?Nt:Kt;if(i>0){n!=="border"&&K.each(r,function(){n||(i-=parseFloat(K.css(e,"padding"+this))||0),n==="margin"?i+=parseFloat(K.css(e,n+this))||0:i-=parseFloat(K.css(e,"border"+this+"Width"))||0});return i+"px"}i=Lt(e,t,t);if(i<0||i==null)i=e.style[t]||0;i=parseFloat(i)||0,n&&K.each(r,function(){i+=parseFloat(K.css(e,"padding"+this))||0,n!=="padding"&&(i+=parseFloat(K.css(e,"border"+this+"Width"))||0),n==="margin"&&(i+=parseFloat(K.css(e,n+this))||0)});return i+"px"}function m(e,t){t.src?K.ajax({url:t.src,async:!1,dataType:"script"}):K.globalEval((t.text||t.textContent||t.innerHTML||"").replace(_t,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function g(e){K.nodeName(e,"input")?v(e):"getElementsByTagName"in e&&K.grep(e.getElementsByTagName("input"),v)}function v(e){if(e.type==="checkbox"||e.type==="radio")e.defaultChecked=e.checked}function y(e){return"getElementsByTagName"in e?e.getElementsByTagName("*"):"querySelectorAll"in e?e.querySelectorAll("*"):[]}function b(e,t){var n;if(t.nodeType===1){t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase();if(n==="object")t.outerHTML=e.outerHTML;else if(n!=="input"||e.type!=="checkbox"&&e.type!=="radio"){if(n==="option")t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}else e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value);t.removeAttribute(K.expando)}}function w(e,t){if(t.nodeType===1&&!!K.hasData(e)){var n=K.expando,i=K.data(e),r=K.data(t,i);if(i=i[n]){var s=i.events;r=r[n]=K.extend({},i);if(s){delete r.handle,r.events={};for(var a in s)for(var o=0,l=s[a].length;o<l;o++)K.event.add(t,a+(s[a][o].namespace?".":"")+s[a][o].namespace,s[a][o],s[a][o].data)}}}}function C(e,t){return K.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function A(e,t,n){t=t||0;if(K.isFunction(t))return K.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return K.grep(e,function(e,i){return e===t===n});if(typeof t=="string"){var i=K.grep(e,function(e){return e.nodeType===1});if(dt.test(t))return K.filter(t,i,!n);t=K.filter(t,i)}return K.grep(e,function(e,i){return K.inArray(e,t)>=0===n})}function S(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function _(e,t){return(e&&e!=="*"?e+".":"")+t.replace(Y,"`").replace(Z,"&")}function k(e){var t,n,i,r,s,a,o,l,c,u,d,f,h,p=[],m=[],g=K._data(this,"events");if(!(e.liveFired===this||!g||!g.live||e.target.disabled||e.button&&e.type==="click")){e.namespace&&(f=new RegExp("(^|\\.)"+e.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),e.liveFired=this;var v=g.live.slice(0);for(o=0;o<v.length;o++)s=v[o],s.origType.replace(Q,"")===e.type?m.push(s.selector):v.splice(o--,1);r=K(e.target).closest(m,e.currentTarget);for(l=0,c=r.length;l<c;l++){d=r[l];for(o=0;o<v.length;o++){s=v[o];if(d.selector===s.selector&&(!f||f.test(s.namespace))&&!d.elem.disabled){a=d.elem,i=null;if(s.preType==="mouseenter"||s.preType==="mouseleave")e.type=s.preType,i=K(e.relatedTarget).closest(s.selector)[0],i&&K.contains(a,i)&&(i=a);(!i||i!==a)&&p.push({elem:a,handleObj:s,level:d.level})}}}for(l=0,c=p.length;l<c;l++){r=p[l];if(n&&r.level>n)break;e.currentTarget=r.elem,e.data=r.handleObj.data,e.handleObj=r.handleObj,h=r.handleObj.origHandler.apply(r.elem,arguments);if(h===!1||e.isPropagationStopped()){n=r.level,h===!1&&(t=!1);if(e.isImmediatePropagationStopped())break}}return t}}function I(e,n,i){var r=K.extend({},i[0]);r.type=e,r.originalEvent={},r.liveFired=t,K.event.handle.call(n,r),r.isDefaultPrevented()&&i[0].preventDefault()}function x(){return!0}function T(){return!1}function P(e,n,i){var r=n+"defer",s=n+"queue",a=n+"mark",o=K.data(e,r,t,!0);o&&(i==="queue"||!K.data(e,s,t,!0))&&(i==="mark"||!K.data(e,a,t,!0))&&setTimeout(function(){!K.data(e,s,t,!0)&&!K.data(e,a,t,!0)&&(K.removeData(e,r,!0),o.resolve())},0)}function M(e){for(var t in e)if(t!=="toJSON")return!1;return!0}function B(e,n,i){if(i===t&&e.nodeType===1){var r="data-"+n.replace(F,"$1-$2").toLowerCase();i=e.getAttribute(r);if(typeof i=="string"){try{i=i==="true"?!0:i==="false"?!1:i==="null"?null:K.isNaN(i)?D.test(i)?K.parseJSON(i):i:parseFloat(i)}catch(s){}K.data(e,n,i)}else i=t}return i}var E=e.document,V=e.navigator,N=e.location,K=function(){function n(){if(!i.isReady){try{E.documentElement.doScroll("left")}catch(e){setTimeout(n,1);return}i.ready()}}var i=function(e,t){return new i.fn.init(e,t,a)},r=e.jQuery,s=e.$,a,o=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,c=/^\s+/,u=/\s+$/,d=/\d/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,h=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,m=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,g=/(?:^|:|,)(?:\s*\[)+/g,v=/(webkit)[ \/]([\w.]+)/,y=/(opera)(?:.*version)?[ \/]([\w.]+)/,b=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z])/gi,A=function(e,t){return t.toUpperCase()},S=V.userAgent,_,k,I,x=Object.prototype.toString,T=Object.prototype.hasOwnProperty,P=Array.prototype.push,M=Array.prototype.slice,B=String.prototype.trim,N=Array.prototype.indexOf,K={};i.fn=i.prototype={constructor:i,init:function(e,n,r){var s,a,l,c;if(!e)return this;if(e.nodeType){this.context=this[0]=e,this.length=1;return this}if(e==="body"&&!n&&E.body){this.context=E,this[0]=E.body,this.selector=e,this.length=1;return this}if(typeof e=="string"){e.charAt(0)!=="<"||e.charAt(e.length-1)!==">"||e.length<3?s=o.exec(e):s=[null,e,null];if(s&&(s[1]||!n)){if(s[1]){n=n instanceof i?n[0]:n,c=n?n.ownerDocument||n:E,l=f.exec(e),l?i.isPlainObject(n)?(e=[E.createElement(l[1])],i.fn.attr.call(e,n,!0)):e=[c.createElement(l[1])]:(l=i.buildFragment([s[1]],[c]),e=(l.cacheable?i.clone(l.fragment):l.fragment).childNodes);return i.merge(this,e)}a=E.getElementById(s[2]);if(a&&a.parentNode){if(a.id!==s[2])return r.find(e);this.length=1,this[0]=a}this.context=E,this.selector=e;return this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}if(i.isFunction(e))return r.ready(e);e.selector!==t&&(this.selector=e.selector,this.context=e.context);return i.makeArray(e,this)},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return M.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();i.isArray(e)?P.apply(r,e):i.merge(r,e),r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")");return r},each:function(e,t){return i.each(this,e,t)},ready:function(e){i.bindReady(),k.done(e);return this},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(M.apply(this,arguments),"slice",M.call(arguments).join(","))},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:P,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var e,n,r,s,a,o,l=arguments[0]||{},c=1,u=arguments.length,d=!1;typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),typeof l!="object"&&!i.isFunction(l)&&(l={}),u===c&&(l=this,--c);for(;c<u;c++)if((e=arguments[c])!=null)for(n in e){r=l[n],s=e[n];if(l===s)continue;d&&s&&(i.isPlainObject(s)||(a=i.isArray(s)))?(a?(a=!1,o=r&&i.isArray(r)?r:[]):o=r&&i.isPlainObject(r)?r:{},l[n]=i.extend(d,o,s)):s!==t&&(l[n]=s)}return l},i.extend({noConflict:function(t){e.$===i&&(e.$=s),t&&e.jQuery===i&&(e.jQuery=r);return i},isReady:!1,readyWait:1,holdReady:function(e){e?i.readyWait++:i.ready(!0)},ready:function(e){if(e===!0&&!--i.readyWait||e!==!0&&!i.isReady){if(!E.body)return setTimeout(i.ready,1);i.isReady=!0;if(e!==!0&&--i.readyWait>0)return;k.resolveWith(E,[i]),i.fn.trigger&&i(E).trigger("ready").unbind("ready")}},bindReady:function(){if(!k){k=i._Deferred();if(E.readyState==="complete")return setTimeout(i.ready,1);if(E.addEventListener)E.addEventListener("DOMContentLoaded",I,!1),e.addEventListener("load",i.ready,!1);else if(E.attachEvent){E.attachEvent("onreadystatechange",I),e.attachEvent("onload",i.ready);var t=!1;try{t=e.frameElement==null}catch(r){}E.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return i.type(e)==="function"},isArray:Array.isArray||function(e){return i.type(e)==="array"},isWindow:function(e){return e&&typeof e=="object"&&"setInterval"in e},isNaN:function(e){return e==null||!d.test(e)||isNaN(e)},type:function(e){return e==null?String(e):K[x.call(e)]||"object"},isPlainObject:function(e){if(!e||i.type(e)!=="object"||e.nodeType||i.isWindow(e))return!1;if(e.constructor&&!T.call(e,"constructor")&&!T.call(e.constructor.prototype,"isPrototypeOf"))return!1;var n;for(n in e);return n===t||T.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw e},parseJSON:function(t){if(typeof t!="string"||!t)return null;t=i.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(h.test(t.replace(p,"@").replace(m,"]").replace(g,"")))return new Function("return "+t)();i.error("Invalid JSON: "+t)},parseXML:function(t,n,r){e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t)),r=n.documentElement,(!r||!r.nodeName||r.nodeName==="parsererror")&&i.error("Invalid XML: "+t);return n},noop:function(){},globalEval:function(t){t&&l.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,A)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var s,a=0,o=e.length,l=o===t||i.isFunction(e);if(r){if(l){for(s in e)if(n.apply(e[s],r)===!1)break}else for(;a<o;)if(n.apply(e[a++],r)===!1)break}else if(l){for(s in e)if(n.call(e[s],s,e[s])===!1)break}else for(;a<o;)if(n.call(e[a],a,e[a++])===!1)break;return e},trim:B?function(e){return e==null?"":B.call(e)}:function(e){return e==null?"":(e+"").replace(c,"").replace(u,"")},makeArray:function(e,t){var n=t||[];if(e!=null){var r=i.type(e);e.length==null||r==="string"||r==="function"||r==="regexp"||i.isWindow(e)?P.call(n,e):i.merge(n,e)}return n},inArray:function(e,t){if(N)return N.call(t,e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},merge:function(e,n){var i=e.length,r=0;if(typeof n.length=="number")for(var s=n.length;r<s;r++)e[i++]=n[r];else while(n[r]!==t)e[i++]=n[r++];e.length=i;return e},grep:function(e,t,n){var i=[],r;n=!!n;for(var s=0,a=e.length;s<a;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var s,a,o=[],l=0,c=e.length,u=e instanceof i||c!==t&&typeof c=="number"&&(c>0&&e[0]&&e[c-1]||c===0||i.isArray(e));if(u)for(;l<c;l++)s=n(e[l],l,r),s!=null&&(o[o.length]=s);else for(a in e)s=n(e[a],a,r),s!=null&&(o[o.length]=s);return o.concat.apply([],o)},guid:1,proxy:function(e,n){if(typeof n=="string"){var r=e[n];n=e,e=r}if(!i.isFunction(e))return t;var s=M.call(arguments,2),a=function(){return e.apply(n,s.concat(M.call(arguments)))};a.guid=e.guid=e.guid||a.guid||i.guid++;return a},access:function(e,n,r,s,a,o){var l=e.length;if(typeof n=="object"){for(var c in n)i.access(e,c,n[c],s,a,r);return e}if(r!==t){s=!o&&s&&i.isFunction(r);for(var u=0;u<l;u++)a(e[u],n,s?r.call(e[u],u,a(e[u],n)):r,o);return e}return l?a(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=v.exec(e)||y.exec(e)||b.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}i.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){r&&r instanceof i&&!(r instanceof e)&&(r=e(r));return i.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(E);return e},browser:{}}),i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()}),_=i.uaMatch(S),_.browser&&(i.browser[_.browser]=!0,i.browser.version=_.version),i.browser.webkit&&(i.browser.safari=!0),l.test(" ")&&(c=/^[\s\xA0]+/,u=/[\s\xA0]+$/),a=i(E),E.addEventListener?I=function(){E.removeEventListener("DOMContentLoaded",I,!1),i.ready()}:E.attachEvent&&(I=function(){E.readyState==="complete"&&(E.detachEvent("onreadystatechange",I),i.ready())});return i}(),L="done fail isResolved isRejected promise then always pipe".split(" "),R=[].slice;K.extend({_Deferred:function(){var e=[],t,n,i,r={done:function(){if(!i){var n=arguments,s,a,o,l,c;t&&(c=t,t=0);for(s=0,a=n.length;s<a;s++)o=n[s],l=K.type(o),l==="array"?r.done.apply(r,o):l==="function"&&e.push(o);c&&r.resolveWith(c[0],c[1])}return this},resolveWith:function(r,s){if(!i&&!t&&!n){s=s||[],n=1;try{while(e[0])e.shift().apply(r,s)}finally{t=[r,s],n=0}}return this},resolve:function(){r.resolveWith(this,arguments);return this},isResolved:function(){return!!n||!!t},cancel:function(){i=1,e=[];return this}};return r},Deferred:function(e){var t=K._Deferred(),n=K._Deferred(),i;K.extend(t,{then:function(e,n){t.done(e).fail(n);return this},always:function(){return t.done.apply(t,arguments).fail.apply(this,arguments)},fail:n.done,rejectWith:n.resolveWith,reject:n.resolve,isRejected:n.isResolved,pipe:function(e,n){return K.Deferred(function(i){K.each({done:[e,"resolve"],fail:[n,"reject"]},function(e,n){var r=n[0],s=n[1],a;K.isFunction(r)?t[e](function(){a=r.apply(this,arguments),a&&K.isFunction(a.promise)?a.promise().then(i.resolve,i.reject):i[s](a)}):t[e](i[s])})}).promise()},promise:function(e){if(e==null){if(i)return i;i=e={}}var n=L.length;while(n--)e[L[n]]=t[L[n]];return e}}),t.done(n.cancel).fail(t.cancel),delete t.cancel,e&&e.call(t,t);return t},when:function(e){function t(e){return function(t){n[e]=arguments.length>1?R.call(arguments,0):t,--s||a.resolveWith(a,R.call(n,0))}}var n=arguments,i=0,r=n.length,s=r,a=r<=1&&e&&K.isFunction(e.promise)?e:K.Deferred();if(r>1){for(;i<r;i++)n[i]&&K.isFunction(n[i].promise)?n[i].promise().then(t(i),a.reject):--s;s||a.resolveWith(a,n)}else a!==e&&a.resolveWith(a,r?[e]:[]);return a.promise()}}),K.support=function(){var e=E.createElement("div"),t=E.documentElement,n,i,r,s,a,o,l,c,u,d,f,h,p,m,g,v,y;e.setAttribute("className","t"),e.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("*"),i=e.getElementsByTagName("a")[0];if(!n||!n.length||!i)return{};r=E.createElement("select"),s=r.appendChild(E.createElement("option")),a=e.getElementsByTagName("input")[0],l={leadingWhitespace:e.firstChild.nodeType===3,tbody:!e.getElementsByTagName("tbody").length,htmlSerialize:!!e.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.55$/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:a.value==="on",optSelected:s.selected,getSetAttribute:e.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},a.checked=!0,l.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,l.optDisabled=!s.disabled;try{delete e.test}catch(b){l.deleteExpando=!1}!e.addEventListener&&e.attachEvent&&e.fireEvent&&(e.attachEvent("onclick",function(){l.noCloneEvent=!1}),e.cloneNode(!0).fireEvent("onclick")),a=E.createElement("input"),a.value="t",a.setAttribute("type","radio"),l.radioValue=a.value==="t",a.setAttribute("checked","checked"),e.appendChild(a),c=E.createDocumentFragment(),c.appendChild(e.firstChild),l.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="",e.style.width=e.style.paddingLeft="1px",u=E.getElementsByTagName("body")[0],f=E.createElement(u?"div":"body"),h={visibility:"hidden",width:0,height:0,border:0,margin:0},u&&K.extend(h,{position:"absolute",left:-1e3,top:-1e3});for(v in h)f.style[v]=h[v];f.appendChild(e),d=u||t,d.insertBefore(f,d.firstChild),l.appendChecked=a.checked,l.boxModel=e.offsetWidth===2,"zoom"in e.style&&(e.style.display="inline",e.style.zoom=1,l.inlineBlockNeedsLayout=e.offsetWidth===2,e.style.display="",e.innerHTML="<div style='width:4px;'></div>",l.shrinkWrapBlocks=e.offsetWidth!==2),e.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",p=e.getElementsByTagName("td"),y=p[0].offsetHeight===0,p[0].style.display="",p[1].style.display="none",l.reliableHiddenOffsets=y&&p[0].offsetHeight===0,e.innerHTML="",E.defaultView&&E.defaultView.getComputedStyle&&(o=E.createElement("div"),o.style.width="0",o.style.marginRight="0",e.appendChild(o),l.reliableMarginRight=(parseInt((E.defaultView.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)===0),f.innerHTML="",d.removeChild(f);if(e.attachEvent)for(v in{submit:1,change:1,focusin:1})g="on"+v,y=g in e,y||(e.setAttribute(g,"return;"),y=typeof e[g]=="function"),l[v+"Bubbles"]=y;f=c=r=s=u=o=e=a=null;return l}(),K.boxModel=K.support.boxModel;var D=/^(?:\{.*\}|\[.*\])$/,F=/([a-z])([A-Z])/g;K.extend({cache:{},uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){e=e.nodeType?K.cache[e[K.expando]]:e[K.expando];return!!e&&!M(e)},data:function(e,n,i,r){if(!!K.acceptData(e)){var s=K.expando,a=typeof n=="string",o,l=e.nodeType,c=l?K.cache:e,u=l?e[K.expando]:e[K.expando]&&K.expando;if((!u||r&&u&&!c[u][s])&&a&&i===t)return;u||(l?e[K.expando]=u=++K.uuid:u=K.expando),c[u]||(c[u]={},l||(c[u].toJSON=K.noop));if(typeof n=="object"||typeof n=="function")r?c[u][s]=K.extend(c[u][s],n):c[u]=K.extend(c[u],n);o=c[u],r&&(o[s]||(o[s]={}),o=o[s]),i!==t&&(o[K.camelCase(n)]=i);if(n==="events"&&!o[n])return o[s]&&o[s].events;return a?o[K.camelCase(n)]||o[n]:o}},removeData:function(t,n,i){if(!!K.acceptData(t)){var r=K.expando,s=t.nodeType,a=s?K.cache:t,o=s?t[K.expando]:K.expando;if(!a[o])return;if(n){var l=i?a[o][r]:a[o];if(l){delete l[n];if(!M(l))return}}if(i){delete a[o][r];if(!M(a[o]))return}var c=a[o][r];K.support.deleteExpando||a!=e?delete a[o]:a[o]=null,c?(a[o]={},s||(a[o].toJSON=K.noop),a[o][r]=c):s&&(K.support.deleteExpando?delete t[K.expando]:t.removeAttribute?t.removeAttribute(K.expando):t[K.expando]=null)}},_data:function(e,t,n){return K.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=K.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),K.fn.extend({data:function(e,n){var i=null;if(typeof e=="undefined"){if(this.length){i=K.data(this[0]);if(this[0].nodeType===1){var r=this[0].attributes,s;for(var a=0,o=r.length;a<o;a++)s=r[a].name,s.indexOf("data-")===0&&(s=K.camelCase(s.substring(5)),B(this[0],s,i[s]))}}return i}if(typeof e=="object")return this.each(function(){K.data(this,e)});var l=e.split(".");l[1]=l[1]?"."+l[1]:"";if(n===t){i=this.triggerHandler("getData"+l[1]+"!",[l[0]]),i===t&&this.length&&(i=K.data(this[0],e),i=B(this[0],e,i));return i===t&&l[1]?this.data(l[0]):i}return this.each(function(){var t=K(this),i=[l[0],n];t.triggerHandler("setData"+l[1]+"!",i),K.data(this,e,n),t.triggerHandler("changeData"+l[1]+"!",i)})},removeData:function(e){return this.each(function(){K.removeData(this,e)})}}),K.extend({_mark:function(e,n){e&&(n=(n||"fx")+"mark",K.data(e,n,(K.data(e,n,t,!0)||0)+1,!0))},_unmark:function(e,n,i){e!==!0&&(i=n,n=e,e=!1);if(n){i=i||"fx";var r=i+"mark",s=e?0:(K.data(n,r,t,!0)||1)-1;s?K.data(n,r,s,!0):(K.removeData(n,r,!0),P(n,i,"mark"))}},queue:function(e,n,i){if(e){n=(n||"fx")+"queue";var r=K.data(e,n,t,!0);i&&(!r||K.isArray(i)?r=K.data(e,n,K.makeArray(i),!0):r.push(i));return r||[]}},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),i=n.shift(),r;i==="inprogress"&&(i=n.shift()),i&&(t==="fx"&&n.unshift("inprogress"),i.call(e,function(){K.dequeue(e,t)})),n.length||(K.removeData(e,t+"queue",!0),P(e,t,"queue"))}}),K.fn.extend({queue:function(e,n){typeof e!="string"&&(n=e,e="fx");if(n===t)return K.queue(this[0],e);return this.each(function(){var t=K.queue(this,e,n);e==="fx"&&t[0]!=="inprogress"&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},delay:function(e,t){e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx";return this.queue(t,function(){var n=this;setTimeout(function(){K.dequeue(n,t)},e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function i(){--o||r.resolveWith(s,[s])}typeof e!="string"&&(n=e,e=t),e=e||"fx";var r=K.Deferred(),s=this,a=s.length,o=1,l=e+"defer",c=e+"queue",u=e+"mark",d;while(a--)if(d=K.data(s[a],l,t,!0)||(K.data(s[a],c,t,!0)||K.data(s[a],u,t,!0))&&K.data(s[a],l,K._Deferred(),!0))o++,d.done(i);i();return r.promise()}});var $=/[\n\t\r]/g,O=/\s+/,U=/\r/g,j=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,H=/^a(?:rea)?$/i,q=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,G=/\:|^on/,W,J;K.fn.extend({attr:function(e,t){return K.access(this,e,t,!0,K.attr)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})},prop:function(e,t){return K.access(this,e,t,!0,K.prop)},removeProp:function(e){e=K.propFix[e]||e;return this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,s,a,o;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(O);for(n=0,i=this.length;n<i;n++){r=this[n];if(r.nodeType===1)if(!r.className&&t.length===1)r.className=e;else{s=" "+r.className+" ";for(a=0,o=t.length;a<o;a++)~s.indexOf(" "+t[a]+" ")||(s+=t[a]+" ");r.className=K.trim(s)}}}return this},removeClass:function(e){var n,i,r,s,a,o,l;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(O);for(i=0,r=this.length;i<r;i++){s=this[i];if(s.nodeType===1&&s.className)if(e){a=(" "+s.className+" ").replace($," ");for(o=0,l=n.length;o<l;o++)a=a.replace(" "+n[o]+" "," ");s.className=K.trim(a)}else s.className=""}}return this},toggleClass:function(e,t){var n=typeof e,i=typeof t=="boolean";if(K.isFunction(e))return this.each(function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)});return this.each(function(){if(n==="string"){var r,s=0,a=K(this),o=t,l=e.split(O);while(r=l[s++])o=i?o:!a.hasClass(r),a[o?"addClass":"removeClass"](r)}else if(n==="undefined"||n==="boolean")this.className&&K._data(this,"__className__",this.className),this.className=this.className||e===!1?"":K._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ";for(var n=0,i=this.length;n<i;n++)if((" "+this[n].className+" ").replace($," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,r=this[0];if(!arguments.length){if(r){n=K.valHooks[r.nodeName.toLowerCase()]||K.valHooks[r.type];if(n&&"get"in n&&(i=n.get(r,"value"))!==t)return i;i=r.value;return typeof i=="string"?i.replace(U,""):i==null?"":i}return t}var s=K.isFunction(e);return this.each(function(i){var r=K(this),a;if(this.nodeType===1){s?a=e.call(this,i,r.val()):a=e,a==null?a="":typeof a=="number"?a+="":K.isArray(a)&&(a=K.map(a,function(e){return e==null?"":e+""})),n=K.valHooks[this.nodeName.toLowerCase()]||K.valHooks[this.type];if(!n||!("set"in n)||n.set(this,a,"value")===t)this.value=a}})}}),K.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n=e.selectedIndex,i=[],r=e.options,s=e.type==="select-one";if(n<0)return null;for(var a=s?n:0,o=s?n+1:r.length;a<o;a++){var l=r[a];if(l.selected&&(K.support.optDisabled?!l.disabled:l.getAttribute("disabled")===null)&&(!l.parentNode.disabled||!K.nodeName(l.parentNode,"optgroup"))){t=K(l).val();if(s)return t;i.push(t)}}if(s&&!i.length&&r.length)return K(r[n]).val();return i},set:function(e,t){var n=K.makeArray(t);K(e).find("option").each(function(){this.selected=K.inArray(K(this).val(),n)>=0}),n.length||(e.selectedIndex=-1);return n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(e,n,i,r){var s=e.nodeType;if(!e||s===3||s===8||s===2)return t;if(r&&n in K.attrFn)return K(e)[n](i);if(!("getAttribute"in e))return K.prop(e,n,i);var a,o,l=s!==1||!K.isXMLDoc(e);l&&(n=K.attrFix[n]||n,o=K.attrHooks[n],o||(q.test(n)?o=J:W&&n!=="className"&&(K.nodeName(e,"form")||G.test(n))&&(o=W)));if(i!==t){if(i===null){K.removeAttr(e,n);return t}if(o&&"set"in o&&l&&(a=o.set(e,i,n))!==t)return a;
    e.setAttribute(n,""+i);return i}if(o&&"get"in o&&l&&(a=o.get(e,n))!==null)return a;a=e.getAttribute(n);return a===null?t:a},removeAttr:function(e,t){var n;e.nodeType===1&&(t=K.attrFix[t]||t,K.support.getSetAttribute?e.removeAttribute(t):(K.attr(e,t,""),e.removeAttributeNode(e.getAttributeNode(t))),q.test(t)&&(n=K.propFix[t]||t)in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(j.test(e.nodeName)&&e.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&t==="radio"&&K.nodeName(e,"input")){var n=e.value;e.setAttribute("type",t),n&&(e.value=n);return t}}},tabIndex:{get:function(e){var n=e.getAttributeNode("tabIndex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||H.test(e.nodeName)&&e.href?0:t}},value:{get:function(e,t){if(W&&K.nodeName(e,"button"))return W.get(e,t);return t in e?e.value:null},set:function(e,t,n){if(W&&K.nodeName(e,"button"))return W.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r=e.nodeType;if(!e||r===3||r===8||r===2)return t;var s,a,o=r!==1||!K.isXMLDoc(e);o&&(n=K.propFix[n]||n,a=K.propHooks[n]);return i!==t?a&&"set"in a&&(s=a.set(e,i,n))!==t?s:e[n]=i:a&&"get"in a&&(s=a.get(e,n))!==t?s:e[n]},propHooks:{}}),J={get:function(e,n){return K.prop(e,n)?n.toLowerCase():t},set:function(e,t,n){var i;t===!1?K.removeAttr(e,n):(i=K.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase()));return n}},K.support.getSetAttribute||(K.attrFix=K.propFix,W=K.attrHooks.name=K.attrHooks.title=K.valHooks.button={get:function(e,n){var i;i=e.getAttributeNode(n);return i&&i.nodeValue!==""?i.nodeValue:t},set:function(e,t,n){var i=e.getAttributeNode(n);if(i){i.nodeValue=t;return t}}},K.each(["width","height"],function(e,t){K.attrHooks[t]=K.extend(K.attrHooks[t],{set:function(e,n){if(n===""){e.setAttribute(t,"auto");return n}}})})),K.support.hrefNormalized||K.each(["href","src","width","height"],function(e,n){K.attrHooks[n]=K.extend(K.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return i===null?t:i}})}),K.support.style||(K.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}})),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(e,t){if(K.isArray(t))return e.checked=K.inArray(K(e).val(),t)>=0}})});var Q=/\.(.*)$/,X=/^(?:textarea|input|select)$/i,Y=/\./g,Z=/ /g,et=/[^\w\s.|`]/g,tt=function(e){return e.replace(et,"\\$&")};K.event={add:function(e,n,i,r){if(e.nodeType!==3&&e.nodeType!==8){if(i===!1)i=T;else if(!i)return;var s,a;i.handler&&(s=i,i=s.handler),i.guid||(i.guid=K.guid++);var o=K._data(e);if(!o)return;var l=o.events,c=o.handle;l||(o.events=l={}),c||(o.handle=c=function(e){return typeof K!="undefined"&&(!e||K.event.triggered!==e.type)?K.event.handle.apply(c.elem,arguments):t}),c.elem=e,n=n.split(" ");var u,d=0,f;while(u=n[d++]){a=s?K.extend({},s):{handler:i,data:r},u.indexOf(".")>-1?(f=u.split("."),u=f.shift(),a.namespace=f.slice(0).sort().join(".")):(f=[],a.namespace=""),a.type=u,a.guid||(a.guid=i.guid);var h=l[u],p=K.event.special[u]||{};if(!h){h=l[u]=[];if(!p.setup||p.setup.call(e,r,f,c)===!1)e.addEventListener?e.addEventListener(u,c,!1):e.attachEvent&&e.attachEvent("on"+u,c)}p.add&&(p.add.call(e,a),a.handler.guid||(a.handler.guid=i.guid)),h.push(a),K.event.global[u]=!0}e=null}},global:{},remove:function(e,n,i,r){if(e.nodeType!==3&&e.nodeType!==8){i===!1&&(i=T);var s,a,o,l,c=0,u,d,f,h,p,m,g,v=K.hasData(e)&&K._data(e),y=v&&v.events;if(!v||!y)return;n&&n.type&&(i=n.handler,n=n.type);if(!n||typeof n=="string"&&n.charAt(0)==="."){n=n||"";for(a in y)K.event.remove(e,a+n);return}n=n.split(" ");while(a=n[c++]){g=a,m=null,u=a.indexOf(".")<0,d=[],u||(d=a.split("."),a=d.shift(),f=new RegExp("(^|\\.)"+K.map(d.slice(0).sort(),tt).join("\\.(?:.*\\.)?")+"(\\.|$)")),p=y[a];if(!p)continue;if(!i){for(l=0;l<p.length;l++){m=p[l];if(u||f.test(m.namespace))K.event.remove(e,g,m.handler,l),p.splice(l--,1)}continue}h=K.event.special[a]||{};for(l=r||0;l<p.length;l++){m=p[l];if(i.guid===m.guid){if(u||f.test(m.namespace))r==null&&p.splice(l--,1),h.remove&&h.remove.call(e,m);if(r!=null)break}}if(p.length===0||r!=null&&p.length===1)(!h.teardown||h.teardown.call(e,d)===!1)&&K.removeEvent(e,a,v.handle),s=null,delete y[a]}if(K.isEmptyObject(y)){var b=v.handle;b&&(b.elem=null),delete v.events,delete v.handle,K.isEmptyObject(v)&&K.removeData(e,t,!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,s){var a=n.type||n,o=[],l;a.indexOf("!")>=0&&(a=a.slice(0,-1),l=!0),a.indexOf(".")>=0&&(o=a.split("."),a=o.shift(),o.sort());if(!!r&&!K.event.customEvent[a]||!!K.event.global[a]){n=typeof n=="object"?n[K.expando]?n:new K.Event(a,n):new K.Event(a),n.type=a,n.exclusive=l,n.namespace=o.join("."),n.namespace_re=new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.)?")+"(\\.|$)");if(s||!r)n.preventDefault(),n.stopPropagation();if(!r){K.each(K.cache,function(){var e=K.expando,t=this[e];t&&t.events&&t.events[a]&&K.event.trigger(n,i,t.handle.elem)});return}if(r.nodeType===3||r.nodeType===8)return;n.result=t,n.target=r,i=i!=null?K.makeArray(i):[],i.unshift(n);var c=r,u=a.indexOf(":")<0?"on"+a:"";do{var d=K._data(c,"handle");n.currentTarget=c,d&&d.apply(c,i),u&&K.acceptData(c)&&c[u]&&c[u].apply(c,i)===!1&&(n.result=!1,n.preventDefault()),c=c.parentNode||c.ownerDocument||c===n.target.ownerDocument&&e}while(c&&!n.isPropagationStopped());if(!n.isDefaultPrevented()){var f,h=K.event.special[a]||{};if((!h._default||h._default.call(r.ownerDocument,n)===!1)&&(a!=="click"||!K.nodeName(r,"a"))&&K.acceptData(r)){try{u&&r[a]&&(f=r[u],f&&(r[u]=null),K.event.triggered=a,r[a]())}catch(p){}f&&(r[u]=f),K.event.triggered=t}}return n.result}},handle:function(n){n=K.event.fix(n||e.event);var i=((K._data(this,"events")||{})[n.type]||[]).slice(0),r=!n.exclusive&&!n.namespace,s=Array.prototype.slice.call(arguments,0);s[0]=n,n.currentTarget=this;for(var a=0,o=i.length;a<o;a++){var l=i[a];if(r||n.namespace_re.test(l.namespace)){n.handler=l.handler,n.data=l.data,n.handleObj=l;var c=l.handler.apply(this,s);c!==t&&(n.result=c,c===!1&&(n.preventDefault(),n.stopPropagation()));if(n.isImmediatePropagationStopped())break}}return n.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[K.expando])return e;var n=e;e=K.Event(n);for(var i=this.props.length,r;i;)r=this.props[--i],e[r]=n[r];e.target||(e.target=e.srcElement||E),e.target.nodeType===3&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement);if(e.pageX==null&&e.clientX!=null){var s=e.target.ownerDocument||E,a=s.documentElement,o=s.body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which==null&&(e.charCode!=null||e.keyCode!=null)&&(e.which=e.charCode!=null?e.charCode:e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button!==t&&(e.which=e.button&1?1:e.button&2?3:e.button&4?2:0);return e},guid:1e8,proxy:K.proxy,special:{ready:{setup:K.bindReady,teardown:K.noop},live:{add:function(e){K.event.add(this,_(e.origType,e.selector),K.extend({},e,{handler:k,guid:e.handler.guid}))},remove:function(e){K.event.remove(this,_(e.origType,e.selector),e)}},beforeunload:{setup:function(e,t,n){K.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}}},K.removeEvent=E.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},K.Event=function(e,t){if(!this.preventDefault)return new K.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?x:T):this.type=e,t&&K.extend(this,t),this.timeStamp=K.now(),this[K.expando]=!0},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=x;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=x;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=x,this.stopPropagation()},isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T};var nt=function(e){var t=e.relatedTarget,n=!1,i=e.type;e.type=e.data,t!==this&&(t&&(n=K.contains(this,t)),n||(K.event.handle.apply(this,arguments),e.type=i))},it=function(e){e.type=e.data,K.event.handle.apply(this,arguments)};K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){K.event.special[e]={setup:function(n){K.event.add(this,t,n&&n.selector?it:nt,e)},teardown:function(e){K.event.remove(this,t,e&&e.selector?it:nt)}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(e,t){if(!K.nodeName(this,"form"))K.event.add(this,"click.specialSubmit",function(e){var t=e.target,n=t.type;(n==="submit"||n==="image")&&K(t).closest("form").length&&I("submit",this,arguments)}),K.event.add(this,"keypress.specialSubmit",function(e){var t=e.target,n=t.type;(n==="text"||n==="password")&&K(t).closest("form").length&&e.keyCode===13&&I("submit",this,arguments)});else return!1},teardown:function(e){K.event.remove(this,".specialSubmit")}});if(!K.support.changeBubbles){var rt,st=function(e){var t=e.type,n=e.value;t==="radio"||t==="checkbox"?n=e.checked:t==="select-multiple"?n=e.selectedIndex>-1?K.map(e.options,function(e){return e.selected}).join("-"):"":K.nodeName(e,"select")&&(n=e.selectedIndex);return n},at=function(e){var n=e.target,i,r;if(!!X.test(n.nodeName)&&!n.readOnly){i=K._data(n,"_change_data"),r=st(n),(e.type!=="focusout"||n.type!=="radio")&&K._data(n,"_change_data",r);if(i===t||r===i)return;if(i!=null||r)e.type="change",e.liveFired=t,K.event.trigger(e,arguments[1],n)}};K.event.special.change={filters:{focusout:at,beforedeactivate:at,click:function(e){var t=e.target,n=K.nodeName(t,"input")?t.type:"";(n==="radio"||n==="checkbox"||K.nodeName(t,"select"))&&at.call(this,e)},keydown:function(e){var t=e.target,n=K.nodeName(t,"input")?t.type:"";(e.keyCode===13&&!K.nodeName(t,"textarea")||e.keyCode===32&&(n==="checkbox"||n==="radio")||n==="select-multiple")&&at.call(this,e)},beforeactivate:function(e){var t=e.target;K._data(t,"_change_data",st(t))}},setup:function(e,t){if(this.type==="file")return!1;for(var n in rt)K.event.add(this,n+".specialChange",rt[n]);return X.test(this.nodeName)},teardown:function(e){K.event.remove(this,".specialChange");return X.test(this.nodeName)}},rt=K.event.special.change.filters,rt.focus=rt.beforeactivate}K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){var n=K.event.fix(e);n.type=t,n.originalEvent={},K.event.trigger(n,null,n.target),n.isDefaultPrevented()&&e.preventDefault()}var i=0;K.event.special[t]={setup:function(){i++===0&&E.addEventListener(e,n,!0)},teardown:function(){--i===0&&E.removeEventListener(e,n,!0)}}}),K.each(["bind","one"],function(e,n){K.fn[n]=function(e,i,r){var s;if(typeof e=="object"){for(var a in e)this[n](a,i,e[a],r);return this}if(arguments.length===2||i===!1)r=i,i=t;n==="one"?(s=function(e){K(this).unbind(e,s);return r.apply(this,arguments)},s.guid=r.guid||K.guid++):s=r;if(e==="unload"&&n!=="one")this.one(e,i,r);else for(var o=0,l=this.length;o<l;o++)K.event.add(this[o],e,s,i);return this}}),K.fn.extend({unbind:function(e,t){if(typeof e=="object"&&!e.preventDefault)for(var n in e)this.unbind(n,e[n]);else for(var i=0,r=this.length;i<r;i++)K.event.remove(this[i],e,t);return this},delegate:function(e,t,n,i){return this.live(t,n,i,e)},undelegate:function(e,t,n){return arguments.length===0?this.unbind("live"):this.die(t,null,n,e)},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return K.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||K.guid++,i=0,r=function(n){var r=(K.data(this,"lastToggle"+e.guid)||0)%i;K.data(this,"lastToggle"+e.guid,r+1),n.preventDefault();return t[r].apply(this,arguments)||!1};r.guid=n;while(i<t.length)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var ot={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};K.each(["live","die"],function(e,n){K.fn[n]=function(e,i,r,s){var a,o=0,l,c,u,d=s||this.selector,f=s?this:K(this.context);if(typeof e=="object"&&!e.preventDefault){for(var h in e)f[n](h,i,e[h],d);return this}if(n==="die"&&!e&&s&&s.charAt(0)==="."){f.unbind(s);return this}if(i===!1||K.isFunction(i))r=i||T,i=t;e=(e||"").split(" ");while((a=e[o++])!=null){l=Q.exec(a),c="",l&&(c=l[0],a=a.replace(Q,""));if(a==="hover"){e.push("mouseenter"+c,"mouseleave"+c);continue}u=a,ot[a]?(e.push(ot[a]+c),a=a+c):a=(ot[a]||a)+c;if(n==="live")for(var p=0,m=f.length;p<m;p++)K.event.add(f[p],"live."+_(a,d),{data:i,selector:d,handler:r,origType:a,origHandler:r,preType:u});else f.unbind("live."+_(a,d),r)}return this}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(e,t){K.fn[t]=function(e,n){n==null&&(n=e,e=null);return arguments.length>0?this.bind(t,e,n):this.trigger(t)},K.attrFn&&(K.attrFn[t]=!0)}),function(){function e(e,t,n,i,r,s){for(var a=0,o=i.length;a<o;a++){var l=i[a];if(l){var c=!1;l=l[e];while(l){if(l.sizcache===n){c=i[l.sizset];break}if(l.nodeType===1){s||(l.sizcache=n,l.sizset=a);if(typeof t!="string"){if(l===t){c=!0;break}}else if(u.filter(t,[l]).length>0){c=l;break}}l=l[e]}i[a]=c}}}function n(e,t,n,i,r,s){for(var a=0,o=i.length;a<o;a++){var l=i[a];if(l){var c=!1;l=l[e];while(l){if(l.sizcache===n){c=i[l.sizset];break}l.nodeType===1&&!s&&(l.sizcache=n,l.sizset=a);if(l.nodeName.toLowerCase()===t){c=l;break}l=l[e]}i[a]=c}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=0,s=Object.prototype.toString,a=!1,o=!0,l=/\\/g,c=/\W/;[0,0].sort(function(){o=!1;return 0});var u=function(e,t,n,r){n=n||[],t=t||E;var a=t;if(t.nodeType!==1&&t.nodeType!==9)return[];if(!e||typeof e!="string")return n;var o,l,c,h,p,g,v,y,w=!0,C=u.isXML(t),A=[],S=e;do{i.exec(""),o=i.exec(S);if(o){S=o[3],A.push(o[1]);if(o[2]){h=o[3];break}}}while(o);if(A.length>1&&f.exec(e))if(A.length===2&&d.relative[A[0]])l=b(A[0]+A[1],t);else{l=d.relative[A[0]]?[t]:u(A.shift(),t);while(A.length)e=A.shift(),d.relative[e]&&(e+=A.shift()),l=b(e,l)}else{!r&&A.length>1&&t.nodeType===9&&!C&&d.match.ID.test(A[0])&&!d.match.ID.test(A[A.length-1])&&(p=u.find(A.shift(),t,C),t=p.expr?u.filter(p.expr,p.set)[0]:p.set[0]);if(t){p=r?{expr:A.pop(),set:m(r)}:u.find(A.pop(),A.length===1&&(A[0]==="~"||A[0]==="+")&&t.parentNode?t.parentNode:t,C),l=p.expr?u.filter(p.expr,p.set):p.set,A.length>0?c=m(l):w=!1;while(A.length)g=A.pop(),v=g,d.relative[g]?v=A.pop():g="",v==null&&(v=t),d.relative[g](c,v,C)}else c=A=[]}c||(c=l),c||u.error(g||e);if(s.call(c)==="[object Array]")if(!w)n.push.apply(n,c);else if(t&&t.nodeType===1)for(y=0;c[y]!=null;y++)c[y]&&(c[y]===!0||c[y].nodeType===1&&u.contains(t,c[y]))&&n.push(l[y]);else for(y=0;c[y]!=null;y++)c[y]&&c[y].nodeType===1&&n.push(l[y]);else m(c,n);h&&(u(h,a,n,r),u.uniqueSort(n));return n};u.uniqueSort=function(e){if(v){a=o,e.sort(v);if(a)for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)}return e},u.matches=function(e,t){return u(e,null,null,t)},u.matchesSelector=function(e,t){return u(t,null,null,[e]).length>0},u.find=function(e,t,n){var i;if(!e)return[];for(var r=0,s=d.order.length;r<s;r++){var a,o=d.order[r];if(a=d.leftMatch[o].exec(e)){var c=a[1];a.splice(1,1);if(c.substr(c.length-1)!=="\\"){a[1]=(a[1]||"").replace(l,""),i=d.find[o](a,t,n);if(i!=null){e=e.replace(d.match[o],"");break}}}}i||(i=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]);return{set:i,expr:e}},u.filter=function(e,n,i,r){var s,a,o=e,l=[],c=n,f=n&&n[0]&&u.isXML(n[0]);while(e&&n.length){for(var h in d.filter)if((s=d.leftMatch[h].exec(e))!=null&&s[2]){var p,m,g=d.filter[h],v=s[1];a=!1,s.splice(1,1);if(v.substr(v.length-1)==="\\")continue;c===l&&(l=[]);if(d.preFilter[h]){s=d.preFilter[h](s,c,i,l,r,f);if(!s)a=p=!0;else if(s===!0)continue}if(s)for(var y=0;(m=c[y])!=null;y++)if(m){p=g(m,s,y,c);var b=r^!!p;i&&p!=null?b?a=!0:c[y]=!1:b&&(l.push(m),a=!0)}if(p!==t){i||(c=l),e=e.replace(d.match[h],"");if(!a)return[];break}}if(e===o)if(a==null)u.error(e);else break;o=e}return c},u.error=function(e){throw"Syntax error, unrecognized expression: "+e};var d=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n=typeof t=="string",i=n&&!c.test(t),r=n&&!i;i&&(t=t.toLowerCase());for(var s=0,a=e.length,o;s<a;s++)if(o=e[s]){while((o=o.previousSibling)&&o.nodeType!==1);e[s]=r||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}r&&u.filter(t,e,!0)},">":function(e,t){var n,i=typeof t=="string",r=0,s=e.length;if(i&&!c.test(t)){t=t.toLowerCase();for(;r<s;r++){n=e[r];if(n){var a=n.parentNode;e[r]=a.nodeName.toLowerCase()===t?a:!1}}}else{for(;r<s;r++)n=e[r],n&&(e[r]=i?n.parentNode:n.parentNode===t);i&&u.filter(t,e,!0)}},"":function(t,i,s){var a,o=r++,l=e;typeof i=="string"&&!c.test(i)&&(i=i.toLowerCase(),a=i,l=n),l("parentNode",i,o,t,a,s)},"~":function(t,i,s){var a,o=r++,l=e;typeof i=="string"&&!c.test(i)&&(i=i.toLowerCase(),a=i,l=n),l("previousSibling",i,o,t,a,s)}},find:{ID:function(e,t,n){if(typeof t.getElementById!="undefined"&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if(typeof t.getElementsByName!="undefined"){var n=[],i=t.getElementsByName(e[1]);for(var r=0,s=i.length;r<s;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return n.length===0?null:n}},TAG:function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,r,s){e=" "+e[1].replace(l,"")+" ";if(s)return e;for(var a=0,o;(o=t[a])!=null;a++)o&&(r^(o.className&&(" "+o.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(o):n&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(l,"")},TAG:function(e,t){return e[1].replace(l,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){e[2]||u.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&u.error(e[0]);e[0]=r++;return e},ATTR:function(e,t,n,i,r,s){var a=e[1]=e[1].replace(l,"");!s&&d.attrMap[a]&&(e[1]=d.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(l,""),e[2]==="~="&&(e[4]=" "+e[4]+" ");return e},PSEUDO:function(e,t,n,r,s){if(e[1]==="not")if((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))e[3]=u(e[3],null,null,t);else{var a=u.filter(e[3],t,n,!0^s);n||r.push.apply(r,a);return!1}else if(d.match.POS.test(e[0])||d.match.CHILD.test(e[0]))return!0;return e},POS:function(e){e.unshift(!0);return e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){e.parentNode&&e.parentNode.selectedIndex;return e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!u(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===n&&(t===n||t===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&"button"===e.type||t==="button"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return t===0},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],s=d.filters[r];if(s)return s(e,n,t,i);if(r==="contains")return(e.textContent||e.innerText||u.getText([e])||"").indexOf(t[3])>=0;if(r==="not"){var a=t[3];for(var o=0,l=a.length;o<l;o++)if(a[o]===e)return!1;return!0}u.error(r)},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":while(i=i.previousSibling)if(i.nodeType===1)return!1;if(n==="first")return!0;i=e;case"last":while(i=i.nextSibling)if(i.nodeType===1)return!1;return!0;case"nth":var r=t[2],s=t[3];if(r===1&&s===0)return!0;var a=t[0],o=e.parentNode;if(o&&(o.sizcache!==a||!e.nodeIndex)){var l=0;for(i=o.firstChild;i;i=i.nextSibling)i.nodeType===1&&(i.nodeIndex=++l);o.sizcache=a}var c=e.nodeIndex-s;return r===0?c===0:c%r===0&&c/r>=0}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return t==="*"&&e.nodeType===1||e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=d.attrHandle[n]?d.attrHandle[n](e):e[n]!=null?e[n]:e.getAttribute(n),r=i+"",s=t[2],a=t[4];return i==null?s==="!=":s==="="?r===a:s==="*="?r.indexOf(a)>=0:s==="~="?(" "+r+" ").indexOf(a)>=0:a?s==="!="?r!==a:s==="^="?r.indexOf(a)===0:s==="$="?r.substr(r.length-a.length)===a:s==="|="?r===a||r.substr(0,a.length+1)===a+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],s=d.setFilters[r];if(s)return s(e,n,t,i)}}},f=d.match.POS,h=function(e,t){return"\\"+(t-0+1)};for(var p in d.match)d.match[p]=new RegExp(d.match[p].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[p]=new RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[p].source.replace(/\\(\d+)/g,h));var m=function(e,t){e=Array.prototype.slice.call(e,0);if(t){t.push.apply(t,e);return t}return e};try{Array.prototype.slice.call(E.documentElement.childNodes,0)[0].nodeType}catch(g){m=function(e,t){var n=0,i=t||[];if(s.call(e)==="[object Array]")Array.prototype.push.apply(i,e);else if(typeof e.length=="number")for(var r=e.length;n<r;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var v,y;E.documentElement.compareDocumentPosition?v=function(e,t){if(e===t){a=!0;return 0}if(!e.compareDocumentPosition||!t.compareDocumentPosition)return e.compareDocumentPosition?-1:1;return e.compareDocumentPosition(t)&4?-1:1}:(v=function(e,t){if(e===t){a=!0;return 0}if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],s=[],o=e.parentNode,l=t.parentNode,c=o;if(o===l)return y(e,t);if(!o)return-1;if(!l)return 1;while(c)r.unshift(c),c=c.parentNode;c=l;while(c)s.unshift(c),c=c.parentNode;n=r.length,i=s.length;for(var u=0;u<n&&u<i;u++)if(r[u]!==s[u])return y(r[u],s[u]);return u===n?y(e,s[u],-1):y(r[u],t,1)},y=function(e,t,n){if(e===t)return n;var i=e.nextSibling;while(i){if(i===t)return-1;i=i.nextSibling}return 1}),u.getText=function(e){var t="",n;for(var i=0;e[i];i++)n=e[i],n.nodeType===3||n.nodeType===4?t+=n.nodeValue:n.nodeType!==8&&(t+=u.getText(n.childNodes));return t},function(){var e=E.createElement("div"),n="script"+(new Date).getTime(),i=E.documentElement;e.innerHTML="<a name='"+n+"'/>",i.insertBefore(e,i.firstChild),E.getElementById(n)&&(d.find.ID=function(e,n,i){if(typeof n.getElementById!="undefined"&&!i){var r=n.getElementById(e[1]);return r?r.id===e[1]||typeof r.getAttributeNode!="undefined"&&r.getAttributeNode("id").nodeValue===e[1]?[r]:t:[]}},d.filter.ID=function(e,t){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=E.createElement("div");e.appendChild(E.createComment("")),e.getElementsByTagName("*").length>0&&(d.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if(e[1]==="*"){var i=[];for(var r=0;n[r];r++)n[r].nodeType===1&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(d.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),E.querySelectorAll&&function(){var e=u,t=E.createElement("div"),n="__sizzle__";t.innerHTML="<p class='TEST'></p>";if(!t.querySelectorAll||t.querySelectorAll(".TEST").length!==0){u=function(t,i,r,s){i=i||E;if(!s&&!u.isXML(i)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(i.nodeType===1||i.nodeType===9)){if(a[1])return m(i.getElementsByTagName(t),r);if(a[2]&&d.find.CLASS&&i.getElementsByClassName)return m(i.getElementsByClassName(a[2]),r)}if(i.nodeType===9){if(t==="body"&&i.body)return m([i.body],r);if(a&&a[3]){var o=i.getElementById(a[3]);if(!o||!o.parentNode)return m([],r);if(o.id===a[3])return m([o],r)}try{return m(i.querySelectorAll(t),r)}catch(l){}}else if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){var c=i,f=i.getAttribute("id"),h=f||n,p=i.parentNode,g=/^\s*[+~]/.test(t);f?h=h.replace(/'/g,"\\$&"):i.setAttribute("id",h),g&&p&&(i=i.parentNode);try{if(!g||p)return m(i.querySelectorAll("[id='"+h+"'] "+t),r)}catch(v){}finally{f||c.removeAttribute("id")}}}return e(t,i,r,s)};for(var i in e)u[i]=e[i];t=null}}(),function(){var e=E.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(E.createElement("div"),"div"),i=!1;try{t.call(E.documentElement,"[test!='']:sizzle")}catch(r){i=!0}u.matchesSelector=function(e,r){r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!u.isXML(e))try{if(i||!d.match.PSEUDO.test(r)&&!/!=/.test(r)){var s=t.call(e,r);if(s||!n||e.document&&e.document.nodeType!==11)return s}}catch(a){}return u(r,null,null,[e]).length>0}}}(),function(){var e=E.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!e.getElementsByClassName&&e.getElementsByClassName("e").length!==0){e.lastChild.className="e";if(e.getElementsByClassName("e").length===1)return;d.order.splice(1,0,"CLASS"),d.find.CLASS=function(e,t,n){if(typeof t.getElementsByClassName!="undefined"&&!n)return t.getElementsByClassName(e[1])},e=null}}(),E.documentElement.contains?u.contains=function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:E.documentElement.compareDocumentPosition?u.contains=function(e,t){return!!(e.compareDocumentPosition(t)&16)}:u.contains=function(){return!1},u.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1};var b=function(e,t){var n,i=[],r="",s=t.nodeType?[t]:t;while(n=d.match.PSEUDO.exec(e))r+=n[0],e=e.replace(d.match.PSEUDO,"");e=d.relative[e]?e+"*":e;for(var a=0,o=s.length;a<o;a++)u(e,s[a],i);return u.filter(r,i)};K.find=u,K.expr=u.selectors,K.expr[":"]=K.expr.filters,K.unique=u.uniqueSort,K.text=u.getText,K.isXMLDoc=u.isXML,K.contains=u.contains}();var lt=/Until$/,ct=/^(?:parents|prevUntil|prevAll)/,ut=/,/,dt=/^.[^:#\[\.,]*$/,ft=Array.prototype.slice,ht=K.expr.match.POS,pt={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(e){var t=this,n,i;if(typeof e!="string")return K(e).filter(function(){for(n=0,i=t.length;n<i;n++)if(K.contains(t[n],this))return!0});var r=this.pushStack("","find",e),s,a,o;for(n=0,i=this.length;n<i;n++){s=r.length,K.find(e,this[n],r);if(n>0)for(a=s;a<r.length;a++)for(o=0;o<s;o++)if(r[o]===r[a]){r.splice(a--,1);break}}return r},has:function(e){var t=K(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(K.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(A(this,e,!1),"not",e)},filter:function(e){return this.pushStack(A(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?K.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n=[],i,r,s=this[0];if(K.isArray(e)){var a,o,l={},c=1;if(s&&e.length){for(i=0,r=e.length;i<r;i++)o=e[i],l[o]||(l[o]=ht.test(o)?K(o,t||this.context):o);while(s&&s.ownerDocument&&s!==t){for(o in l)a=l[o],(a.jquery?a.index(s)>-1:K(s).is(a))&&n.push({selector:o,elem:s,level:c});s=s.parentNode,c++}}return n}var u=ht.test(e)||typeof e!="string"?K(e,t||this.context):0;for(i=0,r=this.length;i<r;i++){s=this[i];while(s){if(u?u.index(s)>-1:K.find.matchesSelector(s,e)){n.push(s);break}s=s.parentNode;if(!s||!s.ownerDocument||s===t||s.nodeType===11)break}}n=n.length>1?K.unique(n):n;return this.pushStack(n,"closest",e)},index:function(e){if(!e||typeof e=="string")return K.inArray(this[0],e?K(e):this.parent().children());return K.inArray(e.jquery?e[0]:e,this)},add:function(e,t){var n=typeof e=="string"?K(e,t):K.makeArray(e&&e.nodeType?[e]:e),i=K.merge(this.get(),n);return this.pushStack(S(n[0])||S(i[0])?i:K.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),K.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return K.nth(e,2,"nextSibling")},prev:function(e){return K.nth(e,2,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling(e.parentNode.firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return K.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:K.makeArray(e.childNodes)}},function(e,t){K.fn[e]=function(n,i){var r=K.map(this,t,n),s=ft.call(arguments);lt.test(e)||(i=n),i&&typeof i=="string"&&(r=K.filter(i,r)),r=this.length>1&&!pt[e]?K.unique(r):r,(this.length>1||ut.test(i))&&ct.test(e)&&(r=r.reverse());return this.pushStack(r,e,s.join(","))}}),K.extend({filter:function(e,t,n){n&&(e=":not("+e+")");
    return t.length===1?K.find.matchesSelector(t[0],e)?[t[0]]:[]:K.find.matches(e,t)},dir:function(e,n,i){var r=[],s=e[n];while(s&&s.nodeType!==9&&(i===t||s.nodeType!==1||!K(s).is(i)))s.nodeType===1&&r.push(s),s=s[n];return r},nth:function(e,t,n,i){t=t||1;var r=0;for(;e;e=e[n])if(e.nodeType===1&&++r===t)break;return e},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var mt=/ jQuery\d+="(?:\d+|null)"/g,gt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yt=/<([\w:]+)/,bt=/<tbody/i,wt=/<|&#?\w+;/,Ct=/<(?:script|object|embed|option|style)/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/\/(java|ecma)script/i,_t=/^\s*<!(?:\[CDATA\[|\-\-)/,kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};kt.optgroup=kt.option,kt.tbody=kt.tfoot=kt.colgroup=kt.caption=kt.thead,kt.th=kt.td,K.support.htmlSerialize||(kt._default=[1,"div<div>","</div>"]),K.fn.extend({text:function(e){if(K.isFunction(e))return this.each(function(t){var n=K(this);n.text(e.call(this,t,n.text()))});if(typeof e!="object"&&e!==t)return this.empty().append((this[0]&&this[0].ownerDocument||E).createTextNode(e));return K.text(this)},wrapAll:function(e){if(K.isFunction(e))return this.each(function(t){K(this).wrapAll(e.call(this,t))});if(this[0]){var t=K(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){if(K.isFunction(e))return this.each(function(t){K(this).wrapInner(e.call(this,t))});return this.each(function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){return this.each(function(){K(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=K(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,K(arguments[0]).toArray());return e}},remove:function(e,t){for(var n=0,i;(i=this[n])!=null;n++)if(!e||K.filter(e,[i]).length)!t&&i.nodeType===1&&(K.cleanData(i.getElementsByTagName("*")),K.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i);return this},empty:function(){for(var e=0,t;(t=this[e])!=null;e++){t.nodeType===1&&K.cleanData(t.getElementsByTagName("*"));while(t.firstChild)t.removeChild(t.firstChild)}return this},clone:function(e,t){e=e==null?!1:e,t=t==null?e:t;return this.map(function(){return K.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(mt,""):null;if(typeof e=="string"&&!Ct.test(e)&&(K.support.leadingWhitespace||!gt.test(e))&&!kt[(yt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(vt,"<$1></$2>");try{for(var n=0,i=this.length;n<i;n++)this[n].nodeType===1&&(K.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(r){this.empty().append(e)}}else K.isFunction(e)?this.each(function(t){var n=K(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(K.isFunction(e))return this.each(function(t){var n=K(this),i=n.html();n.replaceWith(e.call(this,t,i))});typeof e!="string"&&(e=K(e).detach());return this.each(function(){var t=this.nextSibling,n=this.parentNode;K(this).remove(),t?K(t).before(e):K(n).append(e)})}return this.length?this.pushStack(K(K.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var r,s,a,o,l=e[0],c=[];if(!K.support.checkClone&&arguments.length===3&&typeof l=="string"&&At.test(l))return this.each(function(){K(this).domManip(e,n,i,!0)});if(K.isFunction(l))return this.each(function(r){var s=K(this);e[0]=l.call(this,r,n?s.html():t),s.domManip(e,n,i)});if(this[0]){o=l&&l.parentNode,K.support.parentNode&&o&&o.nodeType===11&&o.childNodes.length===this.length?r={fragment:o}:r=K.buildFragment(e,this,c),a=r.fragment,a.childNodes.length===1?s=a=a.firstChild:s=a.firstChild;if(s){n=n&&K.nodeName(s,"tr");for(var u=0,d=this.length,f=d-1;u<d;u++)i.call(n?C(this[u],s):this[u],r.cacheable||d>1&&u<f?K.clone(a,!0,!0):a)}c.length&&K.each(c,m)}return this}}),K.buildFragment=function(e,t,n){var i,r,s,a;t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=E),e.length===1&&typeof e[0]=="string"&&e[0].length<512&&a===E&&e[0].charAt(0)==="<"&&!Ct.test(e[0])&&(K.support.checkClone||!At.test(e[0]))&&(r=!0,s=K.fragments[e[0]],s&&s!==1&&(i=s)),i||(i=a.createDocumentFragment(),K.clean(e,a,i,n)),r&&(K.fragments[e[0]]=s?i:1);return{fragment:i,cacheable:r}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(n){var i=[],r=K(n),s=this.length===1&&this[0].parentNode;if(s&&s.nodeType===11&&s.childNodes.length===1&&r.length===1){r[t](this[0]);return this}for(var a=0,o=r.length;a<o;a++){var l=(a>0?this.clone(!0):this).get();K(r[a])[t](l),i=i.concat(l)}return this.pushStack(i,e,r.selector)}}),K.extend({clone:function(e,t,n){var i=e.cloneNode(!0),r,s,a;if((!K.support.noCloneEvent||!K.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!K.isXMLDoc(e)){b(e,i),r=y(e),s=y(i);for(a=0;r[a];++a)b(r[a],s[a])}if(t){w(e,i);if(n){r=y(e),s=y(i);for(a=0;r[a];++a)w(r[a],s[a])}}r=s=null;return i},clean:function(e,t,n,i){var r;t=t||E,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||E);var s=[],a;for(var o=0,l;(l=e[o])!=null;o++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!wt.test(l))l=t.createTextNode(l);else{l=l.replace(vt,"<$1></$2>");var c=(yt.exec(l)||["",""])[1].toLowerCase(),u=kt[c]||kt._default,d=u[0],f=t.createElement("div");f.innerHTML=u[1]+l+u[2];while(d--)f=f.lastChild;if(!K.support.tbody){var h=bt.test(l),p=c==="table"&&!h?f.firstChild&&f.firstChild.childNodes:u[1]==="<table>"&&!h?f.childNodes:[];for(a=p.length-1;a>=0;--a)K.nodeName(p[a],"tbody")&&!p[a].childNodes.length&&p[a].parentNode.removeChild(p[a])}!K.support.leadingWhitespace&&gt.test(l)&&f.insertBefore(t.createTextNode(gt.exec(l)[0]),f.firstChild),l=f.childNodes}var m;if(!K.support.appendChecked)if(l[0]&&typeof(m=l.length)=="number")for(a=0;a<m;a++)g(l[a]);else g(l);l.nodeType?s.push(l):s=K.merge(s,l)}if(n){r=function(e){return!e.type||St.test(e.type)};for(o=0;s[o];o++)if(i&&K.nodeName(s[o],"script")&&(!s[o].type||s[o].type.toLowerCase()==="text/javascript"))i.push(s[o].parentNode?s[o].parentNode.removeChild(s[o]):s[o]);else{if(s[o].nodeType===1){var v=K.grep(s[o].getElementsByTagName("script"),r);s.splice.apply(s,[o+1,0].concat(v))}n.appendChild(s[o])}}return s},cleanData:function(e){var t,n,i=K.cache,r=K.expando,s=K.event.special,a=K.support.deleteExpando;for(var o=0,l;(l=e[o])!=null;o++){if(l.nodeName&&K.noData[l.nodeName.toLowerCase()])continue;n=l[K.expando];if(n){t=i[n]&&i[n][r];if(t&&t.events){for(var c in t.events)s[c]?K.event.remove(l,c):K.removeEvent(l,c,t.handle);t.handle&&(t.handle.elem=null)}a?delete l[K.expando]:l.removeAttribute&&l.removeAttribute(K.expando),delete i[n]}}}});var It=/alpha\([^)]*\)/i,xt=/opacity=([^)]*)/,Tt=/([A-Z]|^ms)/g,Pt=/^-?\d+(?:px)?$/i,Mt=/^-?\d/,Bt=/^[+\-]=/,Et=/[^+\-\.\de]+/g,Vt={position:"absolute",visibility:"hidden",display:"block"},Nt=["Left","Right"],Kt=["Top","Bottom"],Lt,Rt,Dt;K.fn.css=function(e,n){if(arguments.length===2&&n===t)return this;return K.access(this,e,n,!0,function(e,n,i){return i!==t?K.style(e,n,i):K.css(e,n)})},K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Lt(e,"opacity","opacity");return n===""?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(!!e&&e.nodeType!==3&&e.nodeType!==8&&!!e.style){var s,a,o=K.camelCase(n),l=e.style,c=K.cssHooks[o];n=K.cssProps[o]||o;if(i===t){if(c&&"get"in c&&(s=c.get(e,!1,r))!==t)return s;return l[n]}a=typeof i;if(a==="number"&&isNaN(i)||i==null)return;a==="string"&&Bt.test(i)&&(i=+i.replace(Et,"")+parseFloat(K.css(e,n)),a="number"),a==="number"&&!K.cssNumber[o]&&(i+="px");if(!c||!("set"in c)||(i=c.set(e,i))!==t)try{l[n]=i}catch(u){}}},css:function(e,n,i){var r,s;n=K.camelCase(n),s=K.cssHooks[n],n=K.cssProps[n]||n,n==="cssFloat"&&(n="float");if(s&&"get"in s&&(r=s.get(e,!0,i))!==t)return r;if(Lt)return Lt(e,n)},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];n.call(e);for(r in t)e.style[r]=i[r]}}),K.curCSS=K.css,K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,i){var r;if(n){if(e.offsetWidth!==0)return p(e,t,i);K.swap(e,Vt,function(){r=p(e,t,i)});return r}},set:function(e,t){if(!Pt.test(t))return t;t=parseFloat(t);if(t>=0)return t+"px"}}}),K.support.opacity||(K.cssHooks.opacity={get:function(e,t){return xt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle;n.zoom=1;var r=K.isNaN(t)?"":"alpha(opacity="+t*100+")",s=i&&i.filter||n.filter||"";n.filter=It.test(s)?s.replace(It,r):s+" "+r}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(e,t){var n;K.swap(e,{display:"inline-block"},function(){t?n=Lt(e,"margin-right","marginRight"):n=e.style.marginRight});return n}})}),E.defaultView&&E.defaultView.getComputedStyle&&(Rt=function(e,n){var i,r,s;n=n.replace(Tt,"-$1").toLowerCase();if(!(r=e.ownerDocument.defaultView))return t;if(s=r.getComputedStyle(e,null))i=s.getPropertyValue(n),i===""&&!K.contains(e.ownerDocument.documentElement,e)&&(i=K.style(e,n));return i}),E.documentElement.currentStyle&&(Dt=function(e,t){var n,i=e.currentStyle&&e.currentStyle[t],r=e.runtimeStyle&&e.runtimeStyle[t],s=e.style;!Pt.test(i)&&Mt.test(i)&&(n=s.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i||0,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r));return i===""?"auto":i}),Lt=Rt||Dt,K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return t===0&&n===0||!K.support.reliableHiddenOffsets&&(e.style.display||K.css(e,"display"))==="none"},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)});var Ft=/%20/g,$t=/\[\]$/,Ot=/\r?\n/g,Ut=/#.*$/,jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,zt=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ht=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,qt=/^(?:GET|HEAD)$/,Gt=/^\/\//,Wt=/\?/,Jt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Qt=/^(?:select|textarea)/i,Xt=/\s+/,Yt=/([?&])_=[^&]*/,Zt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,en=K.fn.load,tn={},nn={},rn,sn;try{rn=N.href}catch(an){rn=E.createElement("a"),rn.href="",rn=rn.href}sn=Zt.exec(rn.toLowerCase())||[],K.fn.extend({load:function(e,n,i){if(typeof e!="string"&&en)return en.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var s=e.slice(r,e.length);e=e.slice(0,r)}var a="GET";n&&(K.isFunction(n)?(i=n,n=t):typeof n=="object"&&(n=K.param(n,K.ajaxSettings.traditional),a="POST"));var o=this;K.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),o.html(s?K("<div>").append(n.replace(Jt,"")).find(s):n)),i&&o.each(i,[n,t,e])}});return this},serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Qt.test(this.nodeName)||zt.test(this.type))}).map(function(e,t){var n=K(this).val();return n==null?null:K.isArray(n)?K.map(n,function(e,n){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}}),K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){K.fn[t]=function(e){return this.bind(t,e)}}),K.each(["get","post"],function(e,n){K[n]=function(e,i,r,s){K.isFunction(i)&&(s=s||r,r=i,i=t);return K.ajax({type:n,url:e,data:i,success:r,dataType:s})}}),K.extend({getScript:function(e,n){return K.get(e,t,n,"script")},getJSON:function(e,t,n){return K.get(e,t,n,"json")},ajaxSetup:function(e,t){t?K.extend(!0,e,K.ajaxSettings,t):(t=e,e=K.extend(!0,K.ajaxSettings,t));for(var n in{context:1,url:1})n in t?e[n]=t[n]:n in K.ajaxSettings&&(e[n]=K.ajaxSettings[n]);return e},ajaxSettings:{url:rn,isLocal:Ht.test(sn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML}},ajaxPrefilter:h(tn),ajaxTransport:h(nn),ajax:function(e,n){function i(e,n,i,f){if(C!==2){C=2,b&&clearTimeout(b),y=t,g=f||"",_.readyState=e?4:0;var p,m,v,w=i?u(r,_,i):t,S,k;if(e>=200&&e<300||e===304){if(r.ifModified){if(S=_.getResponseHeader("Last-Modified"))K.lastModified[h]=S;if(k=_.getResponseHeader("Etag"))K.etag[h]=k}if(e===304)n="notmodified",p=!0;else try{m=c(r,w),n="success",p=!0}catch(I){n="parsererror",v=I}}else{v=n;if(!n||e)n="error",e<0&&(e=0)}_.status=e,_.statusText=n,p?o.resolveWith(s,[m,n,_]):o.rejectWith(s,[_,n,v]),_.statusCode(d),d=t,A&&a.trigger("ajax"+(p?"Success":"Error"),[_,r,p?m:v]),l.resolveWith(s,[_,n]),A&&(a.trigger("ajaxComplete",[_,r]),--K.active||K.event.trigger("ajaxStop"))}}typeof e=="object"&&(n=e,e=t),n=n||{};var r=K.ajaxSetup({},n),s=r.context||r,a=s!==r&&(s.nodeType||s instanceof K)?K(s):K.event,o=K.Deferred(),l=K._Deferred(),d=r.statusCode||{},h,p={},m={},g,v,y,b,w,C=0,A,S,_={readyState:0,setRequestHeader:function(e,t){if(!C){var n=e.toLowerCase();e=m[n]=m[n]||e,p[e]=t}return this},getAllResponseHeaders:function(){return C===2?g:null},getResponseHeader:function(e){var n;if(C===2){if(!v){v={};while(n=jt.exec(g))v[n[1].toLowerCase()]=n[2]}n=v[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){C||(r.mimeType=e);return this},abort:function(e){e=e||"abort",y&&y.abort(e),i(0,e);return this}};o.promise(_),_.success=_.done,_.error=_.fail,_.complete=l.done,_.statusCode=function(e){if(e){var t;if(C<2)for(t in e)d[t]=[d[t],e[t]];else t=e[_.status],_.then(t,t)}return this},r.url=((e||r.url)+"").replace(Ut,"").replace(Gt,sn[1]+"//"),r.dataTypes=K.trim(r.dataType||"*").toLowerCase().split(Xt),r.crossDomain==null&&(w=Zt.exec(r.url.toLowerCase()),r.crossDomain=!(!w||w[1]==sn[1]&&w[2]==sn[2]&&(w[3]||(w[1]==="http:"?80:443))==(sn[3]||(sn[1]==="http:"?80:443)))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=K.param(r.data,r.traditional)),f(tn,r,n,_);if(C===2)return!1;A=r.global,r.type=r.type.toUpperCase(),r.hasContent=!qt.test(r.type),A&&K.active++===0&&K.event.trigger("ajaxStart");if(!r.hasContent){r.data&&(r.url+=(Wt.test(r.url)?"&":"?")+r.data),h=r.url;if(r.cache===!1){var k=K.now(),I=r.url.replace(Yt,"$1_="+k);r.url=I+(I===r.url?(Wt.test(r.url)?"&":"?")+"_="+k:"")}}(r.data&&r.hasContent&&r.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",r.contentType),r.ifModified&&(h=h||r.url,K.lastModified[h]&&_.setRequestHeader("If-Modified-Since",K.lastModified[h]),K.etag[h]&&_.setRequestHeader("If-None-Match",K.etag[h])),_.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", */*; q=0.01":""):r.accepts["*"]);for(S in r.headers)_.setRequestHeader(S,r.headers[S]);if(r.beforeSend&&(r.beforeSend.call(s,_,r)===!1||C===2)){_.abort();return!1}for(S in{success:1,error:1,complete:1})_[S](r[S]);y=f(nn,r,n,_);if(!y)i(-1,"No Transport");else{_.readyState=1,A&&a.trigger("ajaxSend",[_,r]),r.async&&r.timeout>0&&(b=setTimeout(function(){_.abort("timeout")},r.timeout));try{C=1,y.send(p,i)}catch(x){status<2?i(-1,x):K.error(x)}}return _},param:function(e,n){var i=[],r=function(e,t){t=K.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=K.ajaxSettings.traditional);if(K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){r(this.name,this.value)});else for(var s in e)d(s,e[s],n,r);return i.join("&").replace(Ft,"+")}}),K.extend({active:0,lastModified:{},etag:{}});var on=K.now(),ln=/(\=)\?(&|$)|\?\?/i;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return K.expando+"_"+on++}}),K.ajaxPrefilter("json jsonp",function(t,n,i){var r=t.contentType==="application/x-www-form-urlencoded"&&typeof t.data=="string";if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(ln.test(t.url)||r&&ln.test(t.data))){var s,a=t.jsonpCallback=K.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=e[a],l=t.url,c=t.data,u="$1"+a+"$2";t.jsonp!==!1&&(l=l.replace(ln,u),t.url===l&&(r&&(c=c.replace(ln,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=c,e[a]=function(e){s=[e]},i.always(function(){e[a]=o,s&&K.isFunction(o)&&e[a](s[0])}),t.converters["script json"]=function(){s||K.error(a+" was not called");return s[0]},t.dataTypes[0]="json";return"script"}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){K.globalEval(e);return e}}}),K.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),K.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=E.head||E.getElementsByTagName("head")[0]||E.documentElement;return{send:function(r,s){n=E.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){if(r||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||s(200,"success")},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var cn=e.ActiveXObject?function(){for(var e in dn)dn[e](0,1)}:!1,un=0,dn;K.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||o()}:l,function(e){K.extend(K.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(n){if(!n.crossDomain||K.support.cors){var i;return{send:function(r,s){var a=n.xhr(),o,l;n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(l in n.xhrFields)a[l]=n.xhrFields[l];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");try{for(l in r)a.setRequestHeader(l,r[l])}catch(c){}a.send(n.hasContent&&n.data||null),i=function(e,r){var l,c,u,d,f;try{if(i&&(r||a.readyState===4)){i=t,o&&(a.onreadystatechange=K.noop,cn&&delete dn[o]);if(r)a.readyState!==4&&a.abort();else{l=a.status,u=a.getAllResponseHeaders(),d={},f=a.responseXML,f&&f.documentElement&&(d.xml=f),d.text=a.responseText;try{c=a.statusText}catch(h){c=""}!l&&n.isLocal&&!n.crossDomain?l=d.text?200:404:l===1223&&(l=204)}}}catch(p){r||s(-1,p)}d&&s(l,c,d,u)},!n.async||a.readyState===4?i():(o=++un,cn&&(dn||(dn={},K(e).unload(cn)),dn[o]=i),a.onreadystatechange=i)},abort:function(){i&&i(0,1)}}}});var fn={},hn,pn,mn=/^(?:toggle|show|hide)$/,gn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,vn,yn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],bn,wn=e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame;K.fn.extend({show:function(e,t,n){var s,a;if(e||e===0)return this.animate(r("show",3),e,t,n);for(var o=0,l=this.length;o<l;o++)s=this[o],s.style&&(a=s.style.display,!K._data(s,"olddisplay")&&a==="none"&&(a=s.style.display=""),a===""&&K.css(s,"display")==="none"&&K._data(s,"olddisplay",i(s.nodeName)));for(o=0;o<l;o++){s=this[o];if(s.style){a=s.style.display;if(a===""||a==="none")s.style.display=K._data(s,"olddisplay")||""}}return this},hide:function(e,t,n){if(e||e===0)return this.animate(r("hide",3),e,t,n);for(var i=0,s=this.length;i<s;i++)if(this[i].style){var a=K.css(this[i],"display");a!=="none"&&!K._data(this[i],"olddisplay")&&K._data(this[i],"olddisplay",a)}for(i=0;i<s;i++)this[i].style&&(this[i].style.display="none");return this},_toggle:K.fn.toggle,toggle:function(e,t,n){var i=typeof e=="boolean";K.isFunction(e)&&K.isFunction(t)?this._toggle.apply(this,arguments):e==null||i?this.each(function(){var t=i?e:K(this).is(":hidden");K(this)[t?"show":"hide"]()}):this.animate(r("toggle",3),e,t,n);return this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,r){var s=K.speed(t,n,r);if(K.isEmptyObject(e))return this.each(s.complete,[!1]);e=K.extend({},e);return this[s.queue===!1?"each":"queue"](function(){s.queue===!1&&K._mark(this);var t=K.extend({},s),n=this.nodeType===1,r=n&&K(this).is(":hidden"),a,o,l,c,u,d,f,h,p;t.animatedProperties={};for(l in e){a=K.camelCase(l),l!==a&&(e[a]=e[l],delete e[l]),o=e[a],K.isArray(o)?(t.animatedProperties[a]=o[1],o=e[a]=o[0]):t.animatedProperties[a]=t.specialEasing&&t.specialEasing[a]||t.easing||"swing";if(o==="hide"&&r||o==="show"&&!r)return t.complete.call(this);n&&(a==="height"||a==="width")&&(t.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],K.css(this,"display")==="inline"&&K.css(this,"float")==="none"&&(K.support.inlineBlockNeedsLayout?(c=i(this.nodeName),c==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"))}t.overflow!=null&&(this.style.overflow="hidden");for(l in e)u=new K.fx(this,t,l),o=e[l],mn.test(o)?u[o==="toggle"?r?"show":"hide":o]():(d=gn.exec(o),f=u.cur(),d?(h=parseFloat(d[2]),p=d[3]||(K.cssNumber[l]?"":"px"),p!=="px"&&(K.style(this,l,(h||1)+p),f=(h||1)/u.cur()*f,K.style(this,l,f+p)),d[1]&&(h=(d[1]==="-="?-1:1)*h+f),u.custom(f,h,p)):u.custom(f,o,""));return!0})},stop:function(e,t){e&&this.queue([]),this.each(function(){var e=K.timers,n=e.length;t||K._unmark(!0,this);while(n--)e[n].elem===this&&(t&&e[n](!0),e.splice(n,1))}),t||this.dequeue();return this}}),K.each({slideDown:r("show",1),slideUp:r("hide",1),slideToggle:r("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),K.extend({speed:function(e,t,n){var i=e&&typeof e=="object"?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};i.duration=K.fx.off?0:typeof i.duration=="number"?i.duration:i.duration in K.fx.speeds?K.fx.speeds[i.duration]:K.fx.speeds._default,i.old=i.complete,i.complete=function(e){K.isFunction(i.old)&&i.old.call(this),i.queue!==!1?K.dequeue(this):e!==!1&&K._unmark(this)};return i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),K.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(K.fx.step[this.prop]||K.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var e,t=K.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?!t||t==="auto"?0:t:e},custom:function(e,t,n){function i(e){return r.step(e)}var r=this,s=K.fx,o;this.startTime=bn||a(),this.start=e,this.end=t,this.unit=n||this.unit||(K.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,i.elem=this.elem,i()&&K.timers.push(i)&&!vn&&(wn?(vn=!0,o=function(){vn&&(wn(o),s.tick())},wn(o)):vn=setInterval(s.tick,s.interval))},show:function(){this.options.orig[this.prop]=K.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),K(this.elem).show()},hide:function(){this.options.orig[this.prop]=K.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t=bn||a(),n=!0,i=this.elem,r=this.options,s,o;if(e||t>=r.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),r.animatedProperties[this.prop]=!0;for(s in r.animatedProperties)r.animatedProperties[s]!==!0&&(n=!1);if(n){r.overflow!=null&&!K.support.shrinkWrapBlocks&&K.each(["","X","Y"],function(e,t){i.style["overflow"+t]=r.overflow[e]}),r.hide&&K(i).hide();if(r.hide||r.show)for(var l in r.animatedProperties)K.style(i,l,r.orig[l]);r.complete.call(i)}return!1}r.duration==Infinity?this.now=t:(o=t-this.startTime,this.state=o/r.duration,this.pos=K.easing[r.animatedProperties[this.prop]](this.state,o,0,1,r.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},K.extend(K.fx,{tick:function(){for(var e=K.timers,t=0;t<e.length;++t)e[t]()||e.splice(t--,1);e.length||K.fx.stop()},interval:13,stop:function(){clearInterval(vn),vn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){K.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&e.elem.style[e.prop]!=null?e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit:e.elem[e.prop]=e.now}}}),K.expr&&K.expr.filters&&(K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length});var Cn=/^t(?:able|d|h)$/i,An=/^(?:body|html)$/i;"getBoundingClientRect"in E.documentElement?K.fn.offset=function(e){var t=this[0],i;if(e)return this.each(function(t){K.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return K.offset.bodyOffset(t);try{i=t.getBoundingClientRect()}catch(r){}var s=t.ownerDocument,a=s.documentElement;if(!i||!K.contains(a,t))return i?{top:i.top,left:i.left}:{top:0,left:0};var o=s.body,l=n(s),c=a.clientTop||o.clientTop||0,u=a.clientLeft||o.clientLeft||0,d=l.pageYOffset||K.support.boxModel&&a.scrollTop||o.scrollTop,f=l.pageXOffset||K.support.boxModel&&a.scrollLeft||o.scrollLeft,h=i.top+d-c,p=i.left+f-u;return{top:h,left:p}}:K.fn.offset=function(e){var t=this[0];if(e)return this.each(function(t){K.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return K.offset.bodyOffset(t);K.offset.initialize();var n,i=t.offsetParent,r=t,s=t.ownerDocument,a=s.documentElement,o=s.body,l=s.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,d=t.offsetLeft;while((t=t.parentNode)&&t!==o&&t!==a){if(K.offset.supportsFixedPosition&&c.position==="fixed")break;n=l?l.getComputedStyle(t,null):t.currentStyle,u-=t.scrollTop,d-=t.scrollLeft,t===i&&(u+=t.offsetTop,d+=t.offsetLeft,K.offset.doesNotAddBorder&&(!K.offset.doesAddBorderForTableAndCells||!Cn.test(t.nodeName))&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),r=i,i=t.offsetParent),K.offset.subtractsBorderForOverflowNotVisible&&n.overflow!=="visible"&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),c=n}if(c.position==="relative"||c.position==="static")u+=o.offsetTop,d+=o.offsetLeft;K.offset.supportsFixedPosition&&c.position==="fixed"&&(u+=Math.max(a.scrollTop,o.scrollTop),d+=Math.max(a.scrollLeft,o.scrollLeft));return{top:u,left:d}},K.offset={initialize:function(){var e=E.body,t=E.createElement("div"),n,i,r,s,a=parseFloat(K.css(e,"marginTop"))||0,o="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";K.extend(t.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),t.innerHTML=o,e.insertBefore(t,e.firstChild),n=t.firstChild,i=n.firstChild,s=n.nextSibling.firstChild.firstChild,this.doesNotAddBorder=i.offsetTop!==5,this.doesAddBorderForTableAndCells=s.offsetTop===5,i.style.position="fixed",i.style.top="20px",this.supportsFixedPosition=i.offsetTop===20||i.offsetTop===15,i.style.position=i.style.top="",n.style.overflow="hidden",n.style.position="relative",this.subtractsBorderForOverflowNotVisible=i.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=e.offsetTop!==a,e.removeChild(t),K.offset.initialize=K.noop},bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;K.offset.initialize(),K.offset.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(K.css(e,"marginTop"))||0,n+=parseFloat(K.css(e,"marginLeft"))||0);return{top:t,left:n}},setOffset:function(e,t,n){var i=K.css(e,"position");i==="static"&&(e.style.position="relative");var r=K(e),s=r.offset(),a=K.css(e,"top"),o=K.css(e,"left"),l=(i==="absolute"||i==="fixed")&&K.inArray("auto",[a,o])>-1,c={},u={},d,f;l?(u=r.position(),d=u.top,f=u.left):(d=parseFloat(a)||0,f=parseFloat(o)||0),K.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(c.top=t.top-s.top+d),t.left!=null&&(c.left=t.left-s.left+f),"using"in t?t.using.call(e,c):r.css(c)}},K.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=An.test(t[0].nodeName)?{top:0,left:0}:t.offset();n.top-=parseFloat(K.css(e,"marginTop"))||0,n.left-=parseFloat(K.css(e,"marginLeft"))||0,i.top+=parseFloat(K.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(K.css(t[0],"borderLeftWidth"))||0;return{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||E.body;while(e&&!An.test(e.nodeName)&&K.css(e,"position")==="static")e=e.offsetParent;return e})}}),K.each(["Left","Top"],function(e,i){var r="scroll"+i;K.fn[r]=function(i){var s,a;if(i===t){s=this[0];if(!s)return null;a=n(s);return a?"pageXOffset"in a?a[e?"pageYOffset":"pageXOffset"]:K.support.boxModel&&a.document.documentElement[r]||a.document.body[r]:s[r]}return this.each(function(){a=n(this),a?a.scrollTo(e?K(a).scrollLeft():i,e?i:K(a).scrollTop()):this[r]=i})}}),K.each(["Height","Width"],function(e,n){var i=n.toLowerCase();K.fn["inner"+n]=function(){var e=this[0];return e&&e.style?parseFloat(K.css(e,i,"padding")):null},K.fn["outer"+n]=function(e){var t=this[0];return t&&t.style?parseFloat(K.css(t,i,e?"margin":"border")):null},K.fn[i]=function(e){var r=this[0];if(!r)return e==null?null:this;if(K.isFunction(e))return this.each(function(t){var n=K(this);n[i](e.call(this,t,n[i]()))});if(K.isWindow(r)){var s=r.document.documentElement["client"+n];return r.document.compatMode==="CSS1Compat"&&s||r.document.body["client"+n]||s}if(r.nodeType===9)return Math.max(r.documentElement["client"+n],r.body["scroll"+n],r.documentElement["scroll"+n],r.body["offset"+n],r.documentElement["offset"+n]);if(e===t){var a=K.css(r,i),o=parseFloat(a);return K.isNaN(o)?a:o}return this.css(i,typeof e=="string"?e:e+"px")}}),e.jQuery=e.$=K})(window);var VKI_attach,VKI_close;(function(){var e=this;this.VKI_version="1.49";this.VKI_showVersion=false;
    this.VKI_target=false;this.VKI_shift=this.VKI_shiftlock=false;this.VKI_altgr=this.VKI_altgrlock=false;this.VKI_dead=false;this.VKI_deadBox=false;this.VKI_deadkeysOn=false;this.VKI_numberPad=false;this.VKI_numberPadOn=false;this.VKI_kts=this.VKI_kt="US International";this.VKI_langAdapt=true;this.VKI_size=4;this.VKI_sizeAdj=false;this.VKI_clearPasswords=false;this.VKI_imageURI="";this.VKI_clickless=0;this.VKI_activeTab=1;this.VKI_enterSubmit=true;this.VKI_keyCenter=3;this.VKI_isIE=false;this.VKI_isIE6=false;this.VKI_isIElt8=false;this.VKI_isWebKit=RegExp("KHTML").test(navigator.userAgent);this.VKI_isOpera=RegExp("Opera").test(navigator.userAgent);this.VKI_isMoz=!this.VKI_isWebKit&&navigator.product=="Gecko";this.VKI_i18n={"00":"  ","01":"  ","02":" ","03":"Dead keys","04":".","05":".","06":" ","07":"","08":"   ","09":"",10:"  ",11:"  ",12:""};this.VKI_layout={};this.VKI_layout[""]={name:"Arabic",keys:[[[""," "],["1","!","",""],["2","@",""],["3","#",""],["4","$","",""],["5","%",""],["6","^",""],["7","&",""],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","<"],["",">"],["\\","|"]],[["Caps","Caps"],["",""],["",""],["","]"],["","["],["",""],["",""],["",""],["",""],["","/"],["",":"],["",'"'],["Enter","Enter"]],[["Shift","Shift"],["","~"],["",""],["","}"],["","{"],["",""],["",""],["",""],["",","],["","."],["",""],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["ar"]};this.VKI_layout[""]={name:"Assamese",keys:[[["+","?"],["","{",""],["","}",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","(",""],["",")",""],["-",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["","",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["Enter","Enter"]],[["Caps","Caps"],["","","",""],["","","",""],["","","",""],["","","",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""]],[["Shift","Shift"],["",""],["","",""],["",""],["",""],["",'"'],["","'"],["",""],[",",""],[".",";"],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["as"]};this.VKI_layout[""]={name:"Azerbaijani Cyrillic",keys:[[["`","~"],["1","!"],["2",'"'],["3",""],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["\\","/"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["\\","|"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[".",","],["Shift","Shift"]],[[" "," "]]],lang:["az-Cyrl"]};this.VKI_layout["Azrbaycanca"]={name:"Azerbaijani Latin",keys:[[["`","~"],["1","!"],["2",'"'],["3",""],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["",""],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i",""],["o","O"],["p","P"],["",""],["",""],["\\","/"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["","I"],["",""],["Enter","Enter"]],[["Shift","Shift"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],["",""],["",""],[".",","],["Shift","Shift"]],[[" "," "]]],lang:["az"]};this.VKI_layout[""]={name:"Belarusian",keys:[[["",""],["1","!"],["2",'"'],["3",""],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["'","'"],["\\","/"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["/","|"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[".",","],["Shift","Shift"]],[[" "," "]]],lang:["be"]};this.VKI_layout["Belgische / Belge"]={name:"Belgian",keys:[[["",""],["&","1","|"],["","2","@"],['"',"3","#"],["'","4"],["(","5"],["","6","^"],["","7"],["!","8"],["","9","{"],["","0","}"],[")",""],["-","_"],["Bksp","Bksp"]],[["Tab","Tab"],["a","A"],["z","Z"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["^","","["],["$","*","]"],["","","`"]],[["Caps","Caps"],["q","Q"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["m","M"],["","%",""],["Enter","Enter"]],[["Shift","Shift"],["<",">","\\"],["w","W"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],[",","?"],[";","."],[":","/"],["=","+","~"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["nl-BE","fr-BE"]};this.VKI_layout[" "]={name:"Bulgarian Phonetic",keys:[[["",""],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "]]],lang:["bg"]};this.VKI_layout[""]={name:"Bulgarian BDS",keys:[[["`","~"],["1","!"],["2","?"],["3","+"],["4",'"'],["5","%"],["6","="],["7",":"],["8","/"],["9","_"],["0",""],["-",""],["=","V"],["Bksp","Bksp"]],[["Tab","Tab"],[",",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[";",""],["(",")"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Shift","Shift"]],[[" "," "]]]};this.VKI_layout[""]={name:"Bengali",keys:[[[""],["1","",""],["2","",""],["3","",""],["4","",""],["5","",""],["6","",""],["7","",""],["8","",""],["9","(",""],["0",")",""],["-",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["","",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["Enter","Enter"]],[["Caps","Caps"],["","","",""],["","","",""],["","","",""],["","","",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""]],[["Shift","Shift"],[""],["","",""],["",""],[""],[""],[""],["",""],[",",""],[".","{"],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["bn"]};this.VKI_layout["Bosanski"]={name:"Bosnian",keys:[[["",""],["1","!","~"],["2",'"',""],["3","#","^"],["4","$",""],["5","%",""],["6","&",""],["7","/","`"],["8","(",""],["9",")",""],["0","=",""],["'","?",""],["+","*",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","\\"],["w","W","|"],["e","E",""],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P"],["","",""],["","",""],["","",""]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F","["],["g","G","]"],["h","H"],["j","J"],["k","K",""],["l","L",""],["",""],["","",""],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["y","Y"],["x","X"],["c","C"],["v","V","@"],["b","B","{"],["n","N","}"],["m","M",""],[",",";","<"],[".",":",">"],["-","_",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["bs"]};this.VKI_layout["Canadienne-franaise"]={name:"Canadian French",keys:[[["#","|","\\"],["1","!",""],["2",'"',"@"],["3","/",""],["4","$",""],["5","%",""],["6","?",""],["7","&",""],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O",""],["p","P",""],["^","^","["],["","","]"],["<",">","}"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":","~"],["`","`","{"],["Enter","Enter"]],[["Shift","Shift"],["","",""],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M",""],[",","'",""],[".",".",""],["","",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["fr-CA"]};this.VKI_layout["esky"]={name:"Czech",keys:[[[";","","`","~"],["+","1","!"],["","2","@"],["","3","#"],["","4","$"],["","5","%"],["","6","^"],["","7","&"],["","8","*"],["","9","("],["","0",")"],["=","%","-","_"],["","","=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["","/","[","{"],[")","(","]","}"],["","'","\\","|"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",'"',";",":"],["","!","","^"],["Enter","Enter"]],[["Shift","Shift"],["\\","|","",""],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","?","<",""],[".",":",">",""],["-","_","/","?"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["cs"]};this.VKI_layout["Dansk"]={name:"Danish",keys:[[["",""],["1","!"],["2",'"',"@"],["3","#",""],["4","","$"],["5","%",""],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["+","?"],["","`","|"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["",""],["","^","~"],["'","*"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["<",">","\\"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M","",""],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["da"]};this.VKI_layout["Deutsch"]={name:"German",keys:[[["^",""],["1","!"],["2",'"',""],["3","",""],["4","$"],["5","%"],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["","?","\\"],["","`"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","@"],["w","W"],["e","E",""],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P"],["",""],["+","*","~"],["#","'"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["<",">",""],["y","Y"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M",""],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["de"]};this.VKI_layout["Dingbats"]={name:"Dingbats",keys:[[["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""]],[["Caps","Caps"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Enter","Enter"]],[["Shift","Shift"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Shift","Shift"]],[["AltLk","AltLk"],[" "," "," "," "],["AltGr","AltGr"]]]};this.VKI_layout[""]={name:"Divehi",keys:[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9",")"],["0","("],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["","/"],["",":"],["",""],["",""],["",""],["",""],["",""],["",""],["[","{"],["]","}"]],[["Caps","Caps"],["","<"],["",">"],["",".",",",","],["",""],["",'"'],["",""],["",""],["",""],["",""],["",""],["","",";",";"],["Enter","Enter"]],[["Shift","Shift"],["\\","|"],["",""],["",""],["",""],["","",""],["","",""],["","",""],["","",""],["","\\"],["",""],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["dv"]};this.VKI_layout["Dvorak"]={name:"Dvorak",keys:[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["[","{"],["]","}"],["Bksp","Bksp"]],[["Tab","Tab"],["'",'"'],[",","<"],[".",">"],["p","P"],["y","Y"],["f","F"],["g","G"],["c","C"],["r","R"],["l","L"],["/","?"],["=","+"],["\\","|"]],[["Caps","Caps"],["a","A"],["o","O"],["e","E"],["u","U"],["i","I"],["d","D"],["h","H"],["t","T"],["n","N"],["s","S"],["-","_"],["Enter","Enter"]],[["Shift","Shift"],[";",":"],["q","Q"],["j","J"],["k","K"],["x","X"],["b","B"],["m","M"],["w","W"],["v","V"],["z","Z"],["Shift","Shift"]],[[" "," "]]]};this.VKI_layout[""]={name:"Greek",keys:[[["`","~"],["1","!"],["2","@",""],["3","#",""],["4","$",""],["5","%",""],["6","^",""],["7","&"],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+",""],["Bksp","Bksp"]],[["Tab","Tab"],[";",":"],["","^"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["[","{",""],["]","}",""],["\\","|",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","",""],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["el"]};this.VKI_layout["Eesti"]={name:"Estonian",keys:[[["","~"],["1","!"],["2",'"',"@","@"],["3","#","",""],["4","","$","$"],["5","%",""],["6","&"],["7","/","{","{"],["8","(","[","["],["9",")","]","]"],["0","=","}","}"],["+","?","\\","\\"],["","`"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["",""],["","","",""],["'","*","",""]],[["Caps","Caps"],["a","A"],["s","S","",""],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["","","^","^"],["Enter","Enter"]],[["Shift","Shift"],["<",">","|","|"],["z","Z","",""],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["et"]};this.VKI_layout["Espaol"]={name:"Spanish",keys:[[["","","\\"],["1","!","|"],["2",'"',"@"],["3","'","#"],["4","$","~"],["5","%",""],["6","&",""],["7","/"],["8","("],["9",")"],["0","="],["'","?"],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["`","^","["],["+","*","]"],["","","}"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["","","{"],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["es"]};this.VKI_layout[""]={name:"Dari",keys:[[["","","~"],["","!","`"],["","","@"],["","","#"],["","","$"],["","","%"],["","","^"],["","","&"],["","*",""],["",")",""],["","(",""],["-","","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["","",""],["",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","]","'"],["","[",'"'],["","}",""],["","{",""],["\\","|","?"]],[["Caps","Caps"],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["",":",";"],["","",""],["Enter","Enter"]],[["Shift","Shift"],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["",">",","],[".","<",""],["/","",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["fa-AF"]};this.VKI_layout[""]={name:"Farsi",keys:[[[""," "],["1","!","",""],["2","@",""],["3","#",""],["4","$","",""],["5","%",""],["6","^",""],["7","&",""],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","<"],["",">"],["","|"]],[["Caps","Caps"],["",""],["",""],["","]"],["","["],["",""],["",""],["",""],["",""],["","\\"],["",":"],["",'"'],["Enter","Enter"]],[["Shift","Shift"],["","~"],["",""],["","}"],["","{"],["",""],["",""],["",""],["",","],[".","."],["/",""],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["fa"]};this.VKI_layout["Froyskt"]={name:"Faeroese",keys:[[["",""],["1","!"],["2",'"',"@"],["3","#",""],["4","","$"],["5","%",""],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["+","?"],["","`","|"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["","",""],["","","~"],["'","*"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["","","^"],["Enter","Enter"]],[["Shift","Shift"],["<",">","\\"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M",""],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["fo"]};this.VKI_layout["Franais"]={name:"French",keys:[[["",""],["&","1"],["","2","~"],['"',"3","#"],["'","4","{"],["(","5","["],["-","6","|"],["","7","`"],["_","8","\\"],["","9","^"],["","0","@"],[")","","]"],["=","+","}"],["Bksp","Bksp"]],[["Tab","Tab"],["a","A"],["z","Z"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["^",""],["$","",""],["*",""]],[["Caps","Caps"],["q","Q"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["m","M"],["","%"],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["w","W"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],[",","?"],[";","."],[":","/"],["!",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["fr"]};this.VKI_layout["Gaeilge"]={name:"Irish / Gaelic",keys:[[["`","","",""],["1","!"],["2",'"'],["3",""],["4","$",""],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","",""],["r","R"],["t","T"],["y","Y","",""],["u","U","",""],["i","I","",""],["o","O","",""],["p","P"],["[","{"],["]","}"],["#","~"]],[["Caps","Caps"],["a","A","",""],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'","@","","`"],["Enter","Enter"]],[["Shift","Shift"],["\\","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["ga","gd"]};this.VKI_layout[""]={name:"Gujarati",keys:[[[""],["1","",""],["2","",""],["3","",""],["4","",""],["5","",""],["6","",""],["7","",""],["8","",""],["9","(",""],["0",")",""],["-",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],[""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],[""],["","","",""],["",""],[""],[""],["",""],["",""],[",",""],[".","","",""],[""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["gu"]};this.VKI_layout[""]={name:"Hebrew",keys:[[["~","`"],["1","!"],["2","@"],["3","#"],["4","$",""],["5","%"],["6","^"],["7","&"],["8","*"],["9",")"],["0","("],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["/","Q"],["'","W"],["","E",""],["","R"],["","T"],["","Y"],["","U",""],["","I"],["","O"],["","P"],["\\","|"],["Enter","Enter"]],[["Caps","Caps"],["","A"],["","S"],["","D"],["","F"],["","G"],["","H",""],["","J",""],["","K"],["","L"],["",":"],[",",'"'],["]","}"],["[","{"]],[["Shift","Shift"],["","Z"],["","X"],["","C"],["","V"],["","B"],["","N"],["","M"],["",">"],["","<"],[".","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["he"]};this.VKI_layout[""]={name:"Devanagari",keys:[[["",""],["1","",""],["2","",""],["3","",""],["4","",""],["5","",""],["6","",""],["7","",""],["8","",""],["9","(",""],["0",")",""],["-",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["","",""],["",""],["","",""],["","","",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["","","",""],["",""],["","","",""],["",""],["","","",""],["",""],["","",""],["","","",""],["Enter","Enter"]],[["Shift","Shift"],["","",""],["","","",""],["","",""],["",""],["",""],["",""],["",""],[",","",""],[".","","",""],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["hi-Deva"]};this.VKI_layout[""]={name:"Hindi",keys:[[["","","`","~"],["1","","","!"],["2","","","@"],["3","","","#"],["4","","","$"],["5","","","%"],["6","","","^"],["7","","","&"],["8","","","*"],["9","(","","("],["0",")","",")"],["-","","-","_"],["","","=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","[","{"],["","","]","}"],["","","\\","|"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","",";",":"],["","","'",'"'],["Enter","Enter"]],[["Shift","Shift"],[""],["","","",""],["",""],[""],[""],["",""],["",""],[",","",",","<"],[".","",".",">"],["","","/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["hi"]};this.VKI_layout["Hrvatski"]={name:"Croatian",keys:this.VKI_layout["Bosanski"].keys.slice(0),lang:["hr"]};this.VKI_layout[" "]={name:"Western Armenian",keys:[[["",""],[":","1"],["",""],["",""],["","3"],[",","4"],["-","9"],[".",""],["","("],["",")"],["",""],["",""],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["'",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Shift","Shift"]],[[" "," "]]],lang:["hy-arevmda"]};this.VKI_layout[" "]={name:"Eastern Armenian",keys:[[["",""],[":","1"],["",""],["",""],["","3"],[",","4"],["-","9"],[".",""],["","("],["",")"],["",""],["",""],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["'",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Shift","Shift"]],[[" "," "]]],lang:["hy"]};this.VKI_layout["slenska"]={name:"Icelandic",keys:[[["","",""],["1","!"],["2",'"'],["3","#"],["4","$"],["5","%",""],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["","","\\"],["-","_"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","@"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["",""],["'","?","~"],["+","*","`"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["","'","^"],["Enter","Enter"]],[["Shift","Shift"],["<",">","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M",""],[",",";"],[".",":"],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["is"]};this.VKI_layout["Italiano"]={name:"Italian",keys:[[["\\","|"],["1","!"],["2",'"'],["3",""],["4","$",""],["5","%"],["6","&"],["7","/"],["8","("],["9",")"],["0","="],["'","?"],["","^"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["","","[","{"],["+","*","]","}"],["",""]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["","","@"],["","","#"],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["it"]};this.VKI_layout[""]={name:"Japanese Hiragana/Katakana",keys:[[[""],["",""],["",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["","","",""],["","","",""],["",'"',"",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["","","",""],["","","",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["","","",""],["","","",""],["","","",""],["Shift","Shift"]],[["AltLk","AltLk"],[" "," "," "," "],["Alt","Alt"]]],lang:["ja"]};this.VKI_layout[""]={name:"Georgian",keys:[[["",""],["!","1"],["?","2"],["","3"],["","4"],["%","5"],[":","6"],[".","7"],[";","8"],[",","9"],["/","0"],["","-"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["","",""],["",""],["",""],["",""],["",""],["",""],["","",""],["",""],["(",")"]],[["Caps","Caps"],["","",""],["",""],["","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["","",""],["",""],["",""],["",""],["","",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["ka"]};this.VKI_layout[""]={name:"Kazakh",keys:[[["(",")"],['"',"!"],["",""],["",""],["",""],["",""],[",",";"],[".",":"],["",""],["",""],["",""],["",""],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["\\","/"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["\\","|"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","?"],["Shift","Shift"]],[[" "," "]]],lang:["kk"]};this.VKI_layout[""]={name:"Khmer",keys:[[["","",""],["","!","",""],["","","@",""],["",'"',"",""],["","","$",""],["","%","",""],["","","",""],["","","",""],["","","*",""],["","(","{",""],["",")","}",""],["","","x"],["","=",""],["Bksp","Bksp"]],[["Tab","Tab"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","\\"]],[["Caps","Caps"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Enter","Enter"]],[["Shift","Shift"],["","","|",""],["","","",""],["","","-",""],["","","+",""],["","","",""],["","","[",""],["","","]",""],["","",",",""],["","",".",""],["","?","/"],["Shift","Shift"]],[[""," ",""," "],["AltGr","AltGr"]]],lang:["km"]};this.VKI_layout[""]={name:"Kannada",keys:[[["",""],["1","",""],["2","",""],["3","",""],["4","",""],["5","",""],["6","",""],["7","",""],["8","",""],["9","(",""],["0",")",""],["-",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["","",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Caps","Caps"],["",""],["","",""],["",""],["","","",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Shift","Shift"],["",""],[""],["",""],[""],[""],["",""],["",""],[",",""],[".","|"],[""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["kn"]};this.VKI_layout[""]={name:"Korean",keys:[[["`","~","`","~"],["1","!","1","!"],["2","@","2","@"],["3","#","3","#"],["4","$","4","$"],["5","%","5","%"],["6","^","6","^"],["7","&","7","&"],["8","*","8","*"],["9",")","9",")"],["0","(","0","("],["-","_","-","_"],["=","+","=","+"],["","|","","|"],["Bksp","Bksp"]],[["Tab","Tab"],["","","q","Q"],["","","w","W"],["","","e","E"],["","","r","R"],["","","t","T"],["","","y","Y"],["","","u","U"],["","","i","I"],["","","o","O"],["","","p","P"],["[","{","[","{"],["]","}","]","}"]],[["Caps","Caps"],["","","a","A"],["","","s","S"],["","","d","D"],["","","f","F"],["","","g","G"],["","","h","H"],["","","j","J"],["","","k","K"],["","","l","L"],[";",":",";",":"],["'",'"',"'",'"'],["Enter","Enter"]],[["Shift","Shift"],["","","z","Z"],["","","x","X"],["","","c","C"],["","","v","V"],["","","b","B"],["","","n","N"],["","","m","M"],[",","<",",","<"],[".",">",".",">"],["/","?","/","?"],["Shift","Shift"]],[[" "," "," "," "],["Kor","Alt"]]],lang:["ko"]};this.VKI_layout["Kurd"]={name:"Kurdish",keys:[[["","~"],["","!"],["","@"],["","#"],["","$"],["","%"],["","^"],["","&"],["","*"],["","("],["",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["","`"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","<"],[".",">"],["/",""],["Shift","Shift"]],[[" "," "]]],lang:["ku"]};this.VKI_layout[""]={name:"Kyrgyz",keys:[[["",""],["1","!"],["2",'"'],["3",""],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["","","",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["\\","/"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[".",","],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["ky"]};
    this.VKI_layout["Latvieu"]={name:"Latvian",keys:[[["","?"],["1","!",""],["2","","","@"],["3","","","#"],["4","$","","$"],["5","%",'"',"~"],["6","/","","^"],["7","&","",""],["8","",":"],["9","("],["0",")"],["-","_","",""],["f","F","=",";"],["Bksp","Bksp"]],[["Tab","Tab"],["","","q","Q"],["g","G","",""],["j","J"],["r","R","",""],["m","M","w","W"],["v","V","y","Y"],["n","N"],["z","Z"],["",""],["",""],["","","[","{"],["h","H","]","}"],["",""]],[["Caps","Caps"],["",""],["u","U"],["s","S"],["i","I"],["l","L"],["d","D"],["a","A"],["t","T"],["e","E",""],["c","C"],["","","",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["b","B","x","X"],["",""],["k","K","",""],["p","P"],["o","O","",""],["",""],[",",";","<"],[".",":",">"],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["lv"]};this.VKI_layout["Lietuvi"]={name:"Lithuanian",keys:[[["`","~"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","("],["",")"],["-","_"],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["",""],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "]]],lang:["lt"]};this.VKI_layout["Magyar"]={name:"Hungarian",keys:[[["0",""],["1","'","~"],["2",'"',""],["3","+",""],["4","!",""],["5","%",""],["6","/",""],["7","=","`"],["8","(",""],["9",")",""],["","",""],["","",""],["","",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","\\"],["w","W","|"],["e","E",""],["r","R"],["t","T"],["z","Z"],["u","U",""],["i","I",""],["o","O"],["p","P"],["","",""],["","",""],["","",""]],[["Caps","Caps"],["a","A",""],["s","S",""],["d","D",""],["f","F","["],["g","G","]"],["h","H"],["j","J",""],["k","K",""],["l","L",""],["","","$"],["","",""],["Enter","Enter"]],[["Shift","Shift"],["","","<"],["y","Y",">"],["x","X","#"],["c","C","&"],["v","V","@"],["b","B","{"],["n","N","}"],["m","M","<"],[",","?",";"],[".",":",">"],["-","_","*"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["hu"]};this.VKI_layout["Malti"]={name:"Maltese 48",keys:[[["","","`"],["1","!"],["2",'"'],["3","",""],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","",""],["r","R"],["t","T"],["y","Y"],["u","U","",""],["i","I","",""],["o","O","",""],["p","P"],["","","[","{"],["","","]","}"],["#",""]],[["Caps","Caps"],["a","A","",""],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'","@"],["Enter","Enter"]],[["Shift","Shift"],["","","\\","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?","","`"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["mt"]};this.VKI_layout[""]={name:"Macedonian Cyrillic",keys:[[["`","~"],["1","!"],["2",""],["3",""],["4",""],["5","%"],["6",""],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","",""],["","",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["","","["],["","","]"],["",""],["",""],["",""],["",""],["","",""],["","",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["","","@"],["","","{"],["","","}"],["","",""],[",",";"],[".",":"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["mk"]};this.VKI_layout[""]={name:"Malayalam",keys:[[["",""],["1","",""],["2","",""],["3","",""],["4","",""],["5","",""],["6","",""],["7","",""],["8","",""],["9","(",""],["0",")",""],["-",""],["","","",""],["Bksp","Bksp"]],[["Tab","Tab"],["","",""],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],[""],["",""],[""],["",""],["",""],["",""],[",",""],["."],[""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["ml"]};this.VKI_layout["Misc. Symbols"]={name:"Misc. Symbols",keys:[[["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Bksp","Bksp"]],[["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""]],[["Tab","Tab"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""]],[["Caps","Caps"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Enter","Enter"]],[["Shift","Shift"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["Shift","Shift"]],[["AltLk","AltLk"],[" "," "," "," "],["Alt","Alt"]]]};this.VKI_layout[""]={name:"Mongolian Cyrillic",keys:[[["=","+"],["","1"],["-","2"],['"',"3"],["","4"],[":","5"],[".","6"],["_","7"],[",","8"],["%","9"],["?","0"],["",""],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["\\","|"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Shift","Shift"]],[[" "," "]]],lang:["mn"]};this.VKI_layout[""]={name:"Marathi",keys:[[["","","`","~"],["","","1","!"],["","","2","@"],["","","3","#"],["","","4","$"],["","","5","%"],["","","6","^"],["","","7","&"],["","","8","*"],["","(","9","("],["",")","0",")"],["-","","-","_"],["","","=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","[","{"],["","","]","}"],["","","\\","|"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","",";",":"],["","","'",'"'],["Enter","Enter"]],[["Shift","Shift"],[""],["","","",""],["",""],[""],[""],["",""],["",""],[",","",",","<"],[".","",".",">"],["","","/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["mr"]};this.VKI_layout[""]={name:"Burmese",keys:[[["`","~"],["",""],["",""],["",""],["",""],["","%"],["","/"],["",""],["",""],["","("],["",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[".",""],["",""],["Shift","Shift"]],[[" "," "]]],lang:["my"]};this.VKI_layout["Nederlands"]={name:"Dutch",keys:[[["@","",""],["1","!",""],["2",'"',""],["3","#",""],["4","$",""],["5","%",""],["6","&",""],["7","_",""],["8","(","{"],["9",")","}"],["0","'"],["/","?","\\"],["","~",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R",""],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["","^"],["*","|"],["<",">"]],[["Caps","Caps"],["a","A"],["s","S",""],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["+",""],["","`"],["Enter","Enter"]],[["Shift","Shift"],["]","[",""],["z","Z",""],["x","X",""],["c","C",""],["v","V"],["b","B"],["n","N"],["m","M",""],[",",";"],[".",":",""],["-","="],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["nl"]};this.VKI_layout["Norsk"]={name:"Norwegian",keys:[[["|",""],["1","!"],["2",'"',"@"],["3","#",""],["4","","$"],["5","%"],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["+","?"],["\\","`",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["",""],["","^","~"],["'","*"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M","",""],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["no","nb","nn"]};this.VKI_layout[""]={name:"Pashto",keys:[[["","","`"],["","!","`"],["","","@"],["","",""],["","",""],["","","%"],["","","^"],["","","&"],["","","*"],["","(",""],["",")",""],["-","","_"],["=","+","",""],["Bksp","Bksp"]],[["Tab","Tab"],["","",""],["","",""],["","",""],["","",""],["","",""],["","","'"],["","",""],["","",""],["","","'"],["","",'"'],["","]","}"],["","[","{"],["\\","","|"]],[["Caps","Caps"],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","","<"],["","",">"],["",":",""],["","",""],["Enter","Enter"]],[["Shift","Shift"],["","","?"],["","",";"],["","",""],["","",""],["","",""],["","",""],["","",""],["","",","],["",".",""],["/","",""],["Shift","Shift",""]],[[" "," "," "," "],["Alt","Alt"]]],lang:["ps"]};this.VKI_layout[""]={name:"Punjabi (Gurmukhi)",keys:[[[""],["1","","",""],["2","","",""],["3","","",""],["4","","",""],["5","","",""],["6","","",""],["7","","",""],["8","","",""],["9","(","",""],["0",")","",""],["-"],[""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["",""],["","","",""],["","","",""],["Enter","Enter"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["","","",""],[""],["","","",""],["",""],["",""],["",""],["",""]],[["Shift","Shift"],[""],["",""],["",""],[""],["","","",""],["",""],["",""],[","],[".","|","",""],[""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["pa"]};this.VKI_layout[" (Pinyin)"]={name:"Pinyin",keys:[[["`","~","",""],["1","!",""],["2","@",""],["3","#",""],["4","$",""],["5","%",""],["6","^",""],["7","&",""],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","",""],["w","W","",""],["e","E","",""],["r","R","",""],["t","T","",""],["y","Y","",""],["u","U","",""],["i","I","",""],["o","O","",""],["p","P","",""],["[","{","",""],["]","}","",""],["\\","|",""]],[["Caps","Caps"],["a","A","",""],["s","S","",""],["d","D","",""],["f","F","",""],["g","G","",""],["h","H","",""],["j","J","",""],["k","K","",""],["l","L","",""],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["z","Z","",""],["x","X","",""],["c","C","",""],["v","V","",""],["b","B"],["n","N"],["m","M"],[",","<",""],[".",">",""],["/","?"],["Shift","Shift"]],[["AltLk","AltLk"],[" "," "," "," "],["Alt","Alt"]]],lang:["zh-Latn"]};this.VKI_layout["Polski"]={name:"Polish (214)",keys:[[["",""],["1","!","~"],["2",'"',""],["3","#","^"],["4","",""],["5","%",""],["6","&",""],["7","/","`"],["8","(",""],["9",")",""],["0","=",""],["+","?",""],["'","*",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","\\"],["w","W",""],["e","E"],["r","R"],["t","T"],["z","Z"],["u","U",""],["i","I"],["o","O"],["p","P"],["","",""],["","",""],["",""]],[["Caps","Caps"],["a","A"],["s","S",""],["d","D",""],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["","","$"],["","",""],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["y","Y"],["x","X"],["c","C"],["v","V","@"],["b","B","{"],["n","N","}"],["m","M",""],[",",";","<"],[".",":",">"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]]};this.VKI_layout["Polski Programisty"]={name:"Polish Programmers",keys:[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O","",""],["p","P"],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["a","A","",""],["s","S","",""],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","",""],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["z","Z","",""],["x","X","",""],["c","C","",""],["v","V"],["b","B"],["n","N","",""],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["pl"]};this.VKI_layout["Portugus Brasileiro"]={name:"Portuguese (Brazil)",keys:[[["'",'"'],["1","!",""],["2","@",""],["3","#",""],["4","$",""],["5","%",""],["6","",""],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","/"],["w","W","?"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["","`"],["[","{",""],["Enter","Enter"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["~","^"],["]","}",""],["/","?"]],[["Shift","Shift"],["\\","|"],["z","Z"],["x","X"],["c","C",""],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],[":",":"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["pt-BR"]};this.VKI_layout["Portugus"]={name:"Portuguese",keys:[[["\\","|"],["1","!"],["2",'"',"@"],["3","#",""],["4","$",""],["5","%"],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["'","?"],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["+","*",""],["","`"],["~","^"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["<",">","\\"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["pt"]};this.VKI_layout["Romn"]={name:"Romanian",keys:[[["","","`","~"],["1","!","~"],["2","@",""],["3","#","^"],["4","$",""],["5","%",""],["6","^",""],["7","&","`"],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+","",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P",""],["","","[","{"],["","","]","}"],["","","\\","|"]],[["Caps","Caps"],["a","A"],["s","S",""],["d","D","",""],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","",""],[this.VKI_isIElt8?"":"",this.VKI_isIElt8?"":"",";",":"],[this.VKI_isIElt8?"":"",this.VKI_isIElt8?"":"","'",'"'],["Enter","Enter"]],[["Shift","Shift"],["\\","|"],["z","Z"],["x","X"],["c","C",""],["v","V"],["b","B"],["n","N"],["m","M"],[",",";","<",""],[".",":",">",""],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["ro"]};this.VKI_layout[""]={name:"Russian",keys:[[["",""],["1","!"],["2",'"'],["3",""],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["\\","/"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["/","|"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[".",","],["Shift","Shift"]],[[" "," "]]],lang:["ru"]};this.VKI_layout["Schweizerdeutsch"]={name:"Swiss German",keys:[[["",""],["1","+",""],["2",'"',"@"],["3","*","#"],["4","",""],["5","%",""],["6","&",""],["7","/","|"],["8","(",""],["9",")"],["0","="],["'","?",""],["^","`","~"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P"],["","","["],["","!","]"],["$","","}"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["","","{"],["Enter","Enter"]],[["Shift","Shift"],["<",">","\\"],["y","Y"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["de-CH"]};this.VKI_layout["Shqip"]={name:"Albanian",keys:[[["\\","|"],["1","!","~"],["2",'"',""],["3","#","^"],["4","$",""],["5","%",""],["6","^",""],["7","&","`"],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","\\"],["w","W","|"],["e","E"],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P"],["","",""],["[","{",""],["]","}",""]],[["Caps","Caps"],["a","A"],["s","S",""],["d","D",""],["f","F","["],["g","G","]"],["h","H"],["j","J"],["k","K",""],["l","L",""],["","","$"],["@","'",""],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["y","Y"],["x","X"],["c","C"],["v","V","@"],["b","B","{"],["n","N","}"],["m","M",""],[",",";","<"],[".",":",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["sq"]};this.VKI_layout["Slovenina"]={name:"Slovak",keys:[[[";",""],["+","1","~"],["","2",""],["","3","^"],["","4",""],["","5",""],["","6",""],["","7","`"],["","8",""],["","9",""],["","0",""],["=","%",""],["","",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","\\"],["w","W","|"],["e","E",""],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P","'"],["","/",""],["","(",""],["",")",""]],[["Caps","Caps"],["a","A"],["s","S",""],["d","D",""],["f","F","["],["g","G","]"],["h","H"],["j","J"],["k","K",""],["l","L",""],["",'"',"$"],["","!",""],["Enter","Enter"]],[["Shift","Shift"],["&","*","<"],["y","Y",">"],["x","X","#"],["c","C","&"],["v","V","@"],["b","B","{"],["n","N","}"],["m","M"],[",","?","<"],[".",":",">"],["-","_","*"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["sk"]};this.VKI_layout["Slovenina"]={name:"Slovenian",keys:this.VKI_layout["Bosanski"].keys.slice(0),lang:["sl"]};this.VKI_layout[""]={name:"Serbian Cyrillic",keys:[[["`","~"],["1","!"],["2",'"'],["3","#"],["4","$"],["5","%"],["6","&"],["7","/"],["8","("],["9",")"],["0","="],["'","?"],["+","*"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[",",";","<"],[".",":",">"],["-","_",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["sr-Cyrl"]};this.VKI_layout["Srpski"]={name:"Serbian Latin",keys:this.VKI_layout["Bosanski"].keys.slice(0),lang:["sr"]};this.VKI_layout["Suomi"]={name:"Finnish",keys:[[["",""],["1","!"],["2",'"',"@"],["3","#",""],["4","","$"],["5","%",""],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["+","?","\\"],["","`"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","",""],["w","W"],["e","E",""],["r","R"],["t","T","",""],["y","Y"],["u","U"],["i","I","",""],["o","O","",""],["p","P"],["",""],["","^","~"],["'","*"]],[["Caps","Caps"],["a","A","",""],["s","S","",""],["d","D","",""],["f","F","",""],["g","G","",""],["h","H","",""],["j","J"],["k","K","",""],["l","L"],["","","",""],["","","",""],["Enter","Enter"]],[["Shift","Shift"],["<",">","|"],["z","Z","",""],["x","X"],["c","C","",""],["v","V","",""],["b","B","",""],["n","N","",""],["m","M",""],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[["Alt","Alt"],[" "," "," "," "],["AltGr","AltGr"]]],lang:["fi"]};this.VKI_layout["Svenska"]={name:"Swedish",keys:[[["",""],["1","!"],["2",'"',"@"],["3","#",""],["4","","$"],["5","%",""],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["+","?","\\"],["","`"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["",""],["","^","~"],["'","*"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["<",">","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M","",""],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["sv"]};this.VKI_layout["Swiss Franais"]={name:"Swiss French",keys:[[["",""],["1","+",""],["2",'"',"@"],["3","*","#"],["4","",""],["5","%",""],["6","&",""],["7","/","|"],["8","(",""],["9",")"],["0","="],["'","?",""],["^","`","~"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E",""],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P"],["","","["],["","!","]"],["$","","}"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["",""],["","","{"],["Enter","Enter"]],[["Shift","Shift"],["<",">","\\"],["y","Y"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["fr-CH"]};this.VKI_layout[""]={name:"Syriac",keys:[[["","","",""],["1","!","",""],["2","","",""],["3","","",""],["4","","",""],["5","","",""],["6","","",""],["7","","",""],["8","","",""],["9",")","",""],["0","(","",""],["-","","",""],["=","+","",""],["Bksp","Bksp"]],[["Tab","Tab"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["",""],["",""],["",":"]],[["Caps","Caps"],["","","",""],["","","",""],["",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["]",""],["[","","",""],["",""],["","",""],["","",""],["","",""],[".","",""],["",""],["",""],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["syc"]};this.VKI_layout[""]={name:"Tamil",keys:[[["",""],["1","",""],["2","",""],["3","",""],["4","",""],["5","",""],["6","",""],["7","",""],["8","",""],["9","",""],["0","",""],["-","",""],["","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],[""],["",""],["",""],["",""],["",""],["",""],[",",""],[".",""],["",""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["ta"]};this.VKI_layout[""]={name:"Telugu",keys:[[["",""],["1","",""],["2","",""],["3","",""],["4","",""],["5","",""],["6","",""],["7","",""],["8","",""],["9","(",""],["0",")",""],["-",""],["","",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["","",""],["",""],["","","",""],["",""],[""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["","",""],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],[""],["",""],["",""],[",",""],["."],[""],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["te"]};this.VKI_layout["Ting Vit"]={name:"Vietnamese",keys:[[["`","~","`","~"],["","","1","!"],["","","2","@"],["","","3","#"],["","","4","$"],["","","5","%"],["","","6","^"],["","","7","&"],["","","8","*"],["","","9","("],["","","0",")"],["-","_","-","_"],["","+","=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","q","Q"],["w","W","w","W"],["e","E","e","E"],["r","R","r","R"],["t","T","t","T"],["y","Y","y","Y"],["u","U","u","U"],["i","I","i","I"],["o","O","o","O"],["p","P","p","P"],["","","[","{"],["","","]","}"],["\\","|","\\","|"]],[["Caps","Caps"],["a","A","a","A"],["s","S","s","S"],["d","D","d","D"],["f","F","f","F"],["g","G","g","G"],["h","H","h","H"],["j","J","j","J"],["k","K","k","K"],["l","L","l","L"],[";",":",";",":"],["'",'"',"'",'"'],["Enter","Enter"]],[["Shift","Shift"],["z","Z","z","Z"],["x","X","x","X"],["c","C","c","C"],["v","V","v","V"],["b","B","b","B"],["n","N","n","N"],["m","M","m","M"],[",","<",",","<"],[".",">",".",">"],["/","?","/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["vi"]};this.VKI_layout[" Kedmanee"]={name:"Thai Kedmanee",keys:[[["_","%"],["","+"],["/",""],["-",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",'"'],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",","],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","."],["Enter","Enter"]],[["Shift","Shift"],["","("],["",")"],["",""],["",""],["",""],["",""],["","?"],["",""],["",""],["",""],["Shift","Shift"]],[[" "," "]]],lang:["th"]};this.VKI_layout[" Pattachote"]={name:"Thai Pattachote",keys:[[["_",""],["=","+"],["",'"'],["","/"],["",","],["","?"],["",""],["","_"],["","."],["","("],["",")"],["","-"],["","%"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Shift","Shift"]],[[" "," "]]]};this.VKI_layout[""]={name:"Tatar",keys:[[["","","",""],["1","!"],["2",'"',"@"],["3","","#"],["4",";","$"],["5","%"],["6",":"],["7","?","["],["8","*","]"],["9","(","{"],["0",")","}"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["","","",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["",""],["",""],["","","",""],["\\","/"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["","","'"],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","","",""],["","","<"],["","",">"],[".",","],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["tt"]};this.VKI_layout["Trke F"]={name:"Turkish F",keys:[[["+","*",""],["1","!","",""],["2",'"',""],["3","^","#",""],["4","$","",""],["5","%",""],["6","&",""],["7","'","{"],["8","(","["],["9",")","]"],["0","=","}"],["/","?","\\",""],["-","_","|"],["Bksp","Bksp"]],[["Tab","Tab"],["f","F","@"],["g","G"],["",""],["","I","",""],["o","O"],["d","D",""],["r","R"],["n","N"],["h","H","",""],["p","P",""],["q","Q",""],["w","W","~"],["x","X","`"]],[["Caps","Caps"],["u","U","",""],["i","","",""],["e","E",""],["a","A"," ",""],["",""],["t","T"],["k","K"],["m","M"],["l","L"],["y","Y",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["<",">","|",""],["j","J","","<"],["","","",">"],["v","V","",""],["c","C"],["",""],["z","Z"],["s","S","",""],["b","B",""],[".",":",""],[",",";","-"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]]};this.VKI_layout["Trke Q"]={name:"Turkish Q",keys:[[['"',"","<"],["1","!",">"],["2","'",""],["3","^","#"],["4","+","$"],["5","%",""],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["*","?","\\"],["-","_","|"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","@"],["w","W"],["e","E",""],["r","R"],["t","T"],["y","Y"],["u","U"],["","I","i",""],["o","O"],["p","P"],["","",""],["","","~"],[",",";","`"]],[["Caps","Caps"],["a","A","",""],["s","S",""],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["","",""],["i",""],["Enter","Enter"]],[["Shift","Shift"],["<",">","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],["",""],["",""],[".",":"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["tr"]};this.VKI_layout[""]={name:"Ukrainian",keys:[[["","~"],["1","!"],["2",'"'],["3",""],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[".",","],["Shift","Shift"]],[[" "," "]]],lang:["uk"]};this.VKI_layout["United Kingdom"]={name:"United Kingdom",keys:[[["`","",""],["1","!"],["2",'"'],["3",""],["4","$",""],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","",""],["r","R"],["t","T"],["y","Y"],["u","U","",""],["i","I","",""],["o","O","",""],["p","P"],["[","{"],["]","}"],["#","~"]],[["Caps","Caps"],["a","A","",""],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'","@"],["Enter","Enter"]],[["Shift","Shift"],["\\","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["en-gb"]};this.VKI_layout[""]={name:"Urdu",keys:[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5",""],["6","^"],["7",""],["8",""],["9",")"],["0","("],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["]","}"],["[","{"],["\\","|"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",">"],["","<"],["/",""],["Shift","Shift"]],[[" "," "]]],lang:["ur"]};
    this.VKI_layout[" Phonetic"]={name:"Urdu Phonetic",keys:[[["","","~"],["","1","!"],["","2","@"],["","3","#"],["","4","$"],["","5",""],["","6","^"],["","7","&"],["","8","*"],["","9","("],["","0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["",""],["","",""],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["","",""],["","",""],["","",""],[""],["",""],["","",""],["","",""],["",""],[""],["",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["","",""],["","",""],["","",""],["",""],["","",""],["","",""],["",""],["","","<"],["","",">"],["/",""],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]]};this.VKI_layout["US Standard"]={name:"US Standard",keys:[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "]]],lang:["en-us"]};this.VKI_layout["US International"]={name:"US International",keys:[[["`","~"],["1","!","",""],["2","@",""],["3","#",""],["4","$","",""],["5","%",""],["6","^",""],["7","&",""],["8","*",""],["9","(",""],["0",")",""],["-","_",""],["=","+","",""],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","",""],["w","W","",""],["e","E","",""],["r","R",""],["t","T","",""],["y","Y","",""],["u","U","",""],["i","I","",""],["o","O","",""],["p","P","",""],["[","{",""],["]","}",""],["\\","|","",""]],[["Caps","Caps"],["a","A","",""],["s","S","",""],["d","D","",""],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","",""],[";",":","",""],["'",'"',"",""],["Enter","Enter"]],[["Shift","Shift"],["z","Z","",""],["x","X"],["c","C","",""],["v","V"],["b","B"],["n","N","",""],["m","M",""],[",","<","",""],[".",">"],["/","?",""],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["en"]};this.VKI_layout[""]={name:"Uzbek Cyrillic",keys:[[["",""],["1","!"],["2",'"'],["3",""],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["",""],["",""],["Bksp","Bksp"]],[["Tab","Tab"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["\\","/"]],[["Caps","Caps"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["Enter","Enter"]],[["Shift","Shift"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],[".",","],["Shift","Shift"]],[[" "," "]]],lang:["uz"]};this.VKI_layout[""]={name:"Yiddish",keys:[[[";","~",""],["1","!",""],["2","@",""],["3","#",""],["4","$",""],["5","%",""],["6","^",""],["7","*",""],["8","&",""],["9","(",""],["0",")",""],["-","_",""],["=","+",""],["Bksp","Bksp"]],[["Tab","Tab"],["/","",""],["'","",""],["","`","`"],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["[","{",""],["]","}",""],["\\","|",""]],[["Caps","Caps"],["","",""],["","",""],[""],["","",""],["","",""],["","",""],["","",""],["","",""],[""],["",":",""],[",",'"',""],["Enter","Enter"]],[["Shift","Shift"],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","<",""],["",">",""],[".","?",""],["Shift","Shift"]],[[" "," "],["Alt","Alt"]]],lang:["yi"]};this.VKI_layout[" "]={name:"Yiddish (Yidish Lebt)",keys:[[[";","~"],["1","!","",""],["2","@","",""],["3","#","",""],["4","$","",""],["5","%","",""],["6","^","",""],["7","&","",""],["8","*","",""],["9",")","",""],["0","(","",""],["-","_","",""],["=","+","",""],["Bksp","Bksp"]],[["Tab","Tab"],["/","","",""],["'","","",""],["","",""],[""],["","","",""],["","","",""],["","","",""],["","","",""],["","",""],["","","",""],["]","}","",""],["[","{","",""],["\\","|","",""]],[["Caps","Caps"],["","","",""],["","",""],["",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["",":","",""],[",",'"',";",""],["Enter","Enter"]],[["Shift","Shift"],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["","","",""],["",">","",""],["","<"],[".","?",""],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["yi"]};this.VKI_layout[""]={name:"Chinese Bopomofo IME",keys:[[["","~"],["","!"],["","@"],["","#"],["","$"],["","%"],["","^"],["","&"],["","*"],["",")"],["","("],["","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["","q"],["","w"],["","e"],["","r"],["","t"],["","y"],["","u"],["","i"],["","o"],["","p"],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["","a"],["","s"],["","d"],["","f"],["","g"],["","h"],["","j"],["","k"],["","l"],["",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["","z"],["","x"],["","c"],["","v"],["","b"],["","n"],["","m"],["","<"],["",">"],["","?"],["Shift","Shift"]],[[" "," "]]],lang:["zh-Bopo"]};this.VKI_layout[""]={name:"Chinese Cangjie IME",keys:[[["","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9",")"],["0","("],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["","q"],["","w"],["","e"],["","r"],["","t"],["","y"],["","u"],["","i"],["","o"],["","p"],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["","a"],["","s"],["","d"],["","f"],["","g"],["","h"],["","j"],["","k"],["","l"],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["","z"],["","x"],["","c"],["","v"],["","b"],["","n"],["","m"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "]]],lang:["zh"]};this.VKI_deadkey={};this.VKI_deadkey['"']=this.VKI_deadkey[""]=this.VKI_deadkey[""]={a:"",e:"",i:"",o:"",u:"",y:"","":"","":"","":"","":"","":"","":"",A:"",E:"",I:"",O:"",U:"",Y:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};this.VKI_deadkey["~"]={a:"",l:"",n:"",o:"",A:"",L:"",N:"",O:""};this.VKI_deadkey["^"]={a:"",e:"",i:"",o:"",u:"",w:"",y:"",A:"",E:"",I:"",O:"",U:"",W:"",Y:""};this.VKI_deadkey[""]={c:"",d:"",e:"",s:"",l:"",n:"",r:"",t:"",u:"",z:"","":"",C:"",D:"",E:"",S:"",L:"",N:"",R:"",T:"",U:"",Z:"","":""};this.VKI_deadkey[""]={a:"",g:"",A:"",G:""};this.VKI_deadkey["-"]=this.VKI_deadkey[""]={a:"",e:"",i:"",o:"",u:"",y:"","":"",A:"",E:"",I:"",O:"",U:"",Y:"","":""};this.VKI_deadkey["`"]={a:"",e:"",i:"",o:"",u:"","":"",A:"",E:"",I:"",O:"",U:"","":""};this.VKI_deadkey["'"]=this.VKI_deadkey[""]=this.VKI_deadkey[""]={a:"",e:"",i:"",o:"",u:"",y:"","":"","":"","":"","":"","":"","":"","":"","":"",A:"",E:"",I:"",O:"",U:"",Y:"","":"","":"","":"","":"","":"","":"","":"","":""};this.VKI_deadkey[""]={o:"",u:"",O:"",U:""};this.VKI_deadkey[""]={"":"","":""};this.VKI_deadkey[""]=this.VKI_deadkey[""]={a:"",u:"",A:"",U:""};this.VKI_deadkey[""]={a:"",e:"",i:"",o:"",u:"",y:"",A:"",E:"",I:"",O:"",U:"",Y:""};this.VKI_deadkey[""]={c:"",e:"",g:"",z:"",C:"",E:"",G:"",Z:""};this.VKI_deadkey[""]=this.VKI_deadkey[""]={c:"",s:"",C:"",S:""};this.VKI_deadkey[","]={s:this.VKI_isIElt8?"":"",t:this.VKI_isIElt8?"":"",S:this.VKI_isIElt8?"":"",T:this.VKI_isIElt8?"":""};this.VKI_deadkey[""]={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};this.VKI_symbol={"":"NB\nSP","":"ZW\nSP","":"ZW\nNJ","":"ZW\nJ"};this.VKI_numpad=[[["$"],[""],[""],[""]],[["7"],["8"],["9"],["/"]],[["4"],["5"],["6"],["*"]],[["1"],["2"],["3"],["-"]],[["0"],["."],["="],["+"]]];VKI_attach=function(t,n){if(t.getAttribute("VKI_attached"))return false;if(e.VKI_imageURI){var i=document.createElement("img");i.src=e.VKI_imageURI;i.alt=e.VKI_i18n["01"];i.className="keyboardInputInitiator";i.title=e.VKI_i18n["01"];i.elem=t;i.onclick=function(t){t=t||event;if(t.stopPropagation){t.stopPropagation()}else t.cancelBubble=true;e.VKI_show(this.elem)};t.parentNode.insertBefore(i,t.dir=="rtl"?t:t.nextSibling)}else{t.onfocus=function(){if(e.VKI_target!=this){if(e.VKI_target)e.VKI_close();e.VKI_show(this)}};t.onclick=function(){if(!e.VKI_target)e.VKI_show(this)}}t.setAttribute("VKI_attached","true");if(e.VKI_isIE){t.onclick=t.onselect=t.onkeyup=function(n){if((n||event).type!="keyup"||!this.readOnly)this.range=document.selection.createRange();if(e.VKI_target!=this)e.VKI_show(this);t.focus()}}T(t,"click",function(t){if(e.VKI_target==this){t=t||event;if(t.stopPropagation){t.stopPropagation()}else t.cancelBubble=true}return false},false);if(e.VKI_isMoz)t.addEventListener("blur",function(){this.setAttribute("_scrollTop",this.scrollTop)},false);if(typeof n!=="undefined"&&n){e.VKI_show(t)}};function t(){var t=[document.getElementsByTagName("input"),document.getElementsByTagName("textarea")];for(var n=0,i;i=t[n++];)for(var r=0,s;s=i[r++];)if(s.nodeName=="TEXTAREA"||s.type=="text"||s.type=="password")if(s.className.indexOf("keyboardInput")>-1)VKI_attach(s);T(document.documentElement,"click",function(t){e.VKI_close()},false)}function n(t){if(t.nodeName=="TD"){if(!t.click)t.click=function(){var e=this.ownerDocument.createEvent("MouseEvents");e.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,false,false,false,false,0,null);this.dispatchEvent(e)};t.VKI_clickless=0;T(t,"dblclick",function(){return false},false)}T(t,"mouseover",function(){if(this.nodeName=="TD"&&e.VKI_clickless){var t=this;clearTimeout(this.VKI_clickless);this.VKI_clickless=setTimeout(function(){t.click()},e.VKI_clickless)}if(e.VKI_isIE)this.className+=" hover"},false);T(t,"mouseout",function(){if(this.nodeName=="TD")clearTimeout(this.VKI_clickless);if(e.VKI_isIE)this.className=this.className.replace(/ ?(hover|pressed) ?/g,"")},false);T(t,"mousedown",function(){if(this.nodeName=="TD")clearTimeout(this.VKI_clickless);if(e.VKI_isIE)this.className+=" pressed"},false);T(t,"mouseup",function(){if(this.nodeName=="TD")clearTimeout(this.VKI_clickless);if(e.VKI_isIE)this.className=this.className.replace(/ ?pressed ?/g,"")},false)}this.VKI_keyboard=document.createElement("table");this.VKI_keyboard.id="keyboardInputMaster";this.VKI_keyboard.dir="ltr";this.VKI_keyboard.cellSpacing="0";this.VKI_keyboard.reflow=function(){this.style.width="50px";var e=this.offsetWidth;this.style.width=""};T(this.VKI_keyboard,"click",function(e){e=e||event;if(e.stopPropagation){e.stopPropagation()}else e.cancelBubble=true;return false},false);if(!this.VKI_layout[this.VKI_kt])return alert('No keyboard named "'+this.VKI_kt+'"');this.VKI_langCode={};var r=document.createElement("thead");var s=document.createElement("tr");var a=document.createElement("th");a.colSpan="2";var o=document.createElement("div");o.title=this.VKI_i18n["02"];T(o,"click",function(){var e=this.getElementsByTagName("ol")[0];if(!e.style.display){e.style.display="block";var t=e.getElementsByTagName("li");for(var n=0,i=0;n<t.length;n++){if(VKI_kt==t[n].firstChild.nodeValue){t[n].className="selected";i=t[n].offsetTop-t[n].offsetHeight*2}else t[n].className=""}setTimeout(function(){e.scrollTop=i},0)}else e.style.display=""},false);o.appendChild(document.createTextNode(this.VKI_i18n["12"]+": "));o.appendChild(document.createTextNode(this.VKI_kt));o.appendChild(document.createTextNode(this.VKI_isIElt8?" ":" "));o.langCount=0;var l=document.createElement("ol");for(ktype in this.VKI_layout){if(typeof this.VKI_layout[ktype]=="object"){if(!this.VKI_layout[ktype].lang)this.VKI_layout[ktype].lang=[];for(var c=0;c<this.VKI_layout[ktype].lang.length;c++)this.VKI_langCode[this.VKI_layout[ktype].lang[c].toLowerCase().replace(/-/g,"_")]=ktype;var u=document.createElement("li");u.title=this.VKI_layout[ktype].name;T(u,"click",function(t){t=t||event;if(t.stopPropagation){t.stopPropagation()}else t.cancelBubble=true;this.parentNode.style.display="";e.VKI_kts=e.VKI_kt=o.firstChild.nodeValue=this.firstChild.nodeValue;e.VKI_buildKeys();e.VKI_position(true)},false);n(u);u.appendChild(document.createTextNode(ktype));l.appendChild(u);o.langCount++}}o.appendChild(l);if(o.langCount>1)a.appendChild(o);this.VKI_langCode.index=[];for(prop in this.VKI_langCode)if(prop!="index"&&typeof this.VKI_langCode[prop]=="string")this.VKI_langCode.index.push(prop);this.VKI_langCode.index.sort();this.VKI_langCode.index.reverse();if(this.VKI_numberPad){var d=document.createElement("span");d.appendChild(document.createTextNode("#"));d.title=this.VKI_i18n["00"];T(d,"click",function(){C.style.display=!C.style.display?"none":"";e.VKI_position(true)},false);n(d);a.appendChild(d)}this.VKI_kbsize=function(t){e.VKI_size=Math.min(5,Math.max(1,e.VKI_size));e.VKI_keyboard.className=e.VKI_keyboard.className.replace(/ ?keyboardInputSize\d ?/,"");if(e.VKI_size!=2)e.VKI_keyboard.className+=" keyboardInputSize"+e.VKI_size;e.VKI_position(true);if(e.VKI_isOpera)e.VKI_keyboard.reflow()};if(this.VKI_sizeAdj){var f=document.createElement("small");f.title=this.VKI_i18n["10"];T(f,"click",function(){--e.VKI_size;e.VKI_kbsize()},false);n(f);f.appendChild(document.createTextNode(this.VKI_isIElt8?"":""));a.appendChild(f);var h=document.createElement("big");h.title=this.VKI_i18n["11"];T(h,"click",function(){++e.VKI_size;e.VKI_kbsize()},false);n(h);h.appendChild(document.createTextNode(this.VKI_isIElt8?"":""));a.appendChild(h)}var d=document.createElement("span");d.appendChild(document.createTextNode(this.VKI_i18n["07"]));d.title=this.VKI_i18n["08"];T(d,"click",function(){e.VKI_target.value="";e.VKI_target.focus();return false},false);n(d);a.appendChild(d);var p=document.createElement("strong");p.appendChild(document.createTextNode("X"));p.title=this.VKI_i18n["06"];T(p,"click",function(){e.VKI_close()},false);n(p);a.appendChild(p);s.appendChild(a);r.appendChild(s);this.VKI_keyboard.appendChild(r);var m=document.createElement("tbody");var s=document.createElement("tr");var g=document.createElement("td");var v=document.createElement("div");if(this.VKI_deadBox){var y=document.createElement("label");var b=document.createElement("input");b.type="checkbox";b.title=this.VKI_i18n["03"]+": "+(this.VKI_deadkeysOn?this.VKI_i18n["04"]:this.VKI_i18n["05"]);b.defaultChecked=this.VKI_deadkeysOn;T(b,"click",function(){this.title=e.VKI_i18n["03"]+": "+(this.checked?e.VKI_i18n["04"]:e.VKI_i18n["05"]);e.VKI_modify("");return true},false);y.appendChild(b);b.checked=this.VKI_deadkeysOn;v.appendChild(y);this.VKI_deadkeysOn=b}else this.VKI_deadkeysOn.checked=this.VKI_deadkeysOn;if(this.VKI_showVersion){var w=document.createElement("var");w.title=this.VKI_i18n["09"]+" "+this.VKI_version;w.appendChild(document.createTextNode("v"+this.VKI_version));v.appendChild(w)}g.appendChild(v);s.appendChild(g);var C=document.createElement("td");C.id="keyboardInputNumpad";if(!this.VKI_numberPadOn)C.style.display="none";var A=document.createElement("table");A.cellSpacing="0";var S=document.createElement("tbody");for(var c=0;c<this.VKI_numpad.length;c++){var _=document.createElement("tr");for(var k=0;k<this.VKI_numpad[c].length;k++){var I=document.createElement("td");T(I,"click",x,false);n(I);I.appendChild(document.createTextNode(this.VKI_numpad[c][k]));_.appendChild(I)}S.appendChild(_)}A.appendChild(S);C.appendChild(A);s.appendChild(C);m.appendChild(s);this.VKI_keyboard.appendChild(m);if(this.VKI_isIE6){this.VKI_iframe=document.createElement("iframe");this.VKI_iframe.style.position="absolute";this.VKI_iframe.style.border="0px none";this.VKI_iframe.style.filter="mask()";this.VKI_iframe.style.zIndex="999999";this.VKI_iframe.src=this.VKI_imageURI}function x(){var t=false,n="";if(this.firstChild.nodeName.toLowerCase()!="small"){if((n=this.firstChild.nodeValue)=="")return false}else n=this.firstChild.getAttribute("char");if(e.VKI_deadkeysOn.checked&&e.VKI_dead){if(e.VKI_dead!=n){if(n!=" "){if(e.VKI_deadkey[e.VKI_dead][n]){e.VKI_insert(e.VKI_deadkey[e.VKI_dead][n]);t=true}}else{e.VKI_insert(e.VKI_dead);t=true}}else t=true}e.VKI_dead=false;if(!t){if(e.VKI_deadkeysOn.checked&&e.VKI_deadkey[n]){e.VKI_dead=n;this.className+=" dead";if(e.VKI_shift)e.VKI_modify("Shift");if(e.VKI_altgr)e.VKI_modify("AltGr")}else e.VKI_insert(n)}e.VKI_modify("");return false}this.VKI_fireEvent=function(e,t,n){n||(n={});if(document.createEventObject){var r=document.createEventObject();for(i in n){if(i&&n[i]!==undefined){r[i]=n[i]}}return e.fireEvent("on"+t,r)}else{var r=document.createEvent("HTMLEvents");r.initEvent(t,true,true);for(i in n){if(i&&n[i]!==undefined){r[i]=n[i]}}return!e.dispatchEvent(r)}};this.VKI_buildKeys=function(){this.VKI_shift=this.VKI_shiftlock=this.VKI_altgr=this.VKI_altgrlock=this.VKI_dead=false;var t=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0];var i=t.getElementsByTagName("table");for(var r=i.length-1;r>=0;r--)t.removeChild(i[r]);for(var r=0,s=false,a;a=this.VKI_layout[this.VKI_kt].keys[r++];){var o=document.createElement("table");o.cellSpacing="0";if(a.length<=this.VKI_keyCenter)o.className="keyboardInputCenter";var l=document.createElement("tbody");var c=document.createElement("tr");for(var u=0,d;d=a[u++];){var f=document.createElement("td");if(this.VKI_symbol[d[0]]){var h=this.VKI_symbol[d[0]].split("\n");var p=document.createElement("small");p.setAttribute("char",d[0]);for(var m=0;m<h.length;m++){if(m)p.appendChild(document.createElement("br"));p.appendChild(document.createTextNode(h[m]))}f.appendChild(p)}else f.appendChild(document.createTextNode(d[0]||""));var g=[];if(this.VKI_deadkeysOn.checked)for(key in this.VKI_deadkey)if(key===d[0]){g.push("deadkey");break}if(a.length>this.VKI_keyCenter&&u==a.length)g.push("last");if(d[0]==" "||d[1]==" ")g.push("space");f.className=g.join(" ");switch(d[1]){case"Caps":case"Shift":case"Alt":case"AltGr":case"AltLk":T(f,"click",function(t){return function(){e.VKI_modify(t);return false}}(d[1]),false);break;case"Tab":T(f,"click",function(){if(e.VKI_activeTab){var t=$(e.VKI_target).closest(".input").next(".input").find("input, select, textarea").first();if(e.VKI_target.form){var n=e.VKI_target,i=n.form.elements;e.VKI_close();for(var r=0,s=false,a=-1;r<i.length;r++){if(a==-1&&i[r].getAttribute("VKI_attached"))a=r;if(s){if(e.VKI_activeTab==1&&i[r])break;if(i[r].getAttribute("VKI_attached"))break}else if(i[r]==n)s=true}if(r==i.length)r=Math.max(a,0);if(i[r].getAttribute("VKI_attached")){e.VKI_show(i[r])}else i[r].focus()}else if(t.length){e.VKI_close();if(t[0].getAttribute("VKI_attached")){e.VKI_show(t[0])}else t.focus()}else e.VKI_target.focus()}else e.VKI_insert("	");return false},false);break;case"Bksp":T(f,"click",function(){e.VKI_target.focus();if(e.VKI_target.setSelectionRange&&!e.VKI_target.readOnly&&(e.VKI_target.selectionStart||e.VKI_target.selectionEnd)){var t=[e.VKI_target.selectionStart,e.VKI_target.selectionEnd];if(t[0]<t[1])t[0]++;e.VKI_target.value=e.VKI_target.value.substr(0,t[0]-1)+e.VKI_target.value.substr(t[1]);e.VKI_target.setSelectionRange(t[0]-1,t[0]-1)}else if(e.VKI_target.createTextRange&&!e.VKI_target.readOnly){try{e.VKI_target.range.select()}catch(n){e.VKI_target.range=document.selection.createRange()}if(!e.VKI_target.range.text.length){e.VKI_target.range.moveStart("character",-e.VKI_target.value.length);var i=e.VKI_target.range.text.length;if(i===0){i=e.VKI_target.value.length}e.VKI_target.range=e.VKI_target.createTextRange();e.VKI_target.range.moveStart("character",-e.VKI_target.value.length);e.VKI_target.range.moveStart("character",i);e.VKI_target.range.moveEnd("character",0);e.VKI_target.range.collapse(true);e.VKI_target.range.select();e.VKI_target.range.moveStart("character",-1)}e.VKI_target.range.text=""}else e.VKI_target.value=e.VKI_target.value.substr(0,e.VKI_target.value.length-1);if(e.VKI_shift)e.VKI_modify("Shift");if(e.VKI_altgr)e.VKI_modify("AltGr");e.VKI_target.focus();return true},false);break;case"Enter":T(f,"click",function(){if(e.VKI_target.nodeName!="TEXTAREA"){if(e.VKI_enterSubmit){if(e.VKI_target.form){for(var t=0,n=false;t<e.VKI_target.form.elements.length;t++)if(e.VKI_target.form.elements[t].type=="submit")n=true;if(!n)e.VKI_target.form.submit()}else{var i={keyCode:13,charCode:13};e.VKI_fireEvent(e.VKI_target,"keydown",i);e.VKI_fireEvent(e.VKI_target,"keypress",i);e.VKI_fireEvent(e.VKI_target,"keyup",i)}}e.VKI_close()}else e.VKI_insert("\n");return true},false);break;default:T(f,"click",x,false)}n(f);c.appendChild(f);for(var m=0;m<4;m++)if(this.VKI_deadkey[d[m]=d[m]||""])s=true}l.appendChild(c);o.appendChild(l);t.appendChild(o)}if(this.VKI_deadBox)this.VKI_deadkeysOn.style.display=s?"inline":"none";if(this.VKI_isIE6){this.VKI_iframe.style.width=this.VKI_keyboard.offsetWidth+"px";this.VKI_iframe.style.height=this.VKI_keyboard.offsetHeight+"px"}};this.VKI_buildKeys();T(this.VKI_keyboard,"selectstart",function(){return false},false);this.VKI_keyboard.unselectable="on";if(this.VKI_isOpera)T(this.VKI_keyboard,"mousedown",function(){return false},false);this.VKI_modify=function(e){switch(e){case"Alt":case"AltGr":this.VKI_altgr=!this.VKI_altgr;break;case"AltLk":this.VKI_altgr=0;this.VKI_altgrlock=!this.VKI_altgrlock;break;case"Caps":this.VKI_shift=0;this.VKI_shiftlock=!this.VKI_shiftlock;break;case"Shift":this.VKI_shift=!this.VKI_shift;break}var t=0;if(!this.VKI_shift!=!this.VKI_shiftlock)t+=1;if(!this.VKI_altgr!=!this.VKI_altgrlock)t+=2;var n=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0].getElementsByTagName("table");for(var i=0;i<n.length;i++){var r=n[i].getElementsByTagName("td");for(var s=0;s<r.length;s++){var a=[],o=this.VKI_layout[this.VKI_kt].keys[i][s];switch(o[1]){case"Alt":case"AltGr":if(this.VKI_altgr)a.push("pressed");break;case"AltLk":if(this.VKI_altgrlock)a.push("pressed");break;case"Shift":if(this.VKI_shift)a.push("pressed");break;case"Caps":if(this.VKI_shiftlock)a.push("pressed");break;case"Tab":case"Enter":case"Bksp":break;default:if(e){r[s].removeChild(r[s].firstChild);if(this.VKI_symbol[o[t]]){var l=this.VKI_symbol[o[t]].split("\n");var c=document.createElement("small");c.setAttribute("char",o[t]);for(var u=0;u<l.length;u++){if(u)c.appendChild(document.createElement("br"));c.appendChild(document.createTextNode(l[u]))}r[s].appendChild(c)}else r[s].appendChild(document.createTextNode(o[t]||""))}if(this.VKI_deadkeysOn.checked){var d=r[s].firstChild.nodeValue||r[s].firstChild.className;if(this.VKI_dead){if(d==this.VKI_dead)a.push("pressed");if(this.VKI_deadkey[this.VKI_dead][d])a.push("target")}if(this.VKI_deadkey[d])a.push("deadkey")}}if(s==r.length-1&&r.length>this.VKI_keyCenter)a.push("last");if(o[0]==" "||o[1]==" ")a.push("space");r[s].className=a.join(" ")}}};this.VKI_insert=function(e){this.VKI_target.focus();if(this.VKI_target.maxLength)this.VKI_target.maxlength=this.VKI_target.maxLength;if(typeof this.VKI_target.maxlength=="undefined"||this.VKI_target.maxlength<0||this.VKI_target.value.length<this.VKI_target.maxlength){if(this.VKI_target.setSelectionRange&&!this.VKI_target.readOnly&&!this.VKI_isIE){var t=[this.VKI_target.selectionStart,this.VKI_target.selectionEnd];this.VKI_target.value=this.VKI_target.value.substr(0,t[0])+e+this.VKI_target.value.substr(t[1]);if(e=="\n"&&this.VKI_isOpera)t[0]++;this.VKI_target.setSelectionRange(t[0]+e.length,t[0]+e.length)}else if(this.VKI_target.createTextRange&&!this.VKI_target.readOnly){if(this.VKI_target.value===""){this.VKI_target.range=this.VKI_target.createTextRange();this.VKI_target.range.collapse(true);this.VKI_target.range.select();this.VKI_target.range.text=e;return}try{this.VKI_target.range.select()}catch(n){this.VKI_target.range=document.selection.createRange()}if(this.VKI_target.range.text.length){this.VKI_target.range.text=e;this.VKI_target.range.collapse(true);this.VKI_target.range.select();return}this.VKI_target.range.moveStart("character",-this.VKI_target.value.length);var i=this.VKI_target.range.text.length;if(i===0){i=this.VKI_target.value.length}this.VKI_target.range=this.VKI_target.createTextRange();this.VKI_target.range.moveStart("character",-this.VKI_target.value.length);this.VKI_target.range.moveStart("character",i);this.VKI_target.range.moveEnd("character",0);this.VKI_target.range.collapse(true);this.VKI_target.range.select();this.VKI_target.range.text=e}else this.VKI_target.value+=e;if(this.VKI_shift)this.VKI_modify("Shift");if(this.VKI_altgr)this.VKI_modify("AltGr");this.VKI_target.focus()}else if(this.VKI_target.createTextRange&&this.VKI_target.range)this.VKI_target.range.select()};this.VKI_show=function(t){if(!this.VKI_target){this.VKI_target=t;if(this.VKI_langAdapt&&this.VKI_target.lang){var n=false,i=[],r=this.VKI_target.lang.toLowerCase().replace(/-/g,"_");for(var s=0,n=false;!n&&s<this.VKI_langCode.index.length;s++)if(r.indexOf(this.VKI_langCode.index[s])==0)n=o.firstChild.nodeValue=this.VKI_kt=this.VKI_langCode[this.VKI_langCode.index[s]];if(n)this.VKI_buildKeys()}if(this.VKI_isIE){if(!this.VKI_target.range){this.VKI_target.range=this.VKI_target.createTextRange();this.VKI_target.range.moveStart("character",this.VKI_target.value.length)}this.VKI_target.range.select()}try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(a){}if(this.VKI_clearPasswords&&this.VKI_target.type=="password")this.VKI_target.value="";var t=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do{if(E(t,"position")=="fixed"){this.VKI_target.keyboardPosition="fixed";break}}while(t=t.offsetParent);if(this.VKI_isIE6)document.body.appendChild(this.VKI_iframe);document.body.appendChild(this.VKI_keyboard);this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition;if(this.VKI_isOpera)this.VKI_keyboard.reflow();this.VKI_position(true);if(e.VKI_isMoz||e.VKI_isWebKit)this.VKI_position(true);this.VKI_target.blur();this.VKI_target.focus()}else this.VKI_close()};this.VKI_position=function(t){if(e.VKI_target){var n=P(e.VKI_keyboard),i=M(),r=B();var s=false,a=e.VKI_target.offsetHeight+3;if(t!==true){if(n[1]+e.VKI_keyboard.offsetHeight-r[1]-i[1]>0){s=true;a=-e.VKI_keyboard.offsetHeight-3}else if(n[1]-r[1]<0)s=true}if(s||t===true){var o=P(e.VKI_target),l=e.VKI_target;while(l=l.parentNode){if(l==document.body)break;if(!l.getAttribute("VKI_scrollListener")){l.setAttribute("VKI_scrollListener",true);T(l,"scroll",function(){e.VKI_position(true)},false)}var c=P(l),u=o[1]-c[1],d=o[0]-c[0];var f=u+e.VKI_target.offsetHeight;var h=d+e.VKI_target.offsetWidth;var p=l.offsetHeight-u-e.VKI_target.offsetHeight;var m=l.offsetWidth-d-e.VKI_target.offsetWidth;e.VKI_keyboard.style.display=f<0||h<0||p<0||m<0?"none":"";if(e.VKI_isIE6)e.VKI_iframe.style.display=f<0||h<0||p<0||m<0?"none":""}e.VKI_keyboard.style.top=o[1]-(e.VKI_target.keyboardPosition=="fixed"&&!e.VKI_isIE&&!e.VKI_isMoz?r[1]:0)+a+"px";e.VKI_keyboard.style.left=Math.max(10,Math.min(i[0]-e.VKI_keyboard.offsetWidth-25,o[0]))+"px";if(e.VKI_isIE6){e.VKI_iframe.style.width=e.VKI_keyboard.offsetWidth+"px";e.VKI_iframe.style.height=e.VKI_keyboard.offsetHeight+"px";e.VKI_iframe.style.top=e.VKI_keyboard.style.top;e.VKI_iframe.style.left=e.VKI_keyboard.style.left}}if(t===true)e.VKI_position()}};this.VKI_close=VKI_close=function(){if(this.VKI_target){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard);if(this.VKI_isIE6)this.VKI_iframe.parentNode.removeChild(this.VKI_iframe)}catch(t){}if(this.VKI_kt!=this.VKI_kts){o.firstChild.nodeValue=this.VKI_kt=this.VKI_kts;this.VKI_buildKeys()}o.getElementsByTagName("ol")[0].style.display="";this.VKI_target.focus();if(this.VKI_isIE){setTimeout(function(){e.VKI_target=false},0)}else this.VKI_target=false}};function T(e,t,n,i){if(e.addEventListener){e.addEventListener(t,function(t){n.call(e,t)},i)}else if(e.attachEvent)e.attachEvent("on"+t,function(){n.call(e)})}function P(e){var t=curtop=0,n=e;while((n=n.parentNode)&&n!=document.body){t-=n.scrollLeft||0;curtop-=n.scrollTop||0}do{t+=e.offsetLeft;curtop+=e.offsetTop}while(e=e.offsetParent);return[t,curtop]}function M(){if(e.innerHeight){return[e.innerWidth,e.innerHeight]}else if(document.documentElement&&document.documentElement.clientHeight){return[document.documentElement.clientWidth,document.documentElement.clientHeight]}else if(document.body)return[document.body.clientWidth,document.body.clientHeight];return[0,0]}function B(){var e=document.getElementsByTagName("html")[0];if(e.scrollTop&&document.documentElement.scrollTop){return[e.scrollLeft,e.scrollTop]}else if(e.scrollTop||document.documentElement.scrollTop){return[e.scrollLeft+document.documentElement.scrollLeft,e.scrollTop+document.documentElement.scrollTop]}else if(document.body.scrollTop)return[document.body.scrollLeft,document.body.scrollTop];return[0,0]}function E(e,t){if(e.currentStyle){var n=e.currentStyle[t]}else if(window.getComputedStyle)var n=window.getComputedStyle(e,null)[t];return n}T(window,"resize",this.VKI_position,false);T(window,"scroll",this.VKI_position,false);this.VKI_kbsize();T(window,"load",t,false)})();window.iURL={oldLocation:null,params:{},parseParams:function(){this.params={};this.oldLocation==document.location;if(!this.hasParameters())return;var e=document.location.search.replace(/^\?/,"");var t=e.split("&");var n;for(var i=0,r=t.length;i<r;i++){n=t[i].split("=");if(n&&n.length)this.params[n[0]]=n[1]}},get:function(e){if(!e)return null;e=e.toLowerCase();for(var t in this.params){if(e==t.toLowerCase()){return this.params[t]}}return null},getAllParameters:function(){return this.params},hasParameters:function(){return!!document.location.search&&!!document.location.search.replace(/^\?/,"").length}};setInterval(function(){if(document.location==window.iURL.oldLocation)return;window.iURL.parseParams()},100);window.iURL.parseParams();(function(){function o(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(n){return n?n.toString().replace(t,function(t){return e[t]||t}):n}}function p(b,a,f){return(typeof a==="string"?a:a.toString()).replace(b.define||h,function(g,e,c,i){if(e.indexOf("def.")===0)e=e.substring(4);if(!(e in f))if(c===":")f[e]=i;else eval("def['"+e+"']="+i);return""}).replace(b.use||h,function(g,e){var c=eval(e);return c?p(b,c,f):c})}function l(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var j={version:"0.2.0",templateSettings:{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:true,append:true,selfcontained:false},template:undefined,compile:undefined},m=function(){return this||(0,eval)("this")}();if(typeof module!=="undefined"&&module.exports)module.exports=j;else if(typeof define==="function"&&define.amd)define(function(){return j});else m.doT=j;m.encodeHTML=o();var q={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},h=/$^/;j.template=function(e,t,n){t=t||j.templateSettings;var i=t.append?q.append:q.split,r,s=0,a;if(t.use||t.define){var c=m.def;m.def=n||{};e=p(t,e,m.def);m.def=c}e=("var out='"+(t.strip?e.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):e).replace(/'|\\/g,"\\$&").replace(t.interpolate||h,function(e,t){return i.start+l(t)+i.end
}).replace(t.encode||h,function(e,t){r=true;return i.startencode+l(t)+i.end}).replace(t.conditional||h,function(e,t,n){return t?n?"';}else if("+l(n)+"){out+='":"';}else{out+='":n?"';if("+l(n)+"){out+='":"';}out+='"}).replace(t.iterate||h,function(e,t,n,i){if(!t)return"';} } out+='";s+=1;a=i||"i"+s;t=l(t);return"';var arr"+s+"="+t+";if(arr"+s+"){var "+n+","+a+"=-1,l"+s+"=arr"+s+".length-1;while("+a+"<l"+s+"){"+n+"=arr"+s+"["+a+"+=1];out+='"}).replace(t.evaluate||h,function(e,t){return"';"+l(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|}|^|{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|}|^|{)out\+=''\+/g,"$1out+=");if(r&&t.selfcontained)e="var encodeHTML=("+o.toString()+"());"+e;try{return new Function(t.varname,e)}catch(u){typeof console!=="undefined"&&console.log("Could not create a template function: "+e);throw u}};j.compile=function(e,t){return j.template(e,null,t)}})();(function(e,t){"use strict";e.iLocalStorage={_store:e.localStorage||null,set:function(e,t){if(typeof e==="undefined"||!this._store)return false;this._store.setItem(e,t);return true},get:function(e){if(typeof e==="undefined"||!this._store)return null;return this._store.getItem(e)},remove:function(e){if(typeof e==="undefined"||!this._store)return false;this._store.removeItem(e);return true},clear:function(){if(!this._store)return false;for(var e in this._store){if(this._store.hasOwnProperty(e)){this._store.removeItem(e)}}return true}}})(window,undefined);function StoryURLs(e){e=e||{};var t=this,n=[],i,r;function s(e){if(e["autostart"])this.start.call(this)}this.start=function(){var e=document.documentMode;if(window.history&&window.history.pushState){$(window).bind("popstate",a)}else if("onhashchange"in window&&/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7)){$(window).bind("hashchange",a)}else{o.call(t)}l.call(this)};this.stop=function(){$(window).unbind("popstate",a).unbind("hashchange",a);clearInterval(i)};this.get=function(){var e=JSON.stringify(n);return JSON.parse(e)};this.to=function(e){setTimeout(function(){window.location.hash=e},1)};function a(){l.call(t)}function o(){l.call(this);i=setTimeout(function(){o.call(t)},50)}function l(){var e=window.location.hash;e=e.replace(/^#/,"");if(r!=e){c(e);r=e}else if(!e&&!r&&n.length<1){c("")}}function c(e){var t=n.length;if(t>50)n.splice(0,1);n.push(e)}s.call(this,e)}jQuery.cookie=function(e,t,n){if(typeof t!="undefined"){n=n||{};if(t===null){t="";n.expires=-1}var i="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var r;if(typeof n.expires=="number"){r=new Date;r.setTime(r.getTime()+n.expires*24*60*60*1e3)}else{r=n.expires}i="; expires="+r.toUTCString()}var s=n.path?"; path="+n.path:"";var a=n.domain?"; domain="+n.domain:"";var o=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),i,s,a,o].join("")}else{var l=null;if(document.cookie&&document.cookie!=""){var c=document.cookie.split(";");for(var u=0;u<c.length;u++){var d=jQuery.trim(c[u]);if(d.substring(0,e.length+1)==e+"="){l=decodeURIComponent(d.substring(e.length+1));break}}}return l}};var JSON;if(!JSON){JSON={}}(function(){"use strict";function f(e){return e<10?"0"+e:e}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=new RegExp("[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g");var escapable=new RegExp('[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]',"g");var gap;var indent;var meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var rep;function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,s,a=gap,o,l=t[e];if(l&&typeof l==="object"&&typeof l.toJSON==="function"){l=l.toJSON(e)}if(typeof rep==="function"){l=rep.call(t,e,l)}switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l){return"null"}gap+=indent;o=[];if(Object.prototype.toString.apply(l)==="[object Array]"){s=l.length;for(n=0;n<s;n+=1){o[n]=str(n,l)||"null"}r=o.length===0?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]";gap=a;return r}if(rep&&typeof rep==="object"){s=rep.length;for(n=0;n<s;n+=1){if(typeof rep[n]==="string"){i=rep[n];r=str(i,l);if(r){o.push(quote(i)+(gap?": ":":")+r)}}}}else{for(i in l){if(Object.prototype.hasOwnProperty.call(l,i)){r=str(i,l);if(r){o.push(quote(i)+(gap?": ":":")+r)}}}}r=o.length===0?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}";gap=a;return r}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(e,t,n){var i;gap="";indent="";if(typeof n==="number"){for(i=0;i<n;i+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,r=e[t];if(r&&typeof r==="object"){for(n in r){if(Object.prototype.hasOwnProperty.call(r,n)){i=walk(r,n);if(i!==undefined){r[n]=i}else{delete r[n]}}}}return reviver.call(e,t,r)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();(function(){var e=this;var t=e._;var n={};var i=Array.prototype,r=Object.prototype,s=Function.prototype;var a=i.slice,o=i.unshift,l=r.toString,c=r.hasOwnProperty;var u=i.forEach,d=i.map,f=i.reduce,h=i.reduceRight,p=i.filter,m=i.every,g=i.some,v=i.indexOf,y=i.lastIndexOf,b=Array.isArray,w=Object.keys,C=s.bind;var A=function(e){return new B(e)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=A}exports._=A}else{e["_"]=A}A.VERSION="1.3.1";var S=A.each=A.forEach=function(e,t,i){if(e==null)return;if(u&&e.forEach===u){e.forEach(t,i)}else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++){if(r in e&&t.call(i,e[r],r,e)===n)return}}else{for(var a in e){if(A.has(e,a)){if(t.call(i,e[a],a,e)===n)return}}}};A.map=A.collect=function(e,t,n){var i=[];if(e==null)return i;if(d&&e.map===d)return e.map(t,n);S(e,function(e,r,s){i[i.length]=t.call(n,e,r,s)});if(e.length===+e.length)i.length=e.length;return i};A.reduce=A.foldl=A.inject=function(e,t,n,i){var r=arguments.length>2;if(e==null)e=[];if(f&&e.reduce===f){if(i)t=A.bind(t,i);return r?e.reduce(t,n):e.reduce(t)}S(e,function(e,s,a){if(!r){n=e;r=true}else{n=t.call(i,n,e,s,a)}});if(!r)throw new TypeError("Reduce of empty array with no initial value");return n};A.reduceRight=A.foldr=function(e,t,n,i){var r=arguments.length>2;if(e==null)e=[];if(h&&e.reduceRight===h){if(i)t=A.bind(t,i);return r?e.reduceRight(t,n):e.reduceRight(t)}var s=A.toArray(e).reverse();if(i&&!r)t=A.bind(t,i);return r?A.reduce(s,t,n,i):A.reduce(s,t)};A.find=A.detect=function(e,t,n){var i;_(e,function(e,r,s){if(t.call(n,e,r,s)){i=e;return true}});return i};A.filter=A.select=function(e,t,n){var i=[];if(e==null)return i;if(p&&e.filter===p)return e.filter(t,n);S(e,function(e,r,s){if(t.call(n,e,r,s))i[i.length]=e});return i};A.reject=function(e,t,n){var i=[];if(e==null)return i;S(e,function(e,r,s){if(!t.call(n,e,r,s))i[i.length]=e});return i};A.every=A.all=function(e,t,i){var r=true;if(e==null)return r;if(m&&e.every===m)return e.every(t,i);S(e,function(e,s,a){if(!(r=r&&t.call(i,e,s,a)))return n});return r};var _=A.some=A.any=function(e,t,i){t||(t=A.identity);var r=false;if(e==null)return r;if(g&&e.some===g)return e.some(t,i);S(e,function(e,s,a){if(r||(r=t.call(i,e,s,a)))return n});return!!r};A.include=A.contains=function(e,t){var n=false;if(e==null)return n;if(v&&e.indexOf===v)return e.indexOf(t)!=-1;n=_(e,function(e){return e===t});return n};A.invoke=function(e,t){var n=a.call(arguments,2);return A.map(e,function(e){return(A.isFunction(t)?t||e:e[t]).apply(e,n)})};A.pluck=function(e,t){return A.map(e,function(e){return e[t]})};A.max=function(e,t,n){if(!t&&A.isArray(e))return Math.max.apply(Math,e);if(!t&&A.isEmpty(e))return-Infinity;var i={computed:-Infinity};S(e,function(e,r,s){var a=t?t.call(n,e,r,s):e;a>=i.computed&&(i={value:e,computed:a})});return i.value};A.min=function(e,t,n){if(!t&&A.isArray(e))return Math.min.apply(Math,e);if(!t&&A.isEmpty(e))return Infinity;var i={computed:Infinity};S(e,function(e,r,s){var a=t?t.call(n,e,r,s):e;a<i.computed&&(i={value:e,computed:a})});return i.value};A.shuffle=function(e){var t=[],n;S(e,function(e,i,r){if(i==0){t[0]=e}else{n=Math.floor(Math.random()*(i+1));t[i]=t[n];t[n]=e}});return t};A.sortBy=function(e,t,n){return A.pluck(A.map(e,function(e,i,r){return{value:e,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0}),"value")};A.groupBy=function(e,t){var n={};var i=A.isFunction(t)?t:function(e){return e[t]};S(e,function(e,t){var r=i(e,t);(n[r]||(n[r]=[])).push(e)});return n};A.sortedIndex=function(e,t,n){n||(n=A.identity);var i=0,r=e.length;while(i<r){var s=i+r>>1;n(e[s])<n(t)?i=s+1:r=s}return i};A.toArray=function(e){if(!e)return[];if(e.toArray)return e.toArray();if(A.isArray(e))return a.call(e);if(A.isArguments(e))return a.call(e);return A.values(e)};A.size=function(e){return A.toArray(e).length};A.first=A.head=function(e,t,n){return t!=null&&!n?a.call(e,0,t):e[0]};A.initial=function(e,t,n){return a.call(e,0,e.length-(t==null||n?1:t))};A.last=function(e,t,n){if(t!=null&&!n){return a.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};A.rest=A.tail=function(e,t,n){return a.call(e,t==null||n?1:t)};A.compact=function(e){return A.filter(e,function(e){return!!e})};A.flatten=function(e,t){return A.reduce(e,function(e,n){if(A.isArray(n))return e.concat(t?n:A.flatten(n));e[e.length]=n;return e},[])};A.without=function(e){return A.difference(e,a.call(arguments,1))};A.uniq=A.unique=function(e,t,n){var i=n?A.map(e,n):e;var r=[];A.reduce(i,function(n,i,s){if(0==s||(t===true?A.last(n)!=i:!A.include(n,i))){n[n.length]=i;r[r.length]=e[s]}return n},[]);return r};A.union=function(){return A.uniq(A.flatten(arguments,true))};A.intersection=A.intersect=function(e){var t=a.call(arguments,1);return A.filter(A.uniq(e),function(e){return A.every(t,function(t){return A.indexOf(t,e)>=0})})};A.difference=function(e){var t=A.flatten(a.call(arguments,1));return A.filter(e,function(e){return!A.include(t,e)})};A.zip=function(){var e=a.call(arguments);var t=A.max(A.pluck(e,"length"));var n=new Array(t);for(var i=0;i<t;i++)n[i]=A.pluck(e,""+i);return n};A.indexOf=function(e,t,n){if(e==null)return-1;var i,r;if(n){i=A.sortedIndex(e,t);return e[i]===t?i:-1}if(v&&e.indexOf===v)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(i in e&&e[i]===t)return i;return-1};A.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1};A.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var i=Math.max(Math.ceil((t-e)/n),0);var r=0;var s=new Array(i);while(r<i){s[r++]=e;e+=n}return s};var k=function(){};A.bind=function I(e,t){var n,i;if(e.bind===C&&C)return C.apply(e,a.call(arguments,1));if(!A.isFunction(e))throw new TypeError;i=a.call(arguments,2);return n=function(){if(!(this instanceof n))return e.apply(t,i.concat(a.call(arguments)));k.prototype=e.prototype;var r=new k;var s=e.apply(r,i.concat(a.call(arguments)));if(Object(s)===s)return s;return r}};A.bindAll=function(e){var t=a.call(arguments,1);if(t.length==0)t=A.functions(e);S(t,function(t){e[t]=A.bind(e[t],e)});return e};A.memoize=function(e,t){var n={};t||(t=A.identity);return function(){var i=t.apply(this,arguments);return A.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}};A.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(e,n)},t)};A.defer=function(e){return A.delay.apply(A,[e,1].concat(a.call(arguments,1)))};A.throttle=function(e,t){var n,i,r,s,a;var o=A.debounce(function(){a=s=false},t);return function(){n=this;i=arguments;var l=function(){r=null;if(a)e.apply(n,i);o()};if(!r)r=setTimeout(l,t);if(s){a=true}else{e.apply(n,i)}o();s=true}};A.debounce=function(e,t){var n;return function(){var i=this,r=arguments;var s=function(){n=null;e.apply(i,r)};clearTimeout(n);n=setTimeout(s,t)}};A.once=function(e){var t=false,n;return function(){if(t)return n;t=true;return n=e.apply(this,arguments)}};A.wrap=function(e,t){return function(){var n=[e].concat(a.call(arguments,0));return t.apply(this,n)}};A.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};A.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};A.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(A.has(e,n))t[t.length]=n;return t};A.values=function(e){return A.map(e,A.identity)};A.functions=A.methods=function(e){var t=[];for(var n in e){if(A.isFunction(e[n]))t.push(n)}return t.sort()};A.extend=function(e){S(a.call(arguments,1),function(t){for(var n in t){e[n]=t[n]}});return e};A.defaults=function(e){S(a.call(arguments,1),function(t){for(var n in t){if(e[n]==null)e[n]=t[n]}});return e};A.clone=function(e){if(!A.isObject(e))return e;return A.isArray(e)?e.slice():A.extend({},e)};A.tap=function(e,t){t(e);return e};function x(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e._chain)e=e._wrapped;if(t._chain)t=t._wrapped;if(e.isEqual&&A.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&A.isFunction(t.isEqual))return t.isEqual(e);var i=l.call(e);if(i!=l.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var r=n.length;while(r--){if(n[r]==e)return true}n.push(e);var s=0,a=true;if(i=="[object Array]"){s=e.length;a=s==t.length;if(a){while(s--){if(!(a=s in e==s in t&&x(e[s],t[s],n)))break}}}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return false;for(var o in e){if(A.has(e,o)){s++;if(!(a=A.has(t,o)&&x(e[o],t[o],n)))break}}if(a){for(o in t){if(A.has(t,o)&&!s--)break}a=!s}}n.pop();return a}A.isEqual=function(e,t){return x(e,t,[])};A.isEmpty=function(e){if(A.isArray(e)||A.isString(e))return e.length===0;for(var t in e)if(A.has(e,t))return false;return true};A.isElement=function(e){return!!(e&&e.nodeType==1)};A.isArray=b||function(e){return l.call(e)=="[object Array]"};A.isObject=function(e){return e===Object(e)};A.isArguments=function(e){return l.call(e)=="[object Arguments]"};if(!A.isArguments(arguments)){A.isArguments=function(e){return!!(e&&A.has(e,"callee"))}}A.isFunction=function(e){return l.call(e)=="[object Function]"};A.isString=function(e){return l.call(e)=="[object String]"};A.isNumber=function(e){return l.call(e)=="[object Number]"};A.isNaN=function(e){return e!==e};A.isBoolean=function(e){return e===true||e===false||l.call(e)=="[object Boolean]"};A.isDate=function(e){return l.call(e)=="[object Date]"};A.isRegExp=function(e){return l.call(e)=="[object RegExp]"};A.isNull=function(e){return e===null};A.isUndefined=function(e){return e===void 0};A.has=function(e,t){return c.call(e,t)};A.noConflict=function(){e._=t;return this};A.identity=function(e){return e};A.times=function(e,t,n){for(var i=0;i<e;i++)t.call(n,i)};A.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};A.mixin=function(e){S(A.functions(e),function(t){V(t,A[t]=e[t])})};var T=0;A.uniqueId=function(e){var t=T++;return e?e+t:t};A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/.^/;var M=function(e){return e.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};A.template=function(e,t){var n=A.templateSettings;var i="var __p=[],print=function(){__p.push.apply(__p,arguments);};"+"with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.escape||P,function(e,t){return"',_.escape("+M(t)+"),'"}).replace(n.interpolate||P,function(e,t){return"',"+M(t)+",'"}).replace(n.evaluate||P,function(e,t){return"');"+M(t).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var r=new Function("obj","_",i);if(t)return r(t,A);return function(e){return r.call(this,e,A)}};A.chain=function(e){return A(e).chain()};var B=function(e){this._wrapped=e};A.prototype=B.prototype;var E=function(e,t){return t?A(e).chain():e};var V=function(e,t){B.prototype[e]=function(){var e=a.call(arguments);o.call(e,this._wrapped);return E(t.apply(A,e),this._chain)}};A.mixin(A);S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];B.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;if((e=="shift"||e=="splice")&&i===0)delete n[0];return E(n,this._chain)}});S(["concat","join","slice"],function(e){var t=i[e];B.prototype[e]=function(){return E(t.apply(this._wrapped,arguments),this._chain)}});B.prototype.chain=function(){this._chain=true;return this};B.prototype.value=function(){return this._wrapped}}).call(this);(function(){var e=this;var t=e.Backbone;var n=Array.prototype.slice;var i=Array.prototype.splice;var r;if(typeof exports!=="undefined"){r=exports}else{r=e.Backbone={}}r.VERSION="0.9.1";var s=e._;if(!s&&typeof require!=="undefined")s=require("underscore");var a=e.jQuery||e.Zepto||e.ender;r.setDomLibrary=function(e){a=e};r.noConflict=function(){e.Backbone=t;return this};r.emulateHTTP=false;r.emulateJSON=false;r.Events={on:function(e,t,n){var i;e=e.split(/\s+/);var r=this._callbacks||(this._callbacks={});while(i=e.shift()){var s=r[i]||(r[i]={});var a=s.tail||(s.tail=s.next={});a.callback=t;a.context=n;s.tail=a.next={}}return this},off:function(e,t,n){var i,r,s;if(!e){delete this._callbacks}else if(r=this._callbacks){e=e.split(/\s+/);while(i=e.shift()){s=r[i];delete r[i];if(!t||!s)continue;while((s=s.next)&&s.next){if(s.callback===t&&(!n||s.context===n))continue;this.on(i,s.callback,s.context)}}}return this},trigger:function(e){var t,i,r,s,a,o,l;if(!(r=this._callbacks))return this;o=r["all"];(e=e.split(/\s+/)).push(null);while(t=e.shift()){if(o)e.push({next:o.next,tail:o.tail,event:t});if(!(i=r[t]))continue;e.push({next:i.next,tail:i.tail})}l=n.call(arguments,1);while(i=e.pop()){s=i.tail;a=i.event?[i.event].concat(l):l;while((i=i.next)!==s){i.callback.apply(i.context||this,a)}}return this}};r.Events.bind=r.Events.on;r.Events.unbind=r.Events.off;r.Model=function(e,t){var n;e||(e={});if(t&&t.parse)e=this.parse(e);if(n=w(this,"defaults")){e=s.extend({},n,e)}if(t&&t.collection)this.collection=t.collection;this.attributes={};this._escapedAttributes={};this.cid=s.uniqueId("c");if(!this.set(e,{silent:true})){throw new Error("Can't create an invalid model")}delete this._changed;this._previousAttributes=s.clone(this.attributes);this.initialize.apply(this,arguments)};s.extend(r.Model.prototype,r.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.attributes[e];return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.attributes[e]!=null},set:function(e,t,n){var i,a,o;if(s.isObject(e)||e==null){i=e;n=t}else{i={};i[e]=t}n||(n={});if(!i)return this;if(i instanceof r.Model)i=i.attributes;if(n.unset)for(a in i)i[a]=void 0;if(!this._validate(i,n))return false;if(this.idAttribute in i)this.id=i[this.idAttribute];var l=this.attributes;var c=this._escapedAttributes;var u=this._previousAttributes||{};var d=this._setting;this._changed||(this._changed={});this._setting=true;for(a in i){o=i[a];if(!s.isEqual(l[a],o))delete c[a];n.unset?delete l[a]:l[a]=o;if(this._changing&&!s.isEqual(this._changed[a],o)){this.trigger("change:"+a,this,o,n);this._moreChanges=true}delete this._changed[a];if(!s.isEqual(u[a],o)||s.has(l,a)!=s.has(u,a)){this._changed[a]=o}}if(!d){if(!n.silent&&this.hasChanged())this.change(n);this._setting=false}return this},unset:function(e,t){(t||(t={})).unset=true;return this.set(e,null,t)},clear:function(e){(e||(e={})).unset=true;return this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this;var n=e.success;e.success=function(i,r,s){if(!t.set(t.parse(i,s),e))return false;if(n)n(t,i)};e.error=r.wrapError(e.error,t,e);return(this.sync||r.sync).call(this,"read",this,e)},save:function(e,t,n){var i,a;if(s.isObject(e)||e==null){i=e;n=t}else{i={};i[e]=t}n=n?s.clone(n):{};if(n.wait)a=s.clone(this.attributes);var o=s.extend({},n,{silent:true});if(i&&!this.set(i,n.wait?o:n)){return false}var l=this;var c=n.success;n.success=function(e,t,r){var a=l.parse(e,r);if(n.wait)a=s.extend(i||{},a);if(!l.set(a,n))return false;if(c){c(l,e)}else{l.trigger("sync",l,e,n)}};n.error=r.wrapError(n.error,l,n);var u=this.isNew()?"create":"update";var d=(this.sync||r.sync).call(this,u,this,n);if(n.wait)this.set(a,o);return d},destroy:function(e){e=e?s.clone(e):{};var t=this;var n=e.success;var i=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return i();e.success=function(r){if(e.wait)i();if(n){n(t,r)}else{t.trigger("sync",t,r,e)}};e.error=r.wrapError(e.error,t,e);var a=(this.sync||r.sync).call(this,"delete",this,e);if(!e.wait)i();return a},url:function(){var e=w(this.collection,"url")||w(this,"urlRoot")||C();if(this.isNew())return e;return e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){if(this._changing||!this.hasChanged())return this;this._changing=true;this._moreChanges=true;for(var t in this._changed){this.trigger("change:"+t,this,this._changed[t],e)}while(this._moreChanges){this._moreChanges=false;this.trigger("change",this,e)}this._previousAttributes=s.clone(this.attributes);delete this._changed;this._changing=false;return this},hasChanged:function(e){if(!arguments.length)return!s.isEmpty(this._changed);return this._changed&&s.has(this._changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this._changed):false;var t,n=false,i=this._previousAttributes;for(var r in e){if(s.isEqual(i[r],t=e[r]))continue;(n||(n={}))[r]=t}return n},previous:function(e){if(!arguments.length||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return true;e=s.extend({},this.attributes,e);var n=this.validate(e,t);if(!n)return true;if(t&&t.error){t.error(this,n,t)}else{this.trigger("error",this,n,t)}return false}});r.Collection=function(e,t){t||(t={});if(t.comparator)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,{silent:true,parse:t.parse})};s.extend(r.Collection.prototype,r.Events,{model:r.Model,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(e,t){var n,r,a,o,l,c,u={},d={};t||(t={});e=s.isArray(e)?e.slice():[e];for(n=0,a=e.length;n<a;n++){if(!(o=e[n]=this._prepareModel(e[n],t))){throw new Error("Can't add an invalid model to a collection")}if(u[l=o.cid]||this._byCid[l]||(c=o.id)!=null&&(d[c]||this._byId[c])){throw new Error("Can't add the same model to a collection twice")}u[l]=d[c]=o}for(n=0;n<a;n++){(o=e[n]).on("all",this._onModelEvent,this);this._byCid[o.cid]=o;if(o.id!=null)this._byId[o.id]=o}this.length+=a;r=t.at!=null?t.at:this.models.length;i.apply(this.models,[r,0].concat(e));if(this.comparator)this.sort({silent:true});if(t.silent)return this;for(n=0,a=this.models.length;n<a;n++){if(!u[(o=this.models[n]).cid])continue;t.index=n;o.trigger("add",o,this,t)}return this},remove:function(e,t){var n,i,r,a;t||(t={});e=s.isArray(e)?e.slice():[e];for(n=0,i=e.length;n<i;n++){a=this.getByCid(e[n])||this.get(e[n]);if(!a)continue;delete this._byId[a.id];delete this._byCid[a.cid];r=this.indexOf(a);this.models.splice(r,1);this.length--;if(!t.silent){t.index=r;a.trigger("remove",a,this,t)}this._removeReference(a)}return this},get:function(e){if(e==null)return null;return this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);if(this.comparator.length==1){this.models=this.sortBy(t)}else{this.models.sort(t)}if(!e.silent)this.trigger("reset",this,e);return this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]);t||(t={});for(var n=0,i=this.models.length;n<i;n++){this._removeReference(this.models[n])}this._reset();this.add(e,{silent:true,parse:t.parse});if(!t.silent)this.trigger("reset",this,t);return this},fetch:function(e){e=e?s.clone(e):{};if(e.parse===undefined)e.parse=true;var t=this;var n=e.success;e.success=function(i,r,s){t[e.add?"add":"reset"](t.parse(i,s),e);if(n)n(t,i)};e.error=r.wrapError(e.error,t,e);return(this.sync||r.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{};e=this._prepareModel(e,t);if(!e)return false;if(!t.wait)n.add(e,t);var i=t.success;t.success=function(r,s,a){if(t.wait)n.add(r,t);if(i){i(r,s)}else{r.trigger("sync",e,s,t)}};e.save(null,t);return e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(e,t){if(!(e instanceof r.Model)){var n=e;t.collection=this;e=new this.model(n,t);if(!e._validate(e.attributes,t))e=false}else if(!e.collection){e.collection=this}return e},_removeReference:function(e){if(this==e.collection){delete e.collection}e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if((e=="add"||e=="remove")&&n!=this)return;if(e=="destroy"){this.remove(t,i)}if(t&&e==="change:"+t.idAttribute){delete this._byId[t.previous(t.idAttribute)];this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var o=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(o,function(e){r.Collection.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});r.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var l=/:\w+/g;var c=/\*\w+/g;var u=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(r.Router.prototype,r.Events,{initialize:function(){},route:function(e,t,n){r.history||(r.history=new r.History);if(!s.isRegExp(e))e=this._routeToRegExp(e);if(!n)n=this[t];r.history.route(e,s.bind(function(i){var s=this._extractParameters(e,i);n&&n.apply(this,s);this.trigger.apply(this,["route:"+t].concat(s));r.history.trigger("route",this,t,s)},this));return this},navigate:function(e,t){r.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes){e.unshift([t,this.routes[t]])}for(var n=0,i=e.length;n<i;n++){this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){e=e.replace(u,"\\$&").replace(l,"([^/]+)").replace(c,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});r.History=function(){this.handlers=[];s.bindAll(this,"checkUrl")};var d=/^[#\/]/;var f=/msie [\w.]+/;var h=false;s.extend(r.History.prototype,r.Events,{interval:50,getFragment:function(e,t){if(e==null){if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;if(n)e+=n}else{e=window.location.hash}}e=decodeURIComponent(e);if(!e.indexOf(this.options.root))e=e.substr(this.options.root.length);return e.replace(d,"")},start:function(e){if(h)throw new Error("Backbone.history has already been started");this.options=s.extend({},{root:"/"},this.options,e);this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment();var n=document.documentMode;var i=f.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);if(i){this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(t)}if(this._hasPushState){a(window).bind("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!i){a(window).bind("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=t;h=true;var r=window.location;var o=r.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&o&&r.hash){this.fragment=r.hash.replace(d,"");window.history.replaceState({},document.title,r.protocol+"//"+r.host+this.options.root+this.fragment)}if(!this.options.silent){return this.loadUrl()}},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);h=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t==this.fragment&&this.iframe)t=this.getFragment(this.iframe.location.hash);if(t==this.fragment||t==decodeURIComponent(this.fragment))return false;if(this.iframe)this.navigate(t);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(e){var t=this.fragment=this.getFragment(e);var n=s.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}});return n},navigate:function(e,t){if(!h)return false;if(!t||t===true)t={trigger:t};var n=(e||"").replace(d,"");if(this.fragment==n||this.fragment==decodeURIComponent(n))return;if(this._hasPushState){if(n.indexOf(this.options.root)!=0)n=this.options.root+n;this.fragment=n;window.history[t.replace?"replaceState":"pushState"]({},document.title,n)}else if(this._wantsHashChange){this.fragment=n;this._updateHash(window.location,n,t.replace);if(this.iframe&&n!=this.getFragment(this.iframe.location.hash)){if(!t.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,n,t.replace)}}else{window.location.assign(this.options.root+e)}if(t.trigger)this.loadUrl(e)},_updateHash:function(e,t,n){if(n){e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t)
}else{e.hash=t}}});r.View=function(e){this.cid=s.uniqueId("view");this._configure(e||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var p=/^(\S+)\s*(.*)$/;var m=["model","collection","el","id","attributes","className","tagName"];s.extend(r.View.prototype,r.Events,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(e,t,n){var i=document.createElement(e);if(t)a(i).attr(t);if(n)a(i).html(n);return i},setElement:function(e,t){this.$el=a(e);this.el=this.$el[0];if(t!==false)this.delegateEvents();return this},delegateEvents:function(e){if(!(e||(e=w(this,"events"))))return;this.undelegateEvents();for(var t in e){var n=e[t];if(!s.isFunction(n))n=this[e[t]];if(!n)throw new Error('Event "'+e[t]+'" does not exist');var i=t.match(p);var r=i[1],a=i[2];n=s.bind(n,this);r+=".delegateEvents"+this.cid;if(a===""){this.$el.bind(r,n)}else{this.$el.delegate(a,r,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){if(this.options)e=s.extend({},this.options,e);for(var t=0,n=m.length;t<n;t++){var i=m[t];if(e[i])this[i]=e[i]}this.options=e},_ensureElement:function(){if(!this.el){var e=w(this,"attributes")||{};if(this.id)e.id=this.id;if(this.className)e["class"]=this.className;this.setElement(this.make(this.tagName,e),false)}else{this.setElement(this.el,false)}}});var g=function(e,t){var n=b(this,e,t);n.extend=this.extend;return n};r.Model.extend=r.Collection.extend=r.Router.extend=r.View.extend=g;var v={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};r.sync=function(e,t,n){var i=v[e];var o={type:i,dataType:"json"};if(!n.url){o.url=w(t,"url")||C()}if(!n.data&&t&&(e=="create"||e=="update")){o.contentType="application/json";o.data=JSON.stringify(t.toJSON())}if(r.emulateJSON){o.contentType="application/x-www-form-urlencoded";o.data=o.data?{model:o.data}:{}}if(r.emulateHTTP){if(i==="PUT"||i==="DELETE"){if(r.emulateJSON)o.data._method=i;o.type="POST";o.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",i)}}}if(o.type!=="GET"&&!r.emulateJSON){o.processData=false}return a.ajax(s.extend(o,n))};r.wrapError=function(e,t,n){return function(i,r){r=i===t?r:i;if(e){e(t,r,n)}else{t.trigger("error",t,r,n)}}};var y=function(){};var b=function(e,t,n){var i;if(t&&t.hasOwnProperty("constructor")){i=t.constructor}else{i=function(){e.apply(this,arguments)}}s.extend(i,e);y.prototype=e.prototype;i.prototype=new y;if(t)s.extend(i.prototype,t);if(n)s.extend(i,n);i.prototype.constructor=i;i.__super__=e.prototype;return i};var w=function(e,t){if(!(e&&e[t]))return null;return s.isFunction(e[t])?e[t]():e[t]};var C=function(){throw new Error('A "url" property or function must be specified')}}).call(this);Backbone.Hashs=function(e){};Backbone.Hashs.prototype.__ID=null;Backbone.Hashs.prototype.__prev="";Backbone.Hashs.prototype.__hashState__=function(){var e=window.location.hash;e=e.replace(/^#/,"");if(this.__prev!=e){this.push(e);this.__prev=e}else if(!e&&!this.__prev&&this.storage.length<1){this.push("")}};Backbone.Hashs.prototype.start=function(){var e=this,t=document.documentMode;if(window.history&&window.history.pushState){$(window).bind("popstate",function(){e.__hashState__.call(e)})}else if("onhashchange"in window&&/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())&&(!t||t<=7)){$(window).bind("hashchange",function(){e.__hashState__.call(e)})}else{n.call(e)}this.__hashState__.call(this);function n(){this.__hashState__.call(this);__ID=setTimeout(function(){n.call(e)},50)}};Backbone.Hashs.prototype.stop=function(){$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this.__ID)};Backbone.Hashs.prototype.get=function(){var e=[];for(var t=0;t<this.storage.length;t++)e.push(this.storage[t]);return e};Backbone.Hashs.prototype.push=function(e){var t=this.storage.length;if(t>50)this.storage.splice(0,1);this.storage.push(e)};Backbone.Hashs.prototype.to=function(e){setTimeout(function(){window.location.hash=e},1)};Backbone.Hashs.prototype.storage=[];Backbone.History.prototype.hendlerGroups={};var _defaultRoute="/.*/";Backbone.History.prototype.routeGroup=function(e,t,n){if(!this.hendlerGroups[e])this.hendlerGroups[e]=[];var i={route:t,callback:n};if(t.toString()==_defaultRoute){var r=false;var s=this;$.each(this.hendlerGroups[e],function(n,a){if(a&&t.toString()==_defaultRoute){s.hendlerGroups[e]=s.hendlerGroups[e].slice(0,n).concat([i],s.hendlerGroups[e].slice(n,s.hendlerGroups[e].length));r=true;return false}});if(!r)this.hendlerGroups[e].push(i)}else{this.hendlerGroups[e].unshift(i)}};var _oldBHloadUrl=Backbone.History.prototype.loadUrl;Backbone.History.prototype.loadUrl=function(e){var t=_oldBHloadUrl.apply(this,arguments);var n=false;var i=this.fragment=this.getFragment(e);_.each(this.hendlerGroups,function(e,t){res=_.any(e,function(e){if(e.route.test(i)){e.callback(i);return true}});n=n||res});return t||n};Backbone.Router.prototype.routeGroup=function(e,t,n,i){Backbone.history||(Backbone.history=new Backbone.History);if(!_.isRegExp(t))t=this._routeToRegExp(t);if(!i)i=this[n];Backbone.history.routeGroup(e,t,_.bind(function(r){var s=this._extractParameters(t,r);i&&i.apply(this,s);this.trigger.apply(this,["route: "+e+"->"+n].concat(s));Backbone.history.trigger("route",this,n,s)},this));return this};Backbone.sync=function(e,t,n){var i=t.syncID;if(t.queryParams){var r=typeof t.queryParams[e]==="function"?t.queryParams[e].call(t,n.modelData):t.queryParams[e];if(r){i=r.syncID||i}}var s;if(!i&&i!==0&&t.collection){i=t.collection.syncID}if(!i){i="default"}if(!(i instanceof Array)){i=[i]}for(s=0;s<i.length;s++){var a=Backbone.sync.collection.get(i[s]);if(a){var o=a.get("sync");if(typeof o=="object"&&o.query){o.query(e,t,n)}}else{_error('for the specified syncID("'+i+'") is not registered, not method')}}};Backbone.sync.add=function(e,t){if(typeof t=="object"){Backbone.sync.collection.add({id:e,sync:t})}};Backbone.sync.get=function(e){return Backbone.sync.collection.get(e)||null};Backbone.sync.remove=function(e){var t;if(typeof e=="function"){t=Backbone.sync.collection.get("sync",e)}else{t=Backbone.sync.collection.get(e)}if(t){t.remove()}};Backbone.sync.collection=new(Backbone.Collection.extend({model:Backbone.Model.extend({defaults:{id:0,sync:null},idAttribute:"id"})}));Backbone.sync.add("default",{defaults:{type:"post",dataType:"xml",cache:false,data:{},canCacheSuccessResponse:false,cacheResponseOptions:{id:"",liveTime:4e4},force:true,isAsynchronous:false,asynchronousOptions:{maxQueryCount:10,interval:1e3}},_cache:{},saveToCache:function(e,t,n,i){var r=this.getQueryId(i);if(typeof r!=="string"||this._cache[r]){return}this._cache[r]={response:e,textStatus:t,jqXHR:n,dataType:i.queryParams.dataType};setTimeout(function(){if(this._cache[r]){delete this._cache[r];delete this._queriesListeners[r]}}.bind(this),i.queryParams.cacheResponseOptions.liveTime)},callCacheQuery:function(e){var t=this._cache[this.getQueryId(e)];if(typeof t!=="object"){return false}setTimeout(function(){e.queryParams.beforeSend(t.jqXHR)},10);setTimeout(function(){e.queryParams.success(t.response,t.textStatus,t.jqXHR)},20);setTimeout(function(){e.queryParams.complete(t.jqXHR,t.textStatus)},30);return true},_queriesListeners:{},getQueryId:function(e){if(!e.queryId){var t=_.clone(e.queryParams.data);if(t._){delete t._}e.queryId=(e.queryParams.cacheResponseOptions.id||JSON.stringify(t))+(e.queryParams.force?"":Math.random())}return e.queryId},_callListeners:function(e,t,n){var i=this._queriesListeners[e],r;if(typeof i!=="object"||!t){return}r=i.length;while(r--){if(typeof i[r][t]==="function"){i[r][t].apply(this,n)}}},query:function(e,t,n){var i={method:e,storage:t,options:n||{},queriesCount:0},r=this,s;i.queryParams=this.buildParams(i);s=this.getQueryId(i);if(!this._queriesListeners[s]){this._queriesListeners[s]=[i.queryParams]}else{this._queriesListeners[s].unshift(i.queryParams)}Backbone.Events.trigger("ajaxStart",i);if(typeof n.loader==="function"){n.loader(0)}if(!i.queryParams.canCacheSuccessResponse||!this.callCacheQuery(i)){if(this._queriesListeners[this.getQueryId(i)].length===1){return $.ajax($.extend({},i.queryParams,{beforeSend:function(e){r._queriesListeners[s].jqXHR=e;r._callListeners(s,"beforeSend",arguments)},error:function(){r._callListeners(s,"error",arguments)},success:function(){r._callListeners(s,"success",arguments)},complete:function(){r._callListeners(s,"complete",arguments);delete r._queriesListeners[s]}}))}i.queryParams.beforeSend(this._queriesListeners[s].jqXHR)}},buildParams:function(e){var t=this,n=e.storage,i=e.options||{};var r=$.extend(true,{beforeSend:function(t){e.queriesCount++;if(e.queriesCount===1){if(typeof i.beforeSend==="function"){i.beforeSend(t)}}},error:function(n,i,r){t.onError(n,i,r,e)},success:function(n,i,r){t.onSuccess(n,i,r,e)},complete:function(e,t){if(typeof i.loader==="function"){i.loader(1)}if(typeof i.complete==="function"){i.complete(n,e)}}},this.defaults,typeof n.queryParams[e.method]==="function"?n.queryParams[e.method].call(n,i.modelData):n.queryParams[e.method],{data:i.data||{}});if(r.isAsynchronous){r.complete=function(){}}if(!r.cache&&r.type.toLowerCase()=="post"){r.cache=false;r.data=_.extend(r.data,{_:(new Date).getTime()})}return r},sendNextAsynchronousQuery:function(e,t){if(e.queryParams.isAsynchronous){if(e.queriesCount<e.queryParams.asynchronousOptions.maxQueryCount){setTimeout(function(){$.ajax(e.queryParams)},e.queryParams.asynchronousOptions.interval);return true}}return false},onError:function(e,t,n,i){if(this.sendNextAsynchronousQuery(i,e)===true){return false}if(typeof i.options.error==="function"){i.options.error(null,e)}Backbone.Events.trigger("ajaxError",_.extend(i,{error:{jqXHR:e,textStatus:t,errorThrown:n}}));if(i.queryParams.isAsynchronous){if(typeof i.options.complete==="function"){i.options.complete(i.storage,e)}}},onSuccess:function(e,t,n,i){var r;if(!this.validate(e,i)){if(this.sendNextAsynchronousQuery(i,n)===true){return false}if(i.storage.parsers&&typeof i.storage.parsers.error==="function"){r=i.storage.parsers.error.call(i.storage,e,i.options)}if(typeof i.options.error==="function"){i.options.error(r,n)}}else{e=e.model||e.collection||e;if(i.options.parserContext||i.options.parser){if(typeof i.options.parser==="function"){r=i.options.parser.call(i.options.parserContext||i.storage,e,i.options)}if(i.options.parserContext instanceof Backbone.Model){i.options.parserContext.set(r||e)}else if(i.options.parserContext instanceof Backbone.Collection){i.options.parserContext.reset(r||e)}r={}}else if(i.storage.parsers&&typeof i.storage.parsers[i.method]==="function"){if(i.storage.parsers[i.method]){r=i.storage.parsers[i.method].call(i.storage,e,i.options)}if(r instanceof i.storage.ParseError){if(i.storage.parsers&&typeof i.storage.parsers.error==="function"){r=i.storage.parsers.error.call(i.storage,e,i.options)}if(typeof i.options.error==="function"){i.options.error(r,n)}return}}if(typeof i.options.success==="function"){i.options.success(r==null?e:r,n)}}Backbone.Events.trigger("ajaxSuccess",_.extend(i,{response:{jqXHR:n,textStatus:t,data:e}}));if(i.queryParams.isAsynchronous){if(typeof i.options.complete==="function"){i.options.complete(i.storage,n)}}if(i.queryParams.canCacheSuccessResponse){this.saveToCache(e,t,n,i)}},validate:function(e,t){if(e==null){return false}e=e.model||e.collection||e;switch(t.queryParams.dataType){case"xml":var n=$("ERROR, error, errorDescr",e);if(n.text().length||n.attr("MESSAGE")){return false}if($("prCode",e).text()=="ANSWERISNOTFOUND"){return false}break;case"text":if(e.indexOf("ERROR")>=0||e==""||e.substring(0,3)=="err"){return false}break;case"json":var i=e instanceof Object,r=e instanceof Array;if(!e||e.error||t.options.parserContext&&t.options.parserContext instanceof Backbone.Model&&!i||t.options.parserContext&&t.options.parserContext instanceof Backbone.Collection&&!r||!t.options.parserContext&&t.storage instanceof Backbone.Model&&!i||!t.options.parserContext&&t.storage instanceof Backbone.Collection&&!r){return false}break;default:if(e.error){return false}break}return true}});Backbone.Router.prototype.add=function(e,t,n){n=n||{};var i={};$.extend(i,n);i.id=e;n.router=this;i.ctrl=new t(n);if(i.deathtime)i.deathtime=(new Date).getTime()+parseInt(i.deathtime)*1e3;else delete i.deathtime;this.ctrl.add(i)};Backbone.Router.prototype.remove=function(e){var t;if(typeof e=="function"){t=this.ctrl.get("ctrl",e)}else{t=this.ctrl.get(e)}if(t)t.remove()};Backbone.Router.prototype.get=function(e){var t=this.ctrl.get(e);if(!t)return false;var n=t.get("deathtime");if(n&&n>0){if((new Date).getTime()>n){this.remove(e);return null}else{return t.get("ctrl")}}return t.get("ctrl")};Backbone.Router.prototype.hide=function(e){e=e instanceof Array?e:[e];this.ctrl.each(function(t){if(!_.include(e,t.get("id")))$(t.get("el")).hide()})};Backbone.Router.prototype.show=function(e){e=e instanceof Array?e:[e];this.ctrl.each(function(t){if(_.include(e,t.get("id")))$(t.get("el")).show()})};Backbone.Router.prototype.navigate=function(e,t){setTimeout(function(){Backbone.history.navigate(e,t)},10)};Backbone.Router.prototype.ctrl=new(Backbone.Collection.extend({model:Backbone.Model.extend({defaults:{id:0,el:null,ctrl:null,deathtime:null},idAttribute:"id"})}));Backbone.Collection.prototype.get=function(e,t){if(arguments.length===1){if(e==null)return null;return this._byId[e.id!=null?e.id:e]}else if(arguments.length==2){for(var n=0;n<this.models.length;n++){if(this.models[n].get(e)==t)return this.models[n]}}};Backbone.Collection.prototype.where=function(e){return this.filter(function(t){for(var n in e)if(t.get(n)!==e[n])return false;return true})};Backbone.Collection.prototype.destroy=function(e){e=e?_.clone(e):{};var t=this;var n=e.success;var i=function(){t.each(function(t){t.trigger("destroy",t,t.collection,e)})};e.success=function(r){if(e.wait)i();if(n){n(t,r)}else{model.trigger("sync",t,r,e)}};e.error=Backbone.wrapError(e.error,t,e);var r=(this.sync||Backbone.sync).call(this,"delete",this,e);if(!e.wait)i();return r};(function(){var e=$.extend({},Backbone.Model.prototype);var t=Backbone.Model.extend;var n=function(e){return(e!==null&&e.toString&&(e.toString===(new Object).toString||e.toString===(new Array).toString)||e instanceof Array||!_.functions(e).length)&&!e instanceof Backbone.Model&&!e instanceof Backbone.Collection&&!e instanceof Backbone.Router&&!e instanceof Backbone.History&&!e instanceof Backbone.View};var i=function(e,t){for(var r in t){if(typeof t[r]==="object"){if(n(t[r])){e[r]={};i(e[r],t[r])}else e[r]=t[r]}else{e[r]=t[r]}}return e};e.constructor=function(e,t){if(this instanceof Backbone.Model){var n;var r=e;e||(e={});if(t&&t.parse&&this.parsers&&typeof this.parsers.read==="function")e=this.parsers.read.call(this,e);if(n=this.defaults){e=i(i({},n),e);for(var s in r){if(r.hasOwnProperty(s)&&_.isArray(r[s])&&e[s]&&typeof e[s]!=="function"&&!_.isArray(e[s])){e[s]=_.toArray(e[s])}}}if(t&&t.collection)this.collection=t.collection;this.attributes={};this._escapedAttributes={};this.cid=_.uniqueId("c");if(!this.set(e,{silent:true})){throw new Error("Can't create an invalid model")}delete this._changed;this._previousAttributes=_.clone(this.attributes);this.initialize.apply(this,arguments)}};Backbone.Model=e.constructor;Backbone.Model.prototype=e;Backbone.Model.extend=t})();Backbone.Model.prototype.toDefaults=function(){var e=typeof this.defaults==="function"?this.defaults():this.defaults;this.clear({silent:true});this.set($.extend(true,{},e),{silent:true})};Backbone.Model.prototype.ParseError=function(e){_.extend(this,e||{})};Backbone.Collection.prototype.getQueryFunction=Backbone.Model.prototype.getQueryFunction=function(e){return function(t){t=t?_.clone(t):{};var n=this;var i=this instanceof Backbone.Model;var r=t.success;t.error=Backbone.wrapError(t.error,this,t);t.success=function(e,s,a){if(e instanceof n.ParseError){t.error()}else if(e===null){if(i){n.clear()}else{n.reset()}if(r)r(n,e,a)}else if(e==="false"||e===false){t.error()}else{if(typeof e!=="string"){if(i){n.set(e)}else{if(t.add)n.add(e);else n.reset(e)}}if(r)r(n,e,a)}};Backbone.sync(e,this,typeof t!=="undefined"?t:null)}};Backbone.Collection.prototype.ParseError=Backbone.Model.prototype.ParseError=function(){};(function(){var e=function(){var e=this;_.each(this.queryParams,function(t,n){if(typeof n!=="string")return;if(n!="read"&&n!="create"&&n!="update"&&n!="delete"&&!e[n])e[n]=e.getQueryFunction(n);if(!e.parsers||!e.parsers[n])_error('Parser "'+n+'" not found')})};(function(){var t=$.extend({},Backbone.Model.prototype);var n=Backbone.Model.extend;var i=Backbone.Model;t.constructor=function(){i.apply(this,arguments);e.apply(this,arguments)};Backbone.Model=t.constructor;Backbone.Model.prototype=t;Backbone.Model.extend=n})();(function(){var t=$.extend({},Backbone.Collection.prototype);var n=Backbone.Collection.extend;var i=Backbone.Collection;t.constructor=function(){i.apply(this,arguments);e.apply(this,arguments)};Backbone.Collection=t.constructor;Backbone.Collection.prototype=t;Backbone.Collection.extend=n})()})();Backbone.View.prototype.mget=function(e){var t=this.models.get(e);if(!t)return false;return t.get("model")};Backbone.View.prototype.mset=function(e,t){var n={};n.id=e;if(t)n.model=new t;this.models.add(n)};Backbone.View.prototype.models=new(Backbone.Collection.extend({model:Backbone.Model.extend({defaults:{id:0,model:null},idAttribute:"id"})}));Backbone.View.prototype.cget=function(e){var t=this.collections.get(e);if(!t)return false;return t.get("collection")};Backbone.View.prototype.cset=function(e,t,n){var i={};i.id=e;if(t)i.collection=new t;this.collections.add(i)};Backbone.View.prototype.collections=new(Backbone.Collection.extend({model:Backbone.Model.extend({defaults:{id:0,collection:null},idAttribute:"id"})}));Backbone.View.prototype.renderTemplate=function(e,t){var n=this;return this.templates[e](_.extend({l10n:function(e){return n.l10n(e)}},t))};Backbone.View.prototype.buildTemplate=function(e,t){return this.templates[e](_.extend({l10n:$.proxy(this.l10n,this),options:this.options},t))};Backbone.View.prototype.getWordFormByNumber=function(e){var t="firstForm";e=e||0;var n=e%10;if(n>=2&&n<=4){t="secondForm"}else if(e==0||n!=1||n==1&&(e-11)%100==0){t="thirdForm"}return t};Backbone.View.prototype.l10n=function(e){var t=this.l10nLang||this.options.lang||(this.router?this.router.l10nLang||(this.router.options?this.router.options.lang||this.l10nDefaultLang:this.l10nDefaultLang):this.l10nDefaultLang);if(this.l10nHash&&this.l10nHash[t]&&this.l10nHash[t][e]){return this.l10nHash[t][e]}if(t===this.l10nDefaultLang){return e}if(this.l10nHash&&this.l10nHash[t]){if(!this.l10nHash[t][e]){_error('l10n: "'+e+'" is not translated to "'+t+'" lang');return e}return this.l10nHash[t][e]}else{_error('l10n: Localization Hash "'+t+'" is undefined');return e}};Backbone.View.prototype.l10nLang=undefined;Backbone.View.prototype.l10nDefaultLang=Backbone.Router.prototype.l10nDefaultLang="ru";BlockShower=new(Backbone.Router.extend({$elVisibleChilds:{},route:function(e,t,n,i){var r=this;if(typeof this.$elVisibleChilds[e]==="undefined"){this.$elVisibleChilds[e]=null;this.routeGroup("BlockShower "+e,/.*/,"restore",function(){r._restore.call(r,e)})}this.routeGroup("BlockShower "+e,t,"save",function(){r._save.call(r,e);i.apply(n,arguments)})},_save:function(e){if(!this.$elVisibleChilds[e])this.$elVisibleChilds[e]=$(e).children(":visible").hide();else $(e).children(":visible").hide()},_restore:function(e){if(!this.$elVisibleChilds[e])return;$(e).children().hide();this.$elVisibleChilds[e].show();this.$elVisibleChilds[e]=null}}));(function(e,t){var n="float",i="int",r="fraction",s=function(e,t){var a,o,l;if(e instanceof s){this[n]=e[n];this[i]=e[i];this[r]=e[r];this._isDefault=false;return this}if(e==null||e===""){this._setDefaultData()}else if(typeof e==="number"){this._setAttributesByFloat(e)}else if(typeof e==="string"&&e.replace(/[^0-9,. ]/g,"").length>0){e=e.replace(/(&(#[0-9]{3,4}|[a-z]+);)|\s+/gi,"");if(typeof t==="string"){a=e.split(t)}else{a=e.split(".");if(a.length===1){a=e.split(",")}}if(a.length>2){return this}if(!a||a.length!==2){a=[e,"0"]}a[0]=a[0].replace(/[,\. ]/g,"").replace(/\-\-/g,"-");a[1]=a[1].replace(/[,\. ]/g,"");if(!/^-?[0-9]+$/.test(a[0])||!/^[0-9]+$/.test(a[1])){return this}if(a[1].length===1){a[1]=a[1]+"0"}l=a[0].indexOf("-")>=0;a[0]=a[0].replace(/\-/g,"");o=Math.pow(10,a[1].length||2);this._setAttributesByFloat((l?-1:1)*(Math.round((+a[0]+a[1]/o)*o)/o))}return this};s.prototype={"float":null,"int":null,fraction:null,fractionPointer:".",thousandPointer:" ",htmlTag:"small",_isDefault:true,_setDefaultData:function(){this._setAttributesByFloat(0);this._isDefault=true},_setAttributesByFloat:function(e){this[n]=e||0;this[i]=parseInt(e,10)||0;this[r]=Math.abs(Math.round((this[n]-this[i])*100))||0;this._isDefault=false;return this},_addZeros:function(e,t){var n=e.toString();while(n.length<t){n="0"+n}return n},toString:function(e,t,s,a,o){var l,c,u=[];a=isNaN(a)||a<=2?2:a;if(typeof e!=="string"){e=this.fractionPointer}if(typeof t!=="string"){t=this.thousandPointer}if(typeof s!=="boolean"){s=false}l=a>2?(this[n]||0).toFixed(a).toString().split(".")[1]||"0":(this[r]||0).toString();while(l.length<2){l="0"+l}c=Math.abs(this[i]||0).toString();while(c.length>0){if(c.length>3){u.unshift(c.substring(c.length-3,c.length));c=c.substring(0,c.length-3)}else{u.unshift(c.substring(0,c.length));c=""}}return(this.isNegative()&&!o?"- ":"")+u.join(t)+(s&&!this[r]?"":e+l)},toHtml:function(e,t,n,i,r,s){var a;if(typeof e!=="string"){e=this.fractionPointer}if(typeof t!=="string"){t=this.thousandPointer}if(typeof n!=="string"){n=this.htmlTag}if(typeof i!=="boolean"){i=false}a=this.toString(e,t,i,r,s).replace(/ /g,"&nbsp;").split(e);if(a[1]){a[1]="<"+n+">"+a[1]+"</"+n+">"}return a.join(e)},toFloat:function(){return this[n]||0},toNumber:function(){return this.toFloat()},toInteger:function(){return this[i]||0},isNull:function(){return this[n]===0||this[n]===null},isNegative:function(){return this.toFloat()<0},getAbs:function(){return new s(Math.abs(this.toFloat()))},getInverted:function(){return new s(-1*this.toFloat())},validate:function(){return this[n]!==null},toFixed:function(e){e=+(e||2);var t=Math.pow(10,e);return Math.round(this[n]*t)/t},isDefault:function(){return!!this._isDefault&&this[n]!==null},is:function(e){var t=new s(e);return this.toFloat()==t.toFloat()}};if(typeof module!=="undefined"&&module.exports){module.exports=s}else{e.INumber=s}})(this);(function(e,t){"use strict";var n=function(e){if(!e){return this}if(e instanceof n){this.value=e.value;return this}var t=e.toUpperCase(),i;for(i in this.currencyList){if(this.currencyList.hasOwnProperty(i)&&this.currencyList[i].test(t)){this.value=i;break}}};n.prototype={value:"UAH",currencyList:{UAH:/UAH||?||980/,USD:/USD|?|\$|840/,EUR:/EUR|||978/,RUB:/RU[BR]||810|643/,XAU:/XAU||959/,BYR:/BYR||BR|974/,GEL:/GEL||LARI||981/,LTL:/LTL||LT|440/,PLZ:/PLZ||Z|616/,PLN:/PLN||Z|985/,HRK:/HRK||KN|191/,LVL:/LVL||LS|428/,BGN:/BGN|?|975/,MDL:/MDL|[]|LEI|498/,RON:/RON|[]|LEI|946/,TRY:/TRY||||Y?[^L]TL|949/,KPW:/KPW|||408/,KRW:/KRW|||410/,THB:/THB|||764/,RSD:/RSD||941/,TND:/TND||788/,AED:/AED||784/,AUD:/AUD|?|036/,HKD:/HKD|?|344/,CAD:/CAD|?|124/,JPY:/JPY|||392/,CNY:/CNY|?||156/,CZK:/CZK||K|203/,DKK:/DKK||KR|208/,MXN:/MXN||\$|484/,AFN:/AFN/,ALL:/ALL/,AMD:/AMD/,ANG:/ANG/,AOA:/AOA/,ARS:/ARS/,AZN:/AZN/,BAM:/BAM/,BBD:/BBD/,BDT:/BDT/,BHD:/BHD/,BIF:/BIF/,BMD:/BMD/,BND:/BND/,BOB:/BOB/,BRL:/BRL/,BSD:/BSD/,BTN:/BTN/,BWP:/BWP/,BZD:/BZD/,CHF:/CHF/,CLP:/CLP/,COP:/COP/,CRC:/CRC/,CVE:/CVE/,DJF:/DJF/,DOP:/DOP/,DZD:/DZD/,EEK:/EEK/,EGP:/EGP/,ERN:/ERN/,ETB:/ETB/,FJD:/FJD/,GBP:/GBP/,GHS:/GHS/,GMD:/GMD/,GNF:/GNF/,GTQ:/GTQ/,GYD:/GYD/,HNL:/HNL/,HTG:/HTG/,HUF:/HUF/,IDR:/IDR/,ILS:/ILS/,INR:/INR/,JMD:/JMD/,JOD:/JOD/,KES:/KES/,KGS:/KGS/,KHR:/KHR/,KMF:/KMF/,KWD:/KWD/,KYD:/KYD/,KZT:/KZT/,LAK:/LAK/,LBP:/LBP/,LKR:/LKR/,LSL:/LSL/,LYD:/LYD/,MAD:/MAD/,MGA:/MGA/,MKD:/MKD/,MMK:/MMK/,MNT:/MNT/,MOP:/MOP/,MRO:/MRO/,MUR:/MUR/,MVR:/MVR/,MWK:/MWK/,MYR:/MYR/,NAD:/NAD/,NIO:/NIO/,NOK:/NOK/,NPR:/NPR/,NZD:/NZD/,OMR:/OMR/,PAB:/PAB/,PEN:/PEN/,PGK:/PGK/,PHP:/PHP/,PKR:/PKR/,PYG:/PYG/,QAR:/QAR/,RWF:/RWF/,SAR:/SAR/,SBD:/SBD/,SCR:/SCR/,SEK:/SEK/,SGD:/SGD/,SLL:/SLL/,SRD:/SRD/,STD:/STD/,SZL:/SZL/,TJS:/TJS/,TMT:/TMT/,TOP:/TOP/,TTD:/TTD/,TWD:/TWD/,TZS:/TZS/,UGX:/UGX/,UYU:/UYU/,UZS:/UZS/,VND:/VND/,VUV:/VUV/,WST:/WST/,XAF:/XAF/,XCD:/XCD/,XOF:/XOF/,XPF:/XPF/,YER:/YER/,ZAR:/ZAR/,ZMK:/ZMK/,"-98":/()?[ \-]?98|098/,"-95":/()?[ \-]?95|095/,"-92":/()?[ \-]?92|092/,"-80":/()?[ \-]?80|080/,"":/|0?91/},is:function(e){return this.value===new n(e).value},toString:function(){return this.value},toHtml:function(){return"<span>"+this.toString()+"</span>"}};if(typeof module!=="undefined"&&module.exports){module.exports=n}else{e.ICurrency=n}})(this);(function(e,t){var n=Array.prototype,i=function(e){return r({},e)},r=function(e){var t,i,s,a=n.slice.call(arguments,1),o=a.length;e=e||{};for(i=0;i<o;i++){for(t in a[i]){if(a[i].hasOwnProperty(t)){s=a[i][t];if(s instanceof Array){e[t]=s.slice(0)}else if(s!=null&&typeof s==="object"){e[t]=r({},e[t],s)}else{e[t]=s}}}}return e},s=function(e){if(this._init){this._init.apply(this,arguments)}return this};s.prototype={dateFormat:"dd.mm.yyyy",timeFormat:"HH:MM",fullFormat:"dd.mm.yyyy HH:MM",timestampFormat:"yyyy-mm-dd'T'HH:MM:ssZ",formatSplitterReg:/^HH|MM|ss|mmm|dd|D|l|mm|F|f|yyyy|yy|'[^']+'|"[^"]+"|./,formatReg:/^HH|MM|ss|mmm|dd|D|l|mm|F|f|yyyy|yy$/,parsers:{date:[function(e){var t=/(\D+)\s+(\d+),\s+(\d+)/;if(t.test(e)){var n=t.exec(e);this.set("date",+n[2]);this.set("month",this._getMonthIndexByName(n[1]));this.set("year",+n[3]);return true}return false},function(e){var t=/((19|20)[0-9]{2})[\.\-]?(0[1-9]|1[0-2]|[1-9])[\.\-]?(0[1-9]|[12][0-9]|3[01]|[1-9])?/,n;if(t.test(e)){n=t.exec(e);if(n[4]){this.set("date",+n[4])}this.set("month",+n[3]);this.set("year",+n[1]);return true}return false},function(e){var t,n=/(^|\s)(0[1-9]|[12][0-9]|3[01]|[1-9])[\.\-](0[1-9]|1[0-2]|[1-9])([\.\-]?((19|20)[0-9]{2}|[0-9]{2}))?($|\s)/;if(n.test(e)){t=n.exec(e);this.set("date",+t[2]);this.set("month",+t[3]);if(t[5]){this.set("year",+t[5])}return true}return false},function(e){var t,n,i=/(?:^|\s)(0[1-9]|[12][0-9]|3[01]|[1-9])(?:\s+)([--A-Za-z]+)(?:[\s.]+)((19|20)[0-9]{2}|[0-9]{2})/;if(i.test(e)){n=i.exec(e);t=this._getMonthIndexByName(n[2]);if(t!==null){this.set("month",t)}this.set("date",+n[1]);this.set("year",+n[3]);return true}return false}],time:[function(e){var t,n=/(0[0-9]|1[0-9]|2[0-3]|[0-9]):(0[0-9]|[1-5][0-9]|[0-9])(:(0[0-9]|[1-5][0-9]|[0-9]))?(\.([0-9]{1,3}))?/;if(n.test(e)){t=n.exec(e);this.set("hours",+t[1]);this.set("minutes",+t[2]);if(t[4]){this.set("seconds",+t[4])}if(t[6]){this.set("ms",+t[6])}return true}return false}]},defaults:{date:{isDefault:true,masks:{dd:function(e){return this._addZeros(e||1,2)},D:function(){return this._dateOfWeekShortNames[this.getDayOfWeek()-1]},l:function(){return this._dateOfWeekNames[this.getDayOfWeek()-1]}}},month:{isDefault:true,masks:{mm:function(e){return this._addZeros(e||1,2)},f:function(e){return this._monthNames[(e||1)-1]},F:function(e){return this._monthNamesWithDate[(e||1)-1]}}},year:{isDefault:true,masks:{yy:function(e){if(!e&&e!=0){e=(new Date).getFullYear()}return this._addZeros(e.toString().substring(e.toString().length-2),2)},yyyy:function(e){if(!e&&e!=0){e=(new Date).getFullYear()}return this._addZeros(e,4)}}},hours:{isDefault:true,masks:{HH:function(e){return this._addZeros(e||0,2)}}},minutes:{isDefault:true,masks:{MM:function(e){return this._addZeros(e||0,2)}}},seconds:{isDefault:true,masks:{ss:function(e){return this._addZeros(e||0,2)}}},ms:{isDefault:true,masks:{mmm:function(e){return this._addZeros(e||0,3)}}},timezone:{isDefault:true,masks:{Z:function(e){return e}}}},_monthIndexMasks:{1:/[-]*|[i][-]*|jan[a-z]*/i,2:/[-]*|[-]*|feb[a-z]*/i,3:/[-]*|[-]*|mar[a-z]*/i,4:/[-]*|[i][-]*|apr[a-z]*/i,5:/[]|[-]*|may[a-z]*/i,6:/[-]*|[-]*|jun[a-z]*/i,7:/[-]*|[-]*|jul[a-z]*/i,8:/[-]*|[-]*|aug[a-z]*/i,9:/[-]*|[-]*|sep[a-z]*/i,10:/[-]*|[-]*|oct[a-z]*/i,11:/[-]*|[-]*|nov[a-z]*/i,12:/[-]*|[-]*|dec[a-z]*/i},_init:function(e){var n=false,r=false,a,o,l,c,u=new Date,d=new Date,f;this.attributes=i(this.defaults);if(e==t){this._setDate(u)}else if(typeof e==="object"&&e instanceof s){this.attributes=i(e.attributes)}else if(e instanceof Date){this._setDate(e)}else if(typeof e==="object"&&e!==null){f=e.hours||e.minutes||e.seconds||e.ms?"now":"today";this.attributes=i(new s(f).getShifted(e).attributes)}else if(typeof e==="number"){if(e>60*60*24*1e3){u=new Date(e)}else{u=new Date(+new Date+e*60*60*24*1e3);u.setHours(0);u.setMinutes(0);u.setSeconds(0);u.setMilliseconds(0)}this._setDate(u)}else if(e==="today"||e==="tomorrow"||e==="yesterday"||e==="now"){d=new Date;if(e==="tomorrow"){u=new Date(d.getFullYear(),d.getMonth(),d.getDate()+1,0,0,0,0)}else if(e==="yesterday"){u=new Date(d.getFullYear(),d.getMonth(),d.getDate()-1,0,0,0,0)}else if(e==="today"){u=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0,0)}this._setDate(u)}else if(typeof e==="string"){for(a=0,l=this.parsers.date.length;a<l&&!n&&this.parsers.date[a];a++){n=this.parsers.date[a].call(this,e)}for(a=0,l=this.parsers.time.length;a<l&&!r;a++){r=this.parsers.time[a].call(this,e)}c=new Date(this.attributes.year.value,(this.attributes.month.value||1)-1,this.attributes.date.value||1);if(c.getDate()!=(this.attributes.date.value||1)||c.getMonth()+1!=(this.attributes.month.value||1)||c.getFullYear()!=this.attributes.year.value){for(o in this.attributes){if(this.attributes.hasOwnProperty(o)&&this.attributes[o].value!=null){this.attributes[o].value=null}}}}return this},_getMonthIndexByName:function(e){var t;for(t in this._monthIndexMasks){if(this._monthIndexMasks.hasOwnProperty(t)&&this._monthIndexMasks[t].test(e)){return+t}}return null},_dateOfWeekNames:["","","","","","",""],_dateOfWeekShortNames:["","","","","","",""],_monthNamesWithDate:["","","","","","","","","","","",""],_monthNames:["","","","","","","","","","","",""],getMonthName:function(){return this._monthNames[this.get("month")-1]},_splitFormat:function(e){var t=e,n=[];while(this.formatSplitterReg.test(t)){n.push(this.formatSplitterReg.exec(t)[0]);t=t.replace(this.formatSplitterReg,"")}return n},_addZeros:function(e,t){var n=e.toString();while(n.length<t){n="0"+n}return n},_setDate:function(e){this.set("date",e.getDate());this.set("month",e.getMonth()+1);this.set("year",e.getFullYear());this.set("hours",e.getHours());this.set("minutes",e.getMinutes());this.set("seconds",e.getSeconds());this.set("ms",e.getMilliseconds())},set:function(e,t){var n,i;if(typeof e==="object"&&t==null){for(n in e){if(e.hasOwnProperty(n)){i=n;if(/^(hour|minute|second)$/.test(i)){i+="s"}else if(i=="day"){i="date"}this.set(i,e[n])}}return this}if(this.attributes[e]==null){return this}if(e=="year"&&t.toString().length<=2){t=+t<70?2e3+t:1900+t}if(e=="month"&&t<1){t=12;this.attributes.year.value=this.attributes.year.value-1}this.attributes[e].value=parseFloat(t);this.attributes[e].isDefault=false;return this},get:function(e){return e.toLowerCase()=="getdayofweek"?this.getDayOfWeek():this.attributes[e].value||null},toString:function(e){if(e==null){e=this.fullFormat}var t=this._splitFormat(e),n="",i,r,s,a;while(t.length){i=t.shift();r=i;if(this.formatReg.test(i)){for(s in this.attributes){if(this.attributes.hasOwnProperty(s)&&this.attributes[s].masks){for(a in this.attributes[s].masks){if(a===i){r=this.attributes[s].masks[a].call(this,this.attributes[s].value)
}}}}}n+=r.replace(/^'([^']+)'|"([^"]+)"$/,"$1$2")}return n},toHtml:function(e){return"<span>"+this.toString.apply(this,arguments)+"</span>"},toDate:function(){var e=this.toString("yyyy mm dd HH MM ss mmm").split(" ");e[1]--;return new Date(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7])},date:function(e){if(e==null){e=this.dateFormat}return this.toString(e)},time:function(e){e=e||this.timeFormat;return this.toString(e)},timestamp:function(){return this.toString(this.timestampFormat)},getMilliseconds:function(){var e=Date.parse(this.toDate());if(e<0){e=Date.parse(new Date("1970","0","02"))}return e},getDifference:function(e){if(!e){return null}if(!(e instanceof s)){e=new s(e)}return{years:this.get("year")-e.get("year"),months:this.get("month")-e.get("month"),days:this.get("date")-e.get("date"),hours:this.get("hours")-e.get("hours"),minutes:this.get("minutes")-e.get("minutes"),seconds:this.get("seconds")-e.get("seconds"),ms:this.get("ms")-e.get("ms")}},getUnitDifference:function(e,t){if(!e){return null}t=t||"days";if(!(e instanceof s)){e=new s(e)}switch(t.toLowerCase()){case"years":return this.get("year")-e.get("year")+(this.get("month")-e.get("month")+(this.get("date")-e.get("date")+(this.get("hours")-e.get("hours")+(this.get("minutes")-e.get("minutes")+(this.get("seconds")-e.get("seconds")+(this.get("ms")-e.get("ms"))/100)/60)/60)/24)/(365/12))/12;case"months":return(this.get("year")-e.get("year"))*12+this.get("month")-e.get("month")+(this.get("date")-e.get("date")+(this.get("hours")-e.get("hours")+(this.get("minutes")-e.get("minutes")+(this.get("seconds")-e.get("seconds")+(this.get("ms")-e.get("ms"))/100)/60)/60)/24)/(365/12);case"hours":return(this.getMilliseconds()-e.getMilliseconds())/(60*60*1e3);case"minutes":return(this.getMilliseconds()-e.getMilliseconds())/(60*1e3);case"seconds":return(this.getMilliseconds()-e.getMilliseconds())/1e3;case"ms":return this.getMilliseconds()-e.getMilliseconds();case"days":return(this.getMilliseconds()-e.getMilliseconds())/(60*60*24*1e3)}return null},getDaysInMonth:function(e){e=!isNaN(e)?e:this.get("month");return new Date(this.get("year"),e,0).getDate()},getShifted:function(e){var t=new s;if(typeof e==="number"){e={days:e}}t._setDate(new Date(this.get("year")+(e.years||e.year||0),this.get("month")+(e.months||e.month||0)-1,this.get("date")+(e.days||e.day||0),this.get("hours")+(e.hours||e.hour||0),this.get("minutes")+(e.minutes||e.minute||0),this.get("seconds")+(e.seconds||e.second||0),this.get("ms")+(e.ms||0)));return t},getDayOfWeek:function(){var e=new Date(this.get("year"),this.get("month")-1,this.get("date")).getDay();if(e===0){return 7}return e},validate:function(e){if(e==null){e=this.fullFormat}var t=this._splitFormat(e),n,i,r;while(t.length){n=t.shift();if(this.formatReg.test(n)){for(i in this.attributes){if(this.attributes.hasOwnProperty(i)&&this.attributes[i].masks){for(r in this.attributes[i].masks){if(r==n&&!this.attributes[i].value&&this.attributes[i].value!=0){return false}}}}}}return true},is:function(e,t){var n=true;t=t||this.dateFormat;e=new s(e);var i=t?e.validate(t):e.validate();if(i){if(t){n=this.toString(t)==e.toString(t)}}else{n=false}return n}};s.extend=function(e){var t=function(){if(this._init){this._init.apply(this,arguments)}return this},n=function(){};n.prototype=this.prototype;t.prototype=r(new n,i(e));t.prototype.constructor=t;t.extend=s.extend;return t};if(typeof module!=="undefined"&&module.exports){module.exports=s}else{e.IDate=s}})(this);(function(e){"use strict";var t=function(){this.attributes={start:new IDate("today"),end:new IDate("today")};var e=arguments;if(e.length==0||e.length==1&&!e[0]){return this}if(e[0]instanceof t){this.attributes.start=new IDate(e[0].attributes.start);this.attributes.end=new IDate(e[0].attributes.end)}else if(e.length==2&&typeof e[1]==="number"){this.attributes.start=new IDate(e[0]);this.attributes.end=this.attributes.start.getShifted({days:e[1]})}else{if(e.length==1&&typeof e[0]==="string"&&e[0].replace(/[^0-9a-z]/gi,"").length>0){var n=e[0].replace(/\s*/g,"").split(this.separator);this.attributes.start=new IDate(n[0]);this.attributes.end=new IDate(n[1]||"today")}else{if(typeof e[0]==="string"||typeof e[0]==="object"&&!(e[0]instanceof Array)){this.attributes.start=new IDate(e[0]);this.attributes.end=new IDate(e[1]||"today")}else if(e.length==1&&typeof e[0]==="number"){this.attributes.start=new IDate("today");this.attributes.end=this.attributes.start.getShifted({days:e[0]})}}}if(this.getUnitDifference("days")<0){this.reverse()}return this};t.prototype={separator:"-",dateFormat:"dd.mm.yyyy",reverse:function(){var e=this.attributes.end;this.attributes.end=this.attributes.start;this.attributes.start=e;return this},getDifference:function(){return this.attributes.end.getDifference(this.attributes.start)},getUnitDifference:function(e){if(e==null){e="days"}return this.attributes.end.getUnitDifference(this.attributes.start,e)},validate:function(e){if(!this.attributes.start.validate(this.dateFormat)||!this.attributes.end.validate(this.dateFormat)){return false}if(typeof e==="number"){if(this.attributes.start.getUnitDifference(this.attributes.end,"days")!=e){return false}}return true},toString:function(e,t){if(typeof e!=="string"){e=this.dateFormat}if(typeof t!=="string"){t=this.separator}return this.attributes.start.toString(e)+t+this.attributes.end.toString(e)},toHtml:function(){return"<span>"+this.toString.apply(this,arguments)+"</span>"},getMonthPeriod:function(e){var n=new t(this);if(typeof e!=="string"||e.toLowerCase()=="start"){n.attributes.start.set("date",1);n.attributes.end=n.attributes.start.getShifted({days:n.attributes.start.getDaysInMonth()-1})}else{n.attributes.start.set("date",1);n.attributes.end=n.attributes.end.getShifted({days:n.attributes.end.getDaysInMonth()-1})}return n},getShifted:function(e){var n=new t(this);n.attributes.start=n.attributes.start.getShifted(e);n.attributes.end=n.attributes.end.getShifted(e);return n},is:function(e){var n=new t(e);return this.validate()&&n.validate()&&this.attributes.end.is(n.attributes.end,"dd.mm.yyyy")&&this.attributes.start.is(n.attributes.start,"dd.mm.yyyy")},get:function(e){return this.attributes[e]},set:function(e,t){this.attributes[e]=t},getDaysCount:function(e){e=e||{};return Math[e.isRounded?"round":"ceil"]((this.attributes.end.getMilliseconds()-this.attributes.start.getMilliseconds())/(1e3*60*60*24))},getPeriodFromMonthStartToToday:function(){return new t(new IDate("today").get("date")>10?new IDate({days:1-(new IDate).get("date")}):new IDate({months:-1}).set({date:1}),"today")},isMonthPeriod:function(){return this.attributes.start.attributes.date.value===1&&this.hasSameMonths()&&this.hasSameYears()&&this.getUnitDifference("days")===this.attributes.start.getDaysInMonth()-1},hasSameDates:function(){return this.attributes.start.attributes.date.value===this.attributes.end.attributes.date.value},hasSameMonths:function(){return this.attributes.start.attributes.month.value===this.attributes.end.attributes.month.value},hasSameYears:function(){return this.attributes.start.attributes.year.value===this.attributes.end.attributes.year.value}};if(typeof module!=="undefined"&&module.exports){module.exports=t}else{e.IPeriod=t}})(this);(function(e,t){"use strict";var n=function(e){if(!e){return this}if(typeof e==="object"&&e instanceof n){this.value=e.value}else{if(typeof e==="number"){this.value=e.toString()}else if(typeof e==="string"){var t=e.split("-");e=t[0];this.value=e.replace(/[^0-9]+/g,"")||this.value;this.account=(t[1]||"").replace(/[^0-9]+/g,"")||this.account}}this.account=this.account||this.value;return this};n.prototype={value:null,account:null,countBeforeSplitter:4,minLength:12,splitter:"<span>",isDefault:function(){return this.value==null},_addSplitter:function(e,t){t=t||this.splitter;var n=[];while(e.length){if(e.length>this.countBeforeSplitter){n.push(e.substring(0,this.countBeforeSplitter));e=e.substring(this.countBeforeSplitter)}else{n.push(e.substring(0,e.length));e=""}}if(/^<[^>]+>$/.test(t)){var i=t;var r=t.replace(/^<([^>]+)>$/,"</$1>");return i+n.join(r+i)+r}return n.join(t)},formatters:{full:function(e,t){return this._addSplitter(e,t)},hidden:function(e,t){if(e.length<=this.countBeforeSplitter*2){return this.formatters.full.apply(this,arguments)}var n="";var i=e.length-this.countBeforeSplitter*2;while(i--){n+="*"}return this._addSplitter(e.substring(0,this.countBeforeSplitter)+n+e.substring(e.length-this.countBeforeSplitter,e.length),t)},"short":function(e){return"**"+e.substring(e.length-this.countBeforeSplitter,e.length)}},toString:function(e){var t;t=this.value||"";if(e==="full"&&this.account){t+="-"+this.account}return t},toNumber:function(){if(this.value.length>16){return 0}return parseInt(this.value,10)},toHtml:function(e,t){if(!this.value){return""}if(!e){e="full"}if(typeof e!=="string"){return""}if(typeof this.formatters[e]!=="function"){return""}return this.formatters[e].call(this,this.value,t||this.splitter)},isCard:function(){return this.luhnValidate()},isVisa:function(){return!!(this.value&&+this.value.substr(0,1)==4&&[13,16,17,18,19].indexOf(this.value.length)>=0)},isMasterCard:function(){return!!(this.value&&[5,6].indexOf(+this.value.substr(0,1))>=0&&this.value.length>=16&&this.value.length<=19)},isAccount:function(){return this.value.length>=7&&this.value.length<=19},validate:function(e){if(!this.value||this.value.length<4){return false}if(e=="luhn"){return this.isCard()}else{if(!this.isCard()&&(this.isVisa()||this.isMasterCard())&&this.isAccount()||!this.isAccount()){return false}}return true},_luhnCalculate:function(e){var t=0,n,i,r,s=[0,1,2,3,4,-4,-3,-2,-1,0];for(n=0;n<e.length;n++){t+=parseInt(e.substring(n,n+1))}for(n=e.length-1;n>=0;n-=2){r=parseInt(e.substring(n,n+1));t+=s[r]}i=10-t%10;if(i==10){i=0}return i},luhnValidate:function(e){e=e||this.value||"";var t=e.length,n=parseInt(e.substring(t-1,t)),i=e.substring(0,t-1);return this._luhnCalculate(i)==parseInt(n)},is:function(e){var t=new n(e);return t.value&&t.value===this.value&&(!t.account||!this.account||t.account===this.account)}};n.prototype.toBoolean=function(){return this.validate()};if(typeof module!=="undefined"&&module.exports){module.exports=n}else{e.IAccount=n}})(this);(function(e){var t=function(e,t){this._parse(e,t)};t.prototype={_operators:{mts:[/^\+380(50|66|95|99)\d{7}$/],kyivstar:[/^\+380(67|96|97|98)\d{7}$/],peoplenet:[/^\+380(92)\d{7}$/],beeline:[/^\+380(68)\d{7}$/],life:[/^\+380(63|93)\d{7}$/],utel:[/^\+380(91)\d{7}$/],intertelecom:[/^\+?38094/,/^31244/,/^31246/,/^3199/,/^32253/,/^32257/,/^3299/,/^33229/,/^3399/,/^3427/,/^3499/,/^35242/,/^35244/,/^3599/,/^36240/,/^36243/,/^3699/,/^37290/,/^37299/,/^3799/,/^3899/,/^41246/,/^41252/,/^4199/,/^43269/,/^4399/,/^44360/,/^44361/,/^44362/,/^44383/,/^44384/,/^4499/,/^45/,/^46292/,/^46293/,/^4699/,/^47250/,/^47256/,/^4799/,/^482309/,/^48743/,/^48787/,/^48794/,/^48795/,/^48798/,/^48799/,/^4899/,/^51271/,/^51279/,/^5199/,/^52221/,/^52227/,/^5299/,/^532540/,/^53265/,/^5399/,/^54279/,/^5499/,/^55239/,/^55275/,/^5599/,/^5699/,/^5799/,/^6199/,/^62213/,/^62219/,/^6299/,/^64272/,/^64275/,/^64276/,/^6499/,/^65264/,/^65270/,/^6599/,/^69294/,/^6999/,/^322542/,/^322543/,/^322544/,/^322545/,/^322547/,/^322548/,/^322566/,/^322567/,/^322568/,/^332203/,/^332207/,/^342540/,/^342541/,/^342542/,/^342543/,/^342544/,/^382705/,/^382706/,/^382707/,/^382708/,/^382709/,/^382777/,/^382778/,/^382779/,/^382780/,/^382781/,/^413349/,/^414253/,/^432526/,/^432527/,/^432528/,/^432529/,/^48700/,/^48701/,/^48702/,/^48703/,/^48704/,/^48770/,/^322549/,/^48771/,/^62218/,/^48772/,/^545860/,/^56767/,/^56768/,/^56769/,/^57780/,/^57781/,/^57782/,/^61707/,/^61708/,/^61709/,/^692956/,/^692957/,/^692962/,/^692963/,/^692964/,/^692965/,/^692966/,/^692967/,/^692968/,/^692969/,/^1399[1-9][0-9]{4}/,/(384549)[0-9]{3}/,/^\+?38(094)\d{7}$/,/^\+?38033/,/^\+?38046/,/^\+?38043/,/^\+?38038/,/^\+?380443[68]/,/^\+?3804499/,/^\+?3806199/,/^\+?3806170/,/^\+?38041434[7000-9999]/,/^\+?38045633[2000-3999]/,/^\+?38043257[2000-3999]/,/^\+?38043250[2000-2999]/,/^\+?38043257[5000-9999]/,/^\+?3805678[40000-59999]/,/^\+?38062345[8000-9999]/,/^\+?380623480[000-999]/,/^\+?38062349[0000-2999]/,/^\+?38062205[0000-4999]/,/^\+?38062205[0000-4999]/,/^\+?38062207[3000-4999]/,/^\+?38062208[1000-1999]/,/^\+?38062348[2000-2999]/,/^\+?38062349[5000-9999]/,/^\+?38062208[3000-3999]/,/^\+?38062949[9000-9999]/,/^\+?38062208[9000-9999]/,/^\+?38062348[5000-7999]/,/^\+?38041244[5000-9999]/,/^\+?38041255[0000-7999]/,/^\+?38041259[3000-9999]/,/^\+?38061701[0000-6999]/,/^\+?38061220[1000-3999]/,/^\+?38061270[0000-1999]/,/^\+?38061220[7000-8999]/,/^\+?38061270[4000-9999]/,/^\+?38034274[0000-4999]/,/^\+?38044222[5000-9999]/,/^\+?38044221[0000-9999]/,/^\+?3804433[10000-29999]/,/^\+?38044353[0000-9999]/,/^\+?38044451[5000-7999]/,/^\+?38044587[5000-9999]/,/^\+?38044592[0000-9999]/,/^\+?38020[0000000-9999999]/,/^\+?38020[0000000-9999999]/,/^\+?38011[0000000-9999999]/,/^\+?38044537[1000-1999]/,/^\+?38044223[0000-9999]/,/^\+?3804435[50000-89999]/,/^\+?38044599[0000-9999]/,/^\+?38052259[5000-9999]/,/^\+?380536700[000-999]/,/^\+?3805367608[00-99]/,/^\+?3805367617[00-99]/,/^\+?380536764[400-999]/,/^\+?3805367655[00-99]/,/^\+?38053678[2000-2999]/,/^\+?38053679[4000-5999]/,/^\+?380532614[000-999]/,/^\+?38053267[0000-2999]/,/^\+?38053269[0000-4999]/,/^\+?38053269[0000-4999]/,/^\+?380532617[000-999]/,/^\+?380564430[000-999]/,/^\+?38056443[5000-9999]/,/^\+?38064271[0000-1999]/,/^\+?38064274[2000-6999]/,/^\+?38033228[5000-7999]/,/^\+?38033220[0000-1999]/,/^\+?380322201[000-999]/,/^\+?38032243[0000-9999]/,/^\+?38032243[0000-9999]/,/^\+?38032246[5000-9999]/,/^\+?38032298[0000-5999]/,/^\+?38032299[0000-8999]/,/^\+?38032247[0000-9999]/,/^\+?38062948[2000-6999]/,/^\+?38062949[1000-3999]/,/^\+?38051259[0000-9999]/,/^\+?38051272[0000-9999]/,/^\+?38051275[0000-9999]/,/^\+?38041413[0000-1999]/,/^\+?380482390[500-699]/,/^\+?380482399[000-999]/,/^\+?38048788[0000-3999]/,/^\+?38048793[0000-9999]/,/^\+?38036245[0000-4999]/,/^\+?38069293[0000-9999]/,/^\+?38069297[0000-7999]/,/^\+?380652751[000-999]/,/^\+?38054270[5000-6999]/,/^\+?38054270[5000-6999]/,/^\+?38054278[3000-4999]/,/^\+?38035240[0000-4999]/,/^\+?38035240[0000-4999]/,/^\+?38031245[0000-4999]/,/^\+?38031245[0000-4999]/,/^\+?38057750[6000-9999]/,/^\+?38057751[0000-7999]/,/^\+?38057752[6000-9999]/,/^\+?38057754[7000-9999]/,/^\+?38057755[0000-9999]/,/^\+?38057756[0000-2999]/,/^\+?38057757[2000-3999]/,/^\+?38057758[2000-4999]/,/^\+?38057759[4000-8999]/,/^\+?38057762[3000-3999]/,/^\+?38057764[0000-9999]/,/^\+?38057768[2000-4999]/,/^\+?38057756[4000-9999]/,/^\+?38057756[4000-9999]/,/^\+?38057757[6000-6999]/,/^\+?38057757[6000-6999]/,/^\+?38057758[9000-9999]/,/^\+?38057762[6000-9999]/,/^\+?38057768[9000-9999]/,/^\+?38055244[0000-4999]/,/^\+?38055279[7000-9999]/,/^\+?38038273[3000-4999]/,/^\+?38055244[9000-9999]/,/^\+?38038273[0000-2999]/,/^\+?38047238[2000-6999]/,/^\+?38047251[0000-4999]/,/^\+?38037294[0000-4999]/,/^\+?38046261[0000-4999]/,/^\+?38046297[0000-4999]/,/^\+?38046291[5000-9999]/,/^\+?38048499[8000-9999]/,/^\+?38048499[8000-9999]/,/^\+?380474447[000-999]/,/^\+?38054270[7000-9999]/,/^\+?3804422[70000-99999]/,/^\+?380343370[000-999]/,/^\+?380577579[000-999]/,/^\+?380536702[000-999]/,/^\+?38053670[12][000-999]/,/^\+?38013[0000000-9999999]/,/^\+?38015[0000000-9999999]/],ukrTelecom:[/^(\+38)?(044|061)\d{7}$/],vegaTelecom:[/^(\+38)?(056371)\d{4}$/],veltonTelecom:[/^(\+38)?057/],goldenTelecom:[/^\+380(39)\d{7}$/],ukrainianTowns:[/^(\+38)?06560/,/^(\+38)?06442/,/^(\+38)?06259/,/^(\+38)?04863/,/^(\+38)?04136/,/^(\+38)?06431/,/^(\+38)?05132/,/^(\+38)?04845/,/^(\+38)?04866/,/^(\+38)?04341/,/^(\+38)?04144/,/^(\+38)?05757/,/^(\+38)?04576/,/^(\+38)?04635/,/^(\+38)?06554/,/^(\+38)?05158/,/^(\+38)?04143/,/^(\+38)?06153/,/^(\+38)?03141/,/^(\+38)?03548/,/^(\+38)?05153/,/^(\+38)?03653/,/^(\+38)?05546/,/^(\+38)?04352/,/^(\+38)?04563/,/^(\+38)?06466/,/^(\+38)?06559/,/^(\+38)?03841/,/^(\+38)?05547/,/^(\+38)?06462/,/^(\+38)?05443/,/^(\+38)?04852/,/^(\+38)?05754/,/^(\+38)?05257/,/^(\+38)?04632/,/^(\+38)?05758/,/^(\+38)?03471/,/^(\+38)?04561/,/^(\+38)?04846/,/^(\+38)?04653/,/^(\+38)?03248/,/^(\+38)?04595/,/^(\+38)?04577/,/^(\+38)?03541/,/^(\+38)?04598/,/^(\+38)?05131/,/^(\+38)?04594/,/^(\+38)?03266/,/^(\+38)?04162/,/^(\+38)?05345/,/^(\+38)?05752/,/^(\+38)?03342/,/^(\+38)?05543/,/^(\+38)?04859/,/^(\+38)?05545/,/^(\+38)?05753/,/^(\+38)?04350/,/^(\+38)?04636/,/^(\+38)?04571/,/^(\+38)?06136/,/^(\+38)?05163/,/^(\+38)?03730/,/^(\+38)?03143/,/^(\+38)?05535/,/^(\+38)?04596/,/^(\+38)?04598/,/^(\+38)?06143/,/^(\+38)?043/,/^(\+38)?03846/,/^(\+38)?05741/,/^(\+38)?05134/,/^(\+38)?06244/,/^(\+38)?03136/,/^(\+38)?04569/,/^(\+38)?06246/,/^(\+38)?03634/,/^(\+38)?03845/,/^(\+38)?04597/,/^(\+38)?05135/,/^(\+38)?04845/,/^(\+38)?05254/,/^(\+38)?04334/,/^(\+38)?03431/,/^(\+38)?05534/,/^(\+38)?03734/,/^(\+38)?04635/,/^(\+38)?05252/,/^(\+38)?05544/,/^(\+38)?03430/,/^(\+38)?04645/,/^(\+38)?03231/,/^(\+38)?03379/,/^(\+38)?03557/,/^(\+38)?05750/,/^(\+38)?06249/,/^(\+38)?05763/,/^(\+38)?06564/,/^(\+38)?06247/,/^(\+38)?05351/,/^(\+38)?05692/,/^(\+38)?056/,/^(\+38)?06277/,/^(\+38)?03477/,/^(\+38)?05152/,/^(\+38)?062/,/^(\+38)?04738/,/^(\+38)?03244/,/^(\+38)?06267/,/^(\+38)?03656/,/^(\+38)?03858/,/^(\+38)?06569/,/^(\+38)?04149/,/^(\+38)?06252/,/^(\+38)?04747/,/^(\+38)?03239/,/^(\+38)?041/,/^(\+38)?04332/,/^(\+38)?05652/,/^(\+38)?03554/,/^(\+38)?061/,/^(\+38)?03632/,/^(\+38)?03737/,/^(\+38)?05761/,/^(\+38)?03550/,/^(\+38)?03540/,/^(\+38)?04740/,/^(\+38)?04570/,/^(\+38)?05353/,/^(\+38)?05233/,/^(\+38)?04737/,/^(\+38)?03265/,/^(\+38)?04854/,/^(\+38)?05531/,/^(\+38)?04591/,/^(\+38)?034/,/^(\+38)?04841/,/^(\+38)?05743/,/^(\+38)?03852/,/^(\+38)?04597/,/^(\+38)?04633/,/^(\+38)?045473/,/^(\+38)?04333/,/^(\+38)?03472/,/^(\+38)?03849/,/^(\+38)?04732/,/^(\+38)?04736/,/^(\+38)?04742/,/^(\+38)?05536/,/^(\+38)?044/,/^(\+38)?04843/,/^(\+38)?052/,/^(\+38)?06446/,/^(\+38)?06555/,/^(\+38)?05343/,/^(\+38)?03352/,/^(\+38)?04646/,/^(\+38)?04342/,/^(\+38)?03433/,/^(\+38)?04855/,/^(\+38)?05348/,/^(\+38)?05447/,/^(\+38)?03651/,/^(\+38)?04656/,/^(\+38)?04142/,/^(\+38)?04130/,/^(\+38)?04735/,/^(\+38)?04657/,/^(\+38)?04862/,/^(\+38)?062/,/^(\+38)?03855/,/^(\+38)?06239/,/^(\+38)?06435/,/^(\+38)?03546/,/^(\+38)?053/,/^(\+38)?05133/,/^(\+38)?0564/,/^(\+38)?04340/,/^(\+38)?05453/,/^(\+38)?04643/,/^(\+38)?03549/,/^(\+38)?05445/,/^(\+38)?04358/,/^(\+38)?06451/,/^(\+38)?05361/,/^(\+38)?064/,/^(\+38)?06436/,/^(\+38)?033/,/^(\+38)?032/,/^(\+38)?03377/,/^(\+38)?06232/,/^(\+38)?04578/,/^(\+38)?04133/,/^(\+38)?05665/,/^(\+38)?0629/,/^(\+38)?06192/,/^(\+38)?04644/,/^(\+38)?051/,/^(\+38)?03241/,/^(\+38)?04857/,/^(\+38)?05355/,/^(\+38)?04574/,/^(\+38)?04337/,/^(\+38)?03245/,/^(\+38)?03131/,/^(\+38)?04331/,/^(\+38)?04631/,/^(\+38)?05662/,/^(\+38)?05549/,/^(\+38)?04658/,/^(\+38)?06296/,/^(\+38)?04141/,/^(\+38)?05693/,/^(\+38)?03733/,/^(\+38)?04642/,/^(\+38)?04572/,/^(\+38)?04851/,/^(\+38)?04148/,/^(\+38)?048/,/^(\+38)?06269/,/^(\+38)?05235/,/^(\+38)?05667/,/^(\+38)?05357/,/^(\+38)?03654/,/^(\+38)?05154/,/^(\+38)?05632/,/^(\+38)?05161/,/^(\+38)?06441/,/^(\+38)?03145/,/^(\+38)?04567/,/^(\+38)?05358/,/^(\+38)?03542/,/^(\+38)?04346/,/^(\+38)?04492/,/^(\+38)?053/,/^(\+38)?04137/,/^(\+38)?06133/,/^(\+38)?04637/,/^(\+38)?06137/,/^(\+38)?05442/,/^(\+38)?04132/,/^(\+38)?03132/,/^(\+38)?036/,/^(\+38)?04641/,/^(\+38)?03435/,/^(\+38)?03635/,/^(\+38)?04562/,/^(\+38)?05448/,/^(\+38)?04138/,/^(\+38)?06563/,/^(\+38)?04848/,/^(\+38)?03133/,/^(\+38)?06434/,/^(\+38)?05236/,/^(\+38)?069/,/^(\+38)?04659/,/^(\+38)?06452/,/^(\+38)?065/,/^(\+38)?05537/,/^(\+38)?04568/,/^(\+38)?03842/,/^(\+38)?04579/,/^(\+38)?05159/,/^(\+38)?04733/,/^(\+38)?04655/,/^(\+38)?04639/,/^(\+38)?04564/,/^(\+38)?03238/,/^(\+38)?06444/,/^(\+38)?06566/,/^(\+38)?054/,/^(\+38)?04731/,/^(\+38)?04566/,/^(\+38)?04844/,/^(\+38)?04353/,/^(\+38)?03551/,/^(\+38)?035/,/^(\+38)?04560/,/^(\+38)?04355/,/^(\+38)?06178/,/^(\+38)?04348/,/^(\+38)?06254/,/^(\+38)?04343/,/^(\+38)?05458/,/^(\+38)?03247/,/^(\+38)?04335/,/^(\+38)?03134/,/^(\+38)?012/,/^(\+38)?05259/,/^(\+38)?04744/,/^(\+38)?04565/,/^(\+38)?06562/,/^(\+38)?057/,/^(\+38)?055/,/^(\+38)?038/,/^(\+38)?043388/,/^(\+38)?037312/,/^(\+38)?04745/,/^(\+38)?03142/,/^(\+38)?05542/,/^(\+38)?05538/,/^(\+38)?03859/,/^(\+38)?04131/,/^(\+38)?03249/,/^(\+38)?047/,/^(\+38)?037/,/^(\+38)?046/,/^(\+38)?06140/,/^(\+38)?04134/,/^(\+38)?04730/,/^(\+38)?0312/,/^(\+38)?04739/,/^(\+38)?03552/,/^(\+38)?057/,/^(\+38)?05347/,/^(\+38)?04344/,/^(\+38)?06255/,/^(\+38)?05751/,/^(\+38)?03840/,/^(\+38)?05657/,/^(\+38)?05449/,/^(\+38)?04741/,/^(\+38)?03558/,/^(\+38)?04654/,/^(\+38)?03259/,/^(\+38)?04575/,/^(\+38)?06131/,/^(\+38)?0654/,/^(\+38)?04336/,/^(\+38)?03434/,/^(\+38)?06236/],test:[/^(\+38)?0001111111/]},_masks:{fullFormat:/^(\+[0-9]{12})$/,shortFormat:/^[0-9]{10}$/,fullAllFormat:/^(\+[0-9]{7,13})$/},_toDefaults:function(){this._phone="";this.value="";this._isDefault=true},_parse:function(e,n){this._phone="";this._isDefault=!e;n=n||{};if(e instanceof t){this._phone=e._phone;this.value=e.value}else{if(e&&e[0]=="0"&&e.length==10){e="+38"+e}e=this._normalizeNumber(e||"");if(this._masks.fullAllFormat.test(e)){this._phone=e;this.value=e;if(this.isUkrPhone()&&!this.getUkrPhoneOperator()){this._toDefaults()}}}return this},_normalizeNumber:function(e){if(!e){return""}return"+"+e.replace(/^\+/,"").replace(/[\s\-\(\)]+/g,"")},_isFoundInOperatorsList:function(e){var t=false;if(this._phone&&e){var n;var i=e.length;var r=this.toFullFormat();for(n=i-1;n>=0;n--){if(e[n].test(r)||e[n].test(r.replace(/\+/,""))||e[n].test(r.substring(4))){t=true;break}}}return t},isUkrTelecomPhone:function(){return this._isFoundInOperatorsList(this._operators.ukrTelecom)&&!this.isInterTelecom()},isUkrainianTownPhone:function(){return this._isFoundInOperatorsList(this._operators.ukrainianTowns)&&!this.isInterTelecom()},isMobile:function(){return!this.isUkrTelecomPhone()&&!this.isUkrainianTownPhone()},isUkrPhone:function(){var e=/^\+380/;return e.test(this._phone)},isMtsPhone:function(){return this._isFoundInOperatorsList(this._operators.mts)},isKyivStarPhone:function(){return this._isFoundInOperatorsList(this._operators.kyivstar)||this.isBeelinePhone()||this.isGoldenTelecom()},isPeopleNetPhone:function(){return this._isFoundInOperatorsList(this._operators.peoplenet)},isBeelinePhone:function(){return this._isFoundInOperatorsList(this._operators.beeline)},isLifePhone:function(){return this._isFoundInOperatorsList(this._operators.life)},isUtelPhone:function(){return this._isFoundInOperatorsList(this._operators.utel)},isInterTelecom:function(){return this._isFoundInOperatorsList(this._operators.intertelecom)},isVeltonTelecom:function(){return this._isFoundInOperatorsList(this._operators.veltonTelecom)},isGoldenTelecom:function(){return this._isFoundInOperatorsList(this._operators.goldenTelecom)},getPhonePrefix:function(){return this.isMobile()?this.toFullFormat().substring(0,6):""},isFullFormat:function(){return this._phone&&(this._masks.fullFormat.test(this._phone)||this.isUkrPhone())},isFullFormatAll:function(){return this._phone&&this._masks.fullAllFormat.test(this._phone)},isShortFormat:function(){var e=/^\d{10}$/;return e.test(this._phone)},isDefault:function(){return!!this._isDefault},validate:function(e){if(e==="full"){return this.isFullFormat()}if(e==="short"){return this.isShortFormat()}if(e==="full-all"){return this._masks.fullAllFormat.test(this._phone)}return this._phone!=""},getPhoneNumber:function(){return this.isMobile()?this.toFullFormat().substring(6):this._phone},toShortFormat:function(){return this.toFullFormat().substring(3)},getPhoneOperator:function(){return this.toFullFormat().substring(3,6)},getOnlyNumber:function(){return this.toFullFormat().replace(/^[^0-9]/,"")},find:function(e){if(e==null){return false}e+="";return this._phone.indexOf(e)>=0},getUkrPhoneOperator:function(){if(this._phone!=""){if(this.isInterTelecom()){return"intertelecom"}var e;var t;var n;var i=this.toFullFormat();for(e in this._operators){if(this._operators.hasOwnProperty(e)){n=this._operators[e].length;for(t=n-1;t>=0;t--){if(this._operators[e][t].test(i)){return e}}}}}return""},toFullFormat:function(){if(this._phone==""||this.isFullFormat()||this.isFullFormatAll()){return this._phone}var e=/[0-9]{10}$/.exec(this._phone);if(e&&e[0]){return"+38"+e[0]}return this._phone},toString:function(e){if(e==="short"){return this.toShortFormat()}return this.toFullFormat()},toHtml:function(e){var t=this.toString.apply(this,arguments),n,i;if(!t){n="<span></span>"}else if(e==="short"){n="<span>"+t+"</span>"}else{n="";i=t.substr(1,2);n+=i?"<span>+</span>"+i:"";i=t.substr(3,3);n+=i?"&nbsp;("+i+")&nbsp;":"";i=t.substr(6,3);n+=i?"<span>"+i+"&nbsp;</span>":"";i=t.substr(9,2);n+=(i?"<span>"+i+"&nbsp;</span>":"")+"<span>"+t.substr(11,t.length)+"</span>"}return n},is:function(e){var n=new t(e);return this.value===n.value}};if(typeof module!=="undefined"&&module.exports){module.exports=t}else{e.IPhone=t}})(this);iStorage={initiated:{},get:function(e,t){var n=this;if(typeof e!=="string")_error("iStorage: specify path");if(typeof t==="undefined")var t={};var i="";_.each(t,function(e,t){i+=""+t+e});if(this.initiated[e+i])return this.initiated[e+i];var r=e.split(".");var s=window;while(r.length){var a=r.shift();if(typeof s[a]==="undefined"){_error('iStorage: invalid path "'+e+'"');return false}s=s[a]}if(typeof s!=="function"){_error('iStorage: path "'+e+'" is not constructor');return false}this.initiated[e+i]=new s(_.size(t)?t:null);this.initiated[e+i].isFetched=false;var o=this.initiated[e+i].fetch;this.initiated[e+i].fetch=function(t){n._load(n.initiated[e+i],t||{},o)};return this.initiated[e+i]},_load:function(e,t,n){var i=this;if(e.isFetched){if(typeof t.loader==="function")t.loader.call(e,0);if(typeof t.beforeSend==="function")t.beforeSend();if(typeof t.success==="function"&&e._fetchResults.successParams)t.success.apply(e,e._fetchResults.successParams);if(typeof t.error==="function"&&e._fetchResults.errorParams)t.error.apply(e,e._fetchResults.errorParams);if(typeof t.complete==="function")t.complete.apply(e,e._fetchResults.successParams||e._fetchResults.errorParams);if(typeof t.loader==="function")t.loader.call(e,1);return this}if(e._waitList){if(typeof t.loader==="function")t.loader.call(e,0);e._waitList.push(t);return this}e._waitList=[t];e._fetchResults=[];n.call(e,{beforeSend:function(){var t=e._waitList.length;for(var n=0;n<t;n++){if(typeof e._waitList[n].beforeSend==="function")e._waitList[n].beforeSend()}},complete:function(){var t=e._waitList.length;if(e._waitList){for(var n=0;n<t;n++){if(typeof e._waitList[n].complete==="function"){e._waitList[n].complete.apply(e,arguments)}}delete e._waitList}},success:function(){e._fetchResults.successParams=arguments;e.isFetched=true;var t=e._waitList.length;for(var n=0;n<t;n++){if(typeof e._waitList[n].success==="function")e._waitList[n].success.apply(e,arguments)}},error:function(){e._fetchResults.errorParams=arguments;e.isFetched=true;for(var t=0;t<e._waitList.length;t++){if(typeof e._waitList[t].error==="function")e._waitList[t].error.apply(e,arguments)}},loader:function(t){for(var n=0;n<e._waitList.length;n++){if(typeof e._waitList[n].loader==="function")e._waitList[n].loader.call(e,t)}}});return this}};function Cookie(e){e=e||{};function t(){}this.get=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):undefined};this.set=function(e,t,n){n=n||{};var i=n.expires;if(typeof i=="number"&&i){var r=new Date;r.setTime(r.getTime()+i*1e3);i=n.expires=r}if(i&&i.toUTCString){n.expires=i.toUTCString()}t=encodeURIComponent(t);var s=e+"="+t;for(var a in n){s+="; "+a;var o=n[a];if(o!==true){s+="="+o}}document.cookie=s};this.destroy=function(e){this.set(e,null,{expires:-1})};t.call(this,e)}function CookieDaemon(e){e=e||{};var t=this,n,i,r={};function s(e){n=new Cookie;if(e["autostart"])this.start()}this.create=function(e){e=e||{};if(e["name"]){r[e["name"]]=new a(e);return r[e["name"]]}else{_error('CookieDaemon: Attribute "name" - is not defined');return null}};this.start=function(){o()};this.stop=function(){clearTimeout(i)};function a(e){e=e||{};var t={},i;function r(e){}this.getTimeLastModifyed=function(){return i};this.setTimeLastModifyed=function(e){i=e};this.on=function(e,n,i){if(typeof n=="function"){t[e]=t[e]||[];t[e].push({callback:n,context:i})}};this.off=function(e,n){if(typeof n=="function"){t[e]=t[e]||[];for(var i=0;i<t[e].length;i++){if(t[e][i]==n)t[e].splice(i,1)}}else{t[e]=[]}};this.trigger=function(e,n){t[e]=t[e]||[];for(var i=0;i<t[e].length;i++){t[e][i].callback.apply(t[e][i].context,n)}};this.write=function(t){i=(new Date).getTime();n.set(e["name"],JSON.stringify({time:i,data:t}),{expires:3600})};r.call(this,e)}function o(){for(var e in r){l.call(t,e)}i=setTimeout(o,1e3)}function l(e){setTimeout(function(){var t=n.get(e),i=false;if(t){try{t=JSON.parse(t)||{}}catch(s){i=true}if(!i){var a=r[e].getTimeLastModifyed.call(r[e]);if(t.time&&t.time>a&&a&&t.data){r[e].setTimeLastModifyed.call(r[e],t.time);r[e].trigger.call(r[e],"get",[{data:t.data}])}}}},1)}s.call(this,e)}var Mustache=typeof module!=="undefined"&&module.exports||{};(function(e){e.name="mustache.js";e.version="0.5.0-dev";e.tags=["{{","}}"];e.parse=y;e.compile=A;e.render=S;e.clearCache=C;e.to_html=function(e,t,n,i){var r=S(e,t,n);if(typeof i==="function"){i(r)}else{return r}};var t=Object.prototype.toString;var n=Array.isArray;var i=Array.prototype.forEach;var r=String.prototype.trim;var s;if(n){s=n}else{s=function(e){return t.call(e)==="[object Array]"}}var a;if(i){a=function(e,t,n){return i.call(e,t,n)}}else{a=function(e,t,n){for(var i=0,r=e.length;i<r;++i){t.call(n,e[i],i,e)}}}var o=/^\s*$/;function l(e){return o.test(e)}var c;if(r){c=function(e){return e==null?"":r.call(e)}}else{var u,d;if(l("")){u=/^\s+/;d=/\s+$/}else{u=/^[\s\xA0]+/;d=/[\s\xA0]+$/}c=function(e){return e==null?"":String(e).replace(u,"").replace(d,"")}}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return f[e]||e})}function p(e,t,n,i){i=i||"<template>";var r=t.split("\n"),s=Math.max(n-3,0),a=Math.min(r.length,n+3),o=r.slice(s,a);var l;for(var c=0,u=o.length;c<u;++c){l=c+s+1;o[c]=(l===n?" >> ":"    ")+o[c]}e.template=t;e.line=n;e.file=i;e.message=[i+":"+n,o.join("\n"),"",e.message].join("\n");return e}function m(e){if(e.indexOf("[")==0){e=e.substring(1,e.length-1);if(e.indexOf('"')==0||e.indexOf("'")==0)e=e.substring(1,e.length-1)}return e}function g(e,t,n,i){if(typeof e!=="string")e=e.toString();var r=t.slice(0);var s=e;if(typeof i==="undefined"||!i)i=[];if(s==="."){return r[r.length-1]}while(s.indexOf("@")==0){s=s.substring(1);r.pop()}var a=s.split(".");if(a[0]=="")a.shift();var o=a.length-1;var l=m(a[o]);var c,u,d=r.length,f,h;while(d){h=r.slice(0);u=r[--d];f=0;while(f<o){var p=m(a[f++]);if(typeof u[p]==="function"&&f<=o)u=u[p].call(h[h.length-1]);else u=u[p];if(u==null){break}h.push(u)}if(typeof u==="object"&&u&&typeof u[l]!=="undefined"){c=u[l];break}}if(typeof c==="function"){c=c.apply(h[h.length-1],i)}if(c===null||typeof c==="undefined"){if(typeof c==="undefined")_error(e+" is undefined");return n}return c}function v(e,t,n,i){var r="";if(i){if(e==null||e===false||e===0||e===""||s(e)&&e.length===0){r+=n()}}else if(s(e)){a(e,function(e){t.push(e);r+=n();t.pop()})}else if(typeof e==="object"){t.push(e);r+=n();t.pop()}else if(typeof e==="function"){var o=t[t.length-1];var l=function(e){return S(e,o)};r+=e.call(o,n(),l)||""}else if(e){r+=n()}return r}function y(t,n){n=n||{};var i=n.tags||e.tags,r=i[0],s=i[i.length-1];var a=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'];var o=[],u=false,d=false;var f=function(){if(u&&!d&&!n.space){while(o.length){a.splice(o.pop(),1)}}else{o=[]}u=false;d=false};var h=[],m,g,v;var y=function(e){i=c(e).split(/\s+/);g=i[0];v=i[i.length-1]};var b=function(e){a.push('";',m,'\nvar partial = partials["'+c(e)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')
};var w=function(e){return/^[<>!=\|\&]+$/i.test(e)};var C=function(e,i){if(i==undefined)var i=false;var r=[];var s=e;var a=/^(===|!==|!=|==|<=|>=|\|\||&&|=|<|>|&|\||\(|\)|'[^']+'|"[^"]+"|[^'" <>!=\|\&\(\)]+)/i;while(a.test(s)){var o=a.exec(s)[1];if(r.length){var l=r[r.length-1];if(!/^["']/.test(o)){if(/[\[\]]/.test(o))throw p(new Error("[] is not supported "),t,P,n.file);if(/[\{\}]/.test(o))throw p(new Error("{} is not supported "),t,P,n.file);if(/;/.test(o))throw p(new Error("; is not supported "),t,P,n.file)}if(o!="!"&&w(o)&&w(l))throw p(new Error("Check syntax near '"+l+" "+o+"' "),t,P,n.file)}if(!i&&r.length==0)o='"'+o+'"';else if(o=="=")o="==";else if(o=="true")o=true;else if(o=="false")o=false;else if(o=="undefined")o=undefined;else if(o=="null")o=null;else if(/^[^'" <>!=\|\&0-9\(\)][^'" <>!=\|\&\(\)]*$/i.test(o))o='lookup("'+o+'", stack)';r.push(o);s=s.replace(a,"").replace(/^ +/,"")}return r};var A=function(e){return e.replace(/^([^"' <>!=\|&\(\)]+)["' <>!=\|&\(\)].+/,"$1")};var S=function(e,i){var r=c(e);if(r===""){throw p(new Error("Section name may not be empty"),t,P,n.file)}h.push({name:A(r),inverted:i});var s=C(r);if(s.length>1){var o=false;for(var l=0;l<s.length;l++)if(w(s[l]))o=true;else if(o&&s[l]!="!"&&!w(s[l-1]))throw p(new Error("Missing logical operation between: '"+s[l-1]+"' '"+s[l]+"'"),t,P,n.file);if(!o)s=["lookup("+s.shift()+',stack,"", ['+s.join(", ")+"])"];else s[0]="lookup("+s[0]+",stack)"}else s[0]="lookup("+s[0]+",stack)";a.push('";',m,"\nvar value = "+s.join(" ")+";","\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')};var _=function(e){S(e,true)};var k=function(e){var i=c(e);var r=h.length!=0&&h[h.length-1].name;if(!r||A(i)!=r){throw p(new Error('Section named "'+i+'" was never opened'),t,P,n.file)}var s=h.pop();a.push('";',"\n    return buffer;","\n  };","\n})();");if(s.inverted){a.push("\nbuffer += renderSection(value,stack,callback,true);")}else{a.push("\nbuffer += renderSection(value,stack,callback);")}a.push('\nbuffer += "')};var I=function(e){var i=C(e);if(i.length>1){for(var r=0;r<i.length;r++)if(w(i[r]))throw p(new Error("The function argument can`t be a logical operation"),t,P,n.file);return"lookup("+i.shift()+',stack,"", ['+i.join(", ")+"])"}return'lookup("'+e+'",stack,"")'};var x=function(e){a.push('";',m,"\nbuffer += "+I(c(e))+";",'\nbuffer += "')};var T=function(e){a.push('";',m,"\nbuffer += escapeHTML("+I(c(e))+");",'\nbuffer += "')};var P=1,M,B;for(var E=0,V=t.length;E<V;++E){if(t.slice(E,E+r.length)===r){E+=r.length;M=t.substr(E,1);m="\nline = "+P+";";g=r;v=s;u=true;switch(M){case"!":E++;B=null;break;case"=":E++;s="="+s;B=y;break;case">":E++;B=b;break;case"#":E++;B=S;break;case"^":E++;B=_;break;case"/":E++;B=k;break;case"{":s="}"+s;case"&":E++;d=true;B=x;break;default:d=true;B=T}var N=t.indexOf(s,E);if(N===-1){throw p(new Error('Tag "'+r+'" was not closed properly'),t,P,n.file)}var K=t.substring(E,N);if(B){B(K)}var L=0;while(~(L=K.indexOf("\n",L))){P++;L++}E=N+s.length-1;r=g;s=v}else{M=t.substr(E,1);switch(M){case'"':case"\\":d=true;a.push("\\"+M);break;case"\r":break;case"\n":o.push(a.length);a.push("\\n");f();P++;break;default:if(l(M)){o.push(a.length)}else{d=true}a.push(M)}}}if(h.length!=0){throw p(new Error('Section "'+h[h.length-1].name+'" was not closed properly'),t,P,n.file)}f();a.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var R=a.join("").replace(/buffer \+= "";\n/g,"");if(n.debug){if(typeof console!="undefined"&&console.log){console.log(R)}else if(typeof print==="function"){print(R)}}return R}function b(e,t){var n="view,partials,stack,lookup,escapeHTML,renderSection,render";e=e.replace(/<!\-\-.*?-->/gm,"");var i=y(e,t);var r=new Function(n,i);return function(n,i){i=i||{};var s=[n];try{return r(n,i,s,g,h,v,S)}catch(a){throw p(a.error,e,a.line,t.file)}}}var w={};function C(){w={}}function A(e,t){t=t||{};if(t.cache!==false){if(!w[e]){w[e]=b(e,t)}return w[e]}return b(e,t)}function S(e,t,n){return A(e)(t,n)}})(Mustache);var cartResponseHandler=function(e,t){if(typeof e==="string"){e=$.parseXML(e)}var n=window.SYSTEM_LOCALE||"ru";var i=false;var r="";var s="<div></div>";var a=[];var o=[];if(t){return document.location.hash="cart/operations/"}if(!$("operation",e)[0]||$("error",e)[0]){i=true;$(s).html(cartResponseHandlerl10n[n].globalError)}else{$("operation",e).each(function(e,t){var n=$("errorDescr",t);var r=$("id",t);if(r&&r.text().length){o.push($.trim(r.text()))}else if(n&&n.text().length){a.push({errorCode:$.trim(n.text())});i=true}})}if(i){$.each(a,function(e,t){$(s).append((cartResponseHandlerl10n[n][t.errorCode]||cartResponseHandlerl10n["ru"].globalError)+"<br>")});draw_popup("alert",r,s)}if(o.length){document.location.hash="cart/operations/"+JSON.stringify(o)}return};var cartResponseHandlerl10n={en:{REQUSITS_NOT_SAVED:"Details have not been saved",DESTINATION_IS_TOO_LONG:"The specified purpose of the payment is too long",PAY_NOT_SAVED:"Payment is not saved",globalError:"Service not available. Please try later",errorTitle:"Error"},ua:{REQUSITS_NOT_SAVED:"   ",DESTINATION_IS_TOO_LONG:"    ",PAY_NOT_SAVED:"   ",globalError:" . ,  , ",errorTitle:""},ru:{REQUSITS_NOT_SAVED:"   ",DESTINATION_IS_TOO_LONG:"    ",PAY_NOT_SAVED:"  ",globalError:" . , , ",errorTitle:""}};var QRCodeGenerator=function(){var e=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]];var t=0;var n=1,i=2,r=4,s=8;var a=/^\d*$/;var o=/^[A-Za-z0-9 $%*+\-./:]*$/;var l=/^[A-Z0-9 $%*+\-./:]*$/;var c=1,u=0,d=3,f=2;var h=[],p=[-1];for(var m=0,g=1;m<255;++m){h.push(g);p[g]=m;g=g*2^(g>=128?285:0)}var v=[[]];for(var m=0;m<30;++m){var y=v[m],b=[];for(var w=0;w<=m;++w){var C=w<m?h[y[w]]:0;var A=h[(m+(y[w-1]||0))%255];b.push(p[C^A])}v.push(b)}var S={};for(var m=0;m<45;++m){S["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(m)]=m}var _=[function(e,t){return(e+t)%2==0},function(e,t){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return((e/2|0)+(t/3|0))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return((e+t)%2+e*t%3)%2==0}];var k=function(e){return e>6};var I=function(e){return 4*e+17};var x=function(t){var n=e[t];var i=16*t*t+128*t+64;if(k(t))i-=36;if(n[2].length){i-=25*n[2].length*n[2].length-10*n[2].length-55}return i};var T=function(t,n){var i=x(t)&~7;var r=e[t];i-=8*r[0][n]*r[1][n];return i};var P=function(e,t){switch(t){case n:return e<10?10:e<27?12:14;case i:return e<10?9:e<27?11:13;case r:return e<10?8:16;case s:return e<10?8:e<27?10:12}};var M=function(e,t,a){var o=T(e,a)-4-P(e,t);switch(t){case n:return(o/10|0)*3+(o%10<4?0:o%10<7?1:2);case i:return(o/11|0)*2+(o%11<6?0:1);case r:return o/8|0;case s:return o/13|0}};var B=function(e,t){switch(e){case n:if(!t.match(a))return null;return t;case i:if(!t.match(o))return null;return t.toUpperCase();case r:if(typeof t==="string"){var s=[];for(var l=0;l<t.length;++l){var c=t.charCodeAt(l);if(c<128){s.push(c)}else if(c<2048){s.push(192|c>>6,128|c&63)}else if(c<65536){s.push(224|c>>12,128|c>>6&63,128|c&63)}else{s.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63)}}return s}else{return t}}};var E=function(e,s,a,o){var l=[];var c=0,u=8;var d=a.length;var f=function(e,t){if(t>=u){l.push(c|e>>(t-=u));while(t>=8)l.push(e>>(t-=8)&255);c=0;u=8}if(t>0)c|=(e&(1<<t)-1)<<(u-=t)};var h=P(e,s);f(s,4);f(d,h);switch(s){case n:for(var p=2;p<d;p+=3){f(parseInt(a.substring(p-2,p+1),10),10)}f(parseInt(a.substring(p-2),10),[0,4,7][d%3]);break;case i:for(var p=1;p<d;p+=2){f(S[a.charAt(p-1)]*45+S[a.charAt(p)],11)}if(d%2==1){f(S[a.charAt(p-1)],6)}break;case r:for(var p=0;p<d;++p){f(a[p],8)}break}f(t,4);if(u<8)l.push(c);while(l.length+1<o)l.push(236,17);if(l.length<o)l.push(236);return l};var V=function(e,t){var n=e.slice(0);var i=e.length,r=t.length;for(var s=0;s<r;++s)n.push(0);for(var s=0;s<i;){var a=p[n[s++]];if(a>=0){for(var o=0;o<r;++o){n[s+o]^=h[(a+t[o])%255]}}}return n.slice(i)};var N=function(e,t,n){var i=[];var r=e.length/t|0,s=0;var a=t-e.length%t;for(var o=0;o<a;++o){i.push(s);s+=r}for(var o=a;o<t;++o){i.push(s);s+=r+1}i.push(s);var l=[];for(var o=0;o<t;++o){l.push(V(e.slice(i[o],i[o+1]),n))}var c=[];var u=e.length/t|0;for(var o=0;o<u;++o){for(var d=0;d<t;++d){c.push(e[i[d]+o])}}for(var d=a;d<t;++d){c.push(e[i[d+1]-1])}for(var o=0;o<n.length;++o){for(var d=0;d<t;++d){c.push(l[d][o])}}return c};var K=function(e,t,n,i){var r=e<<i;for(var s=t-1;s>=0;--s){if(r>>i+s&1)r^=n<<s}return e<<i|r};var L=function(t){var n=e[t],i=I(t);var r=[],s=[];for(var a=0;a<i;++a){r.push([]);s.push([])}var o=function(e,t,n,i,a){for(var o=0;o<n;++o){for(var l=0;l<i;++l){r[e+o][t+l]=a[o]>>l&1;s[e+o][t+l]=1}}};o(0,0,9,9,[127,65,93,93,93,65,383,0,64]);o(i-8,0,8,9,[256,127,65,93,93,93,65,127]);o(0,i-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var a=9;a<i-8;++a){r[6][a]=r[a][6]=~a&1;s[6][a]=s[a][6]=1}var l=n[2],c=l.length;for(var a=0;a<c;++a){var u=a==0||a==c-1?1:0,d=a==0?c-1:c;for(var f=u;f<d;++f){o(l[a],l[f],5,5,[31,17,21,17,31])}}if(k(t)){var h=K(t,6,7973,12);var p=0;for(var a=0;a<6;++a){for(var f=0;f<3;++f){r[a][i-11+f]=r[i-11+f][a]=h>>p++&1;s[a][i-11+f]=s[i-11+f][a]=1}}}return{matrix:r,reserved:s}};var R=function(e,t,n){var i=e.length;var r=0,s=-1;for(var a=i-1;a>=0;a-=2){if(a==6)--a;var o=s<0?i-1:0;for(var l=0;l<i;++l){for(var c=a;c>a-2;--c){if(!t[o][c]){e[o][c]=n[r>>3]>>(~r&7)&1;++r}}o+=s}s=-s}return e};var D=function(e,t,n){var i=_[n];var r=e.length;for(var s=0;s<r;++s){for(var a=0;a<r;++a){if(!t[s][a])e[s][a]^=i(s,a)}}return e};var F=function(e,t,n,i){var r=e.length;var s=K(n<<3|i,5,1335,10)^21522;for(var a=0;a<15;++a){var o=[0,1,2,3,4,5,7,8,r-7,r-6,r-5,r-4,r-3,r-2,r-1][a];var l=[r-1,r-2,r-3,r-4,r-5,r-6,r-7,r-8,7,5,4,3,2,1,0][a];e[o][8]=e[8][l]=s>>a&1}return e};var $=function(e){var t=3;var n=3;var i=40;var r=10;var s=function(e){var n=0;for(var r=0;r<e.length;++r){if(e[r]>=5)n+=t+(e[r]-5)}for(var r=5;r<e.length;r+=2){var s=e[r];if(e[r-1]==s&&e[r-2]==3*s&&e[r-3]==s&&e[r-4]==s&&(e[r-5]>=4*s||e[r+1]>=4*s)){n+=i}}return n};var a=e.length;var o=0,l=0;for(var c=0;c<a;++c){var u=e[c];var d;d=[0];for(var f=0;f<a;){var h;for(h=0;f<a&&u[f];++h)++f;d.push(h);for(h=0;f<a&&!u[f];++h)++f;d.push(h)}o+=s(d);d=[0];for(var f=0;f<a;){var h;for(h=0;f<a&&e[f][c];++h)++f;d.push(h);for(h=0;f<a&&!e[f][c];++h)++f;d.push(h)}o+=s(d);var p=e[c+1]||[];l+=u[0];for(var f=1;f<a;++f){var m=u[f];l+=m;if(u[f-1]==m&&p[f]===m&&p[f-1]===m){o+=n}}}o+=r*(Math.abs(l/a/a-.5)/.05|0);return o};var O=function(t,n,i,r,s){var a=e[n];var o=E(n,i,t,T(n,r)>>3);o=N(o,a[1][r],v[a[0][r]]);var l=L(n);var c=l.matrix,u=l.reserved;R(c,u,o);if(s<0){D(c,u,0);F(c,u,r,0);var d=0,f=$(c);D(c,u,0);for(s=1;s<8;++s){D(c,u,s);F(c,u,r,s);var h=$(c);if(f>h){f=h;d=s}D(c,u,s)}s=d}D(c,u,s);F(c,u,r,s);return c};var U={generate:function(e,t){var s={numeric:n,alphanumeric:i,octet:r};var o={L:c,M:u,Q:d,H:f};t=t||{};var h=t.version||-1;var p=o[(t.ecclevel||"L").toUpperCase()];var m=t.mode?s[t.mode.toLowerCase()]:-1;var g="mask"in t?t.mask:-1;if(m<0){if(typeof e==="string"){if(e.match(a)){m=n}else if(e.match(l)){m=i}else{m=r}}else{m=r}}else if(!(m==n||m==i||m==r)){throw"invalid or unsupported mode"}e=B(m,e);if(e===null)throw"invalid data format";if(p<0||p>3)throw"invalid ECC level";if(h<0){for(h=1;h<=40;++h){if(e.length<=M(h,m,p))break}if(h>40)throw"too large data"}else if(h<1||h>40){throw"invalid version"}if(g!=-1&&(g<0||g>8))throw"invalid mask";return O(e,h,m,p,g)},generateHTML:function(e,t){t=t||{};var n=U["generate"](e,t);var i=Math.max(t.modulesize||5,.5);var r=Math.max(t.margin||4,0);var s=document.createElement("div");var a=n.length;var o=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+i*r+'px solid #fff;background:#fff">'];for(var l=0;l<a;++l){o.push("<tr>");for(var c=0;c<a;++c){o.push('<td style="width:'+i+"px;height:"+i+"px"+(n[l][c]?";background:#000":"")+'"></td>')}o.push("</tr>")}s.className="qrcode";s.innerHTML=o.join("")+"</table>";return s},generatePNG:function(e,t){t=t||{};var n=U["generate"](e,t);var i=Math.max(t.modulesize||5,.5);var r=Math.max(t.margin||4,0);var s=n.length;var a=i*(s+2*r);var o=document.createElement("canvas"),l;o.width=o.height=a;l=o.getContext("2d");if(!l)throw"canvas support is needed for PNG output";l.fillStyle="#fff";l.fillRect(0,0,a,a);l.fillStyle="#000";for(var c=0;c<s;++c){for(var u=0;u<s;++u){if(n[c][u]){l.fillRect(i*(r+u),i*(r+c),i,i)}}}return o.toDataURL()}};return U}();(function(e,t){var n=t.localStorage,i=t.JSON,r="timings",s,a,o=function(){n.setItem(r,"{}")};if(!n.getItem(r)){o()}a={_generateTimingInfoId:function(e){var t=iStorage.get("PersonalInfo.Models.Main");e=e||"";return(t&&t.id||"")+(new Date).getTime()+e},measure:function(e,t){t=t||{};var a=(new Date).getTime(),o=a,l,c;if(e!=null){s=i.parse(n.getItem(r));s[e]=s[e]||[];l=s[e].length;if(l){c=s[e][l-1];a=c.endTime}c=$.extend({id:this._generateTimingInfoId(),startTime:a,endTime:o,delta:o-a},t.data);s[e].push(c);n.setItem(r,i.stringify(s))}return this},remove:function(e){if(e){s=i.parse(n.getItem(r));delete s[e];n.setItem(r,i.stringify(s))}return this},reset:function(){o();return this},save:function(e){var t,n=0,r;if(_.isArray(e)){t=[];for(n=0;n<e.length;n++){r=this._buildEventsPacket(e[n]);if(r){t.push(r);this.remove(e[n])}}}else if(e){r=this._buildEventsPacket(e);if(r){t=r;this.remove(e)}}$.ajax({url:"/p24a/timing",type:"post",dataType:"json",processData:true,contentType:"application/json; charset=utf-8",data:i.stringify(t)})},_buildEventsPacket:function(e){var t,s,a;if(e){s=i.parse(n.getItem(r));t=s[e];if(t){a={endTime:_.last(t).endTime,eventId:e,id:this._generateTimingInfoId((Math.random()*100).toFixed()),startTime:_.first(t).startTime,childEvents:_.filter(t,function(e){return e.eventId}),delta:_.last(t).endTime-_.first(t).startTime}}}return a}};e.timings=a})(this,window);window.Base||(window.Base={});window.Base.Collections||(window.Base.Collections={});window.Base.Models||(window.Base.Models={});window.Base.Templates||(window.Base.Templates={});window.Base.Views||(window.Base.Views={});window.Base.Routers||(window.Base.Routers={});window.Base.Templates["fieldError"]='<div class="hint error"> {{message}} </div>';window.Base.Templates["footer"]='<div class="footer"> <div class="content"> <div class="copyright"> &nbsp;{{date.toString \'yyyy\'}} <a href="http://privatbank.ua/" target="_blank" class="link"> {{l10n ""}} </a> <br> {{l10n "  22  05.10.2011 "}} </div> <a class="virtual-keyboard" data-name="virtual-keyboard" id="v_keyboard" href="#"></a> <div class="phone"> 0 800 500 003 </div> <div class="menu"> <a href="http://privatbank.ua/pay/" class="menu-item" target="_blank"> {{l10n "/"}} </a> <a href="https://api.privatbank.ua/" class="menu-item" target="_blank">{{l10n "API"}}</a> <a href="http://privatbank.ua/apps/" class="menu-item" target="_blank">{{l10n " "}}</a> </div> </div> </div> ';window.Base.Templates["header"]='<a class="logo" href="http://privat24.ua"> <img src="img/logo_big2.png" /> <h1> {{l10n "  -"}} </h1> </a>';window.Base.Templates["l10n"]='<div class="languages"> {{#lang == "en"}} <span title="English">EN</span> {{/lang}} {{^lang == "en"}} <a href="#" data-name="l10n" data-id="en" title="English">EN</a> {{/lang}} {{#lang == "ru"}} <span title="">RU</span> {{/lang}} {{^lang == "ru"}} <a href="#" data-name="l10n" data-id="ru" title="">RU</a> {{/lang}} {{#lang == "uk"}} <span title="">UK</span> {{/lang}} {{^lang == "uk"}} <a href="#" data-name="l10n" data-id="uk" title="">UK</a> {{/lang}} </div>';window.Base.Templates["preloader"]="<div class=\"preloader\" data-name=\"preloader\"> {{^action}} {{l10n \" \"}} {{/action}} {{#avaliableChecking}} {{#action == 'internetPayments'}} {{l10n '    '}} {{/action}} {{#action == 'smsInfo'}} {{l10n '   SMS-'}} {{/action}} {{#action == 'repayCredit'}} {{l10n '  '}} {{/action}} {{#action == 'percentsActivation'}} {{l10n '    %   '}} {{/action}} {{/avaliableChecking}} {{^avaliableChecking}} {{#action == 'closeInternetPayments'}} {{l10n '    '}} {{/action}} {{#action == 'openInternetPayments'}} {{l10n '     '}} {{/action}} {{#action == 'lock'}} {{l10n '  '}} {{/action}} {{#action == 'dontlock'}} {{l10n '    '}} {{/action}} {{#action == 'returnCard'}} {{l10n '    '}} {{/action}} {{#action == 'unlock'}} {{l10n '  '}} {{/action}} {{#action == 'pinUnlock'}} {{l10n '  PIN- '}} {{/action}} {{#action == 'cvv'}} {{l10n '    CVV2- '}} {{/action}} {{#action == 'cvvDemands'}} {{l10n '   '}} {{/action}} {{#action == 'hideForStatements'}} {{l10n '     '}} {{/action}} {{#action == 'showForStatements'}} {{l10n '     '}} {{/action}} {{#action == 'hideForPayments'}} {{l10n '      '}} {{/action}} {{#action == 'showForPayments'}} {{l10n '      '}} {{/action}} {{#action == 'percentActivation'}} {{l10n '   %  '}} {{/action}} {{#action == 'operationLimit'}} {{l10n '  '}} {{/action}} {{#action == 'send-otp'}} {{l10n ' '}} {{/action}} {{#action == 'check-otp'}} {{l10n '  '}}... {{/action}} {{#action == 'smsInfoPhones'}} {{l10n '  '}} {{/action}} {{#action == 'addSmsInfoPhone'}} {{l10n '     sms-info'}} {{/action}} {{#action == 'disconnectSmsInfo'}} {{l10n '   sms-info    '}} {{/action}} {{#action == 'minPayment'}} {{l10n '   '}} {{/action}} {{#action == 'monthPayment'}} {{l10n '   '}} {{/action}} {{#action == 'fullPayment'}} {{l10n '      '}} {{/action}} {{#action == 'actionAccounts'}} {{l10n ' /'}} {{/action}} {{#action == \"regularPayment\"}} {{l10n '  '}} {{/action}} {{#action == \"registration-personal-info\"}} {{l10n ' '}}... {{/action}} {{#action == \"registration-add-card\"}} {{l10n '   24'}}... {{/action}} {{#action == \"main\"}} {{l10n \", \"}}... {{/action}} {{#action == \"exchangeRates\"}} {{l10n \"  \"}}... {{/action}} {{#action == \"signIn\"}} {{l10n \"   \"}}... {{/action}} {{#action == \"changePassword\"}} {{l10n \" \"}}... {{/action}} {{#action == \"checkOtp\"}} {{l10n \"  \"}}... {{/action}} {{/avaliableChecking}} </div> ";window.Base.Templates["serviceError"]='<div class="form"> <div class="name"> {{^stepName}} {{l10n "   "}} {{/stepName}} {{#stepName == "swift"}} {{l10n " SWIFT-"}} {{/stepName}} </div> <div class="step"> <div class="form-line message error"> {{l10n " "}} <div class="description"> {{l10n "  . , , "}} </div> </div> </div> </div> ';Base.isMergableObject=function(e){var t=e instanceof Array;return e!=null&&(e.toString&&e.toString===(new Object).toString&&!t&&!(e instanceof Backbone.Model)&&!(e instanceof Backbone.Collection)&&!(e instanceof Backbone.Router)||!_.functions(e).length&&!t)};Base.extend=function(e,t){if(typeof e==="undefined"){e={}}var n=this;var i;var r=function(){};if(e&&e.hasOwnProperty("constructor")){i=e.constructor}else{i=function(){n.apply(this,arguments)}}_.extend(i,n);r.prototype=n.prototype;i.prototype=new r;if(e){_.each(e||{},function(e,t){switch(typeof e){case"object":if(Base.isMergableObject(e)){i.prototype[t]=_.extend({},n.prototype[t],e)}else{i.prototype[t]=e}break;default:i.prototype[t]=e}})}i.prototype.constructor=i;i.__super__=n.prototype;i.extend=Base.extend;return i};Base.Models.Base=Backbone.Model.extend({constructor:function(e,t){if(this instanceof Backbone.Model){var n=e;if(!e){e={}}if(t&&t.parse&&this.parsers&&typeof this.parsers.read==="function"){e=this.parsers.read.call(this,e)}if(this.defaults){e=this._extendRecursive(this._extendRecursive({},this.defaults),e);if(!t||!t.parse){var i=null;for(i in n){if(n.hasOwnProperty(i)&&_.isArray(n[i])&&e[i]&&typeof e[i]!=="function"&&!_.isArray(e[i])){e[i]=_.toArray(e[i])}}}}if(t&&t.collection){this.collection=t.collection}this.attributes={};this._escapedAttributes={};this.cid=_.uniqueId("c");if(!this.set(e,{silent:true})){throw new Error("Can't create an invalid model")}delete this._changed;this._previousAttributes=_.clone(this.attributes);this.initialize.apply(this,arguments);this._addQueryMethods()}},isNativeObject:function(e){return(e!==null&&e.toString&&(e.toString===(new Object).toString||e.toString===(new Array).toString)||e instanceof Array||!_.functions(e).length)&&!(e instanceof RegExp||e instanceof Backbone.Model||e instanceof Backbone.Collection||e instanceof Backbone.Router||e instanceof Backbone.History||e instanceof Backbone.View)},_extendRecursive:function(e,t){var n;for(n in t){if(t[n]!=null&&typeof t[n]==="object"){if(this.isNativeObject(t[n])){e[n]=t[n]instanceof Array?[]:{};this._extendRecursive(e[n],t[n])}else{if(t[n]instanceof Backbone.Model){e[n]=new t[n].constructor(this._extendRecursive({},t[n].attributes))}else{if(t[n]instanceof Backbone.Collection){e[n]=new t[n].constructor(t[n].map(function(e){return new e.constructor(this._extendRecursive({},e.attributes))},this))}else{e[n]=t[n]}}}}else{e[n]=t[n]}}return e},_addQueryMethods:function(){var e=this;_.each(this.queryParams,function(t,n){if(typeof n!=="string"){return}if(n!="read"&&n!="create"&&n!="update"&&n!="delete"&&!e[n]){e[n]=e.getQueryFunction(n)}})},getQueryFunction:function(e){return function(t){t=t?_.clone(t):{};var n=this;var i=this instanceof Backbone.Model;var r=t.success;t.error=Backbone.wrapError(t.error,this,t);t.success=function(e,s,a){if(e instanceof n.ParseError){t.error()}else if(e===null){if(i){n.clear()}else{n.reset()}if(r){r(n,e,a)}}else if(e==="false"||e===false){t.error()}else{if(typeof e!=="string"){if(i){n.set(e,t)}else{if(t.add){n.add(e)}else{n.reset(e)}}}if(r){r(n,e,a)}}};Backbone.sync(e,this,typeof t!=="undefined"?t:null)}},toDefaults:function(){var e=new this.constructor;var t=typeof this.defaults==="function"?this.defaults():this.defaults;if(e.fields){this.fields=$.extend(true,{},e.fields)}for(var n in t){if(typeof t[n]==="object"&&t[n]!==null){if(t[n]instanceof Backbone.Model){if(this.attributes[n]instanceof Backbone.Model){this.attributes[n].toDefaults()}else{this.attributes[n]=new t[n].constructor(this._extendRecursive({},t[n].attributes))}}else if(t[n]instanceof Backbone.Collection){if(this.attributes[n]instanceof Backbone.Collection){this.attributes[n].reset()}else{this.attributes[n]=new t[n].constructor(t[n].map(function(e){return new e.constructor(this._extendRecursive({},e.attributes))},this))}}else{this.attributes[n]=t[n]}}else{this.attributes[n]=t[n]}}this[this.idAttribute]=this.attributes[this.idAttribute];t=null;e=null;return true},ParseError:function(e){_.extend(this,e||{})},validate:function(){},get:function(e){var t=String(e).split(".");var n=t.length;var i=0;var r=null;var s=null;var a=this;var o="";var l="";var c=[];if(n<=1){return this.attributes[e]}else{for(i=0;i<n;i++){if(c=/^(.*)\[(.*)\]/.exec(t[i])){o=c[1];l=+c[2];if(a.attributes&&a.attributes[o]){s=a.attributes[o][l]}else if(a[o]){s=a[o][l]}else{s=null}}else{s=a.attributes?a.attributes[t[i]]||a[t[i]]:a[t[i]]}if(s==null){break}else{a=s;r=s}}}return r}});Base.Models.Base.extend=Base.extend;Base.Models.Currency=Base.Models.Base.extend({defaults:{id:null,name:""}});Base.Collections.Base=Backbone.Collection.extend({constructor:function(e,t){if(!(this instanceof Backbone.Collection)){return}Backbone.Collection.apply(this,arguments);this._addQueryMethods()},_addQueryMethods:Base.Models.Base.prototype._addQueryMethods,getQueryFunction:Base.Models.Base.prototype.getQueryFunction,ParseError:Base.Models.Base.prototype.ParseError,get:function(e,t){var n;if(arguments.length===1){if(e==null){return null}return this._byId[e.id!=null?e.id:e]}else if(arguments.length==2){for(n=0;n<this.models.length;n++){if(this.models[n].get(e)==t){return this.models[n]}}}},add:function(e,t){var n,i,r,s,a,o,l={},c={};t||(t={});if(e&&t.parse&&(e.documentElement||e.childNodes)){e=(this.parsers.read||this.parser).call(this,e)}e=_.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){if(!(s=e[n]=this._prepareModel(e[n],t))){_error("Can't add an invalid model to a collection",s)}else if(l[a=s.cid]||this._byCid[a]||(o=s.id)!=null&&(c[o]||this._byId[o])){_error("Can't add the same model to a collection twice",s)}else{l[a]=c[o]=s}}for(a in l){if(a){(s=l[a]).on("all",this._onModelEvent,this);this._byCid[s.cid]=s;if(s.id!=null){this._byId[s.id]=s}}}e=_.values(l);this.length+=e.length;i=t.at!=null?t.at:this.models.length;Array.prototype.splice.apply(this.models,[i,0].concat(e));if(this.comparator){this.sort({silent:true})}if(t.silent){return this}for(n=0,r=this.models.length;n<r;n++){if(!l[(s=this.models[n]).cid])continue;t.index=n;s.trigger("add",s,this,t)}return this},where:function(e){return this.filter(function(t){var n;for(n in e)if(n&&t.get(n)!==e[n])return false;return true})},destroy:function(e){e=e?_.clone(e):{};var t=this;var n=e.success;var i=function(){var n=[];t.each(function(e){if(e)n.push(e.id)});_.each(n,function(n){var i=t.get(n);if(i)i.trigger("destroy",i,i.collection,e)})};e.success=function(r){if(e.wait)i();if(n){n(t,r)}else{model.trigger("sync",t,r,e)}};e.error=Backbone.wrapError(e.error,t,e);var r=(this.sync||Backbone.sync).call(this,"delete",this,e);if(!e.wait)i();return r},validate:function(e){var t,n,i;var r=e.models||e;if(!r.length){return{message:" "}}for(t=0,n=r.length;t>n;t++){if(r[t]){i=r[t].validate(r[t]);if(i){return i}}}}});Base.Collections.Currency=Base.Collections.Base.extend({model:Base.Models.Currency,initialize:function(){this.reset([{id:new iCurrency("USD"),name:""},{id:new iCurrency("EUR"),name:""},{id:new iCurrency("AED"),name:""},{id:new iCurrency("AFN"),name:""},{id:new iCurrency("ALL"),name:""},{id:new iCurrency("AMD"),name:""},{id:new iCurrency("ANG"),name:""},{id:new iCurrency("AOA"),name:""},{id:new iCurrency("ARS"),name:""},{id:new iCurrency("AUD"),name:""},{id:new iCurrency("AZN"),name:""},{id:new iCurrency("BAM"),name:""},{id:new iCurrency("BBD"),name:""},{id:new iCurrency("BDT"),name:""},{id:new iCurrency("BGN"),name:""},{id:new iCurrency("BHD"),name:""},{id:new iCurrency("BIF"),name:""},{id:new iCurrency("BMD"),name:""},{id:new iCurrency("BND"),name:""},{id:new iCurrency("BOB"),name:""},{id:new iCurrency("BRL"),name:""},{id:new iCurrency("BSD"),name:""},{id:new iCurrency("BTN"),name:""},{id:new iCurrency("BWP"),name:""},{id:new iCurrency("BZD"),name:""},{id:new iCurrency("CAD"),name:""},{id:new iCurrency("CHF"),name:""},{id:new iCurrency("CLP"),name:""},{id:new iCurrency("CNY"),name:""},{id:new iCurrency("COP"),name:""},{id:new iCurrency("CRC"),name:""},{id:new iCurrency("CVE"),name:""},{id:new iCurrency("CZK"),name:""},{id:new iCurrency("DJF"),name:""},{id:new iCurrency("DKK"),name:""},{id:new iCurrency("DOP"),name:""},{id:new iCurrency("DZD"),name:""},{id:new iCurrency("EEK"),name:""},{id:new iCurrency("EGP"),name:""},{id:new iCurrency("ERN"),name:""},{id:new iCurrency("ETB"),name:""},{id:new iCurrency("FJD"),name:""},{id:new iCurrency("GBP"),name:""},{id:new iCurrency("GEL"),name:""},{id:new iCurrency("GHS"),name:""},{id:new iCurrency("GMD"),name:""},{id:new iCurrency("GNF"),name:""},{id:new iCurrency("GTQ"),name:""},{id:new iCurrency("GYD"),name:""},{id:new iCurrency("HKD"),name:""},{id:new iCurrency("HNL"),name:""},{id:new iCurrency("HRK"),name:""},{id:new iCurrency("HTG"),name:""},{id:new iCurrency("HUF"),name:""},{id:new iCurrency("IDR"),name:""},{id:new iCurrency("ILS"),name:""},{id:new iCurrency("INR"),name:""},{id:new iCurrency("JMD"),name:""},{id:new iCurrency("JOD"),name:""},{id:new iCurrency("JPY"),name:""},{id:new iCurrency("KES"),name:""},{id:new iCurrency("KGS"),name:""},{id:new iCurrency("KHR"),name:""},{id:new iCurrency("KMF"),name:""},{id:new iCurrency("KRW"),name:""},{id:new iCurrency("KWD"),name:""},{id:new iCurrency("KYD"),name:""},{id:new iCurrency("KZT"),name:""},{id:new iCurrency("LAK"),name:""},{id:new iCurrency("LBP"),name:""},{id:new iCurrency("LKR"),name:""},{id:new iCurrency("LSL"),name:""},{id:new iCurrency("LTL"),name:""},{id:new iCurrency("LVL"),name:""},{id:new iCurrency("LYD"),name:""},{id:new iCurrency("MAD"),name:""},{id:new iCurrency("MDL"),name:""},{id:new iCurrency("MGA"),name:""},{id:new iCurrency("MKD"),name:""},{id:new iCurrency("MMK"),name:""},{id:new iCurrency("MNT"),name:""},{id:new iCurrency("MOP"),name:""},{id:new iCurrency("MRO"),name:""},{id:new iCurrency("MUR"),name:""},{id:new iCurrency("MVR"),name:""},{id:new iCurrency("MWK"),name:""},{id:new iCurrency("MXN"),name:""},{id:new iCurrency("MYR"),name:""},{id:new iCurrency("NAD"),name:""},{id:new iCurrency("NIO"),name:""},{id:new iCurrency("NOK"),name:""},{id:new iCurrency("NPR"),name:""},{id:new iCurrency("NZD"),name:""},{id:new iCurrency("OMR"),name:""},{id:new iCurrency("PAB"),name:""},{id:new iCurrency("PEN"),name:""},{id:new iCurrency("PGK"),name:""},{id:new iCurrency("PHP"),name:""},{id:new iCurrency("PKR"),name:""},{id:new iCurrency("PLN"),name:""},{id:new iCurrency("PYG"),name:""},{id:new iCurrency("QAR"),name:""},{id:new iCurrency("RON"),name:""},{id:new iCurrency("RSD"),name:""},{id:new iCurrency("RUB"),name:""},{id:new iCurrency("RWF"),name:""},{id:new iCurrency("SAR"),name:""},{id:new iCurrency("SBD"),name:""},{id:new iCurrency("SCR"),name:""},{id:new iCurrency("SEK"),name:""},{id:new iCurrency("SGD"),name:""},{id:new iCurrency("SLL"),name:""},{id:new iCurrency("SRD"),name:""},{id:new iCurrency("STD"),name:""},{id:new iCurrency("SZL"),name:""},{id:new iCurrency("THB"),name:""},{id:new iCurrency("TJS"),name:""},{id:new iCurrency("TMT"),name:""},{id:new iCurrency("TND"),name:""},{id:new iCurrency("TOP"),name:""},{id:new iCurrency("TRY"),name:""},{id:new iCurrency("TTD"),name:""},{id:new iCurrency("TWD"),name:""},{id:new iCurrency("TZS"),name:""},{id:new iCurrency("UGX"),name:""},{id:new iCurrency("UYU"),name:""},{id:new iCurrency("UZS"),name:""},{id:new iCurrency("VND"),name:""},{id:new iCurrency("VUV"),name:""},{id:new iCurrency("WST"),name:""},{id:new iCurrency("XAF"),name:""},{id:new iCurrency("XCD"),name:""},{id:new iCurrency("XOF"),name:""},{id:new iCurrency("XPF"),name:""},{id:new iCurrency("YER"),name:""},{id:new iCurrency("ZAR"),name:""},{id:new iCurrency("ZMK"),name:""}])
}});Base.Views.Base=Backbone.View.extend({});Base.Views.Base.extend=Base.extend;window.QRCode||(window.QRCode={});window.QRCode.Collections||(window.QRCode.Collections={});window.QRCode.Models||(window.QRCode.Models={});window.QRCode.Templates||(window.QRCode.Templates={});window.QRCode.Views||(window.QRCode.Views={});window.QRCode.Routers||(window.QRCode.Routers={});window.QRCode.Templates["preloader"]='<div class="preloader" data-name="preloader"> {{l10n " "}}... </div> ';window.QRCode.Templates["showCodeButton"]='<a href="#" class="button grey show-code-button" data-name="show-code-button"> {{l10n " QR-"}} </a>';QRCode.Models.Main=Base.Models.Base.extend({defaults:{id:null,merchantId:1,codeTimeToLive:12e4,hideCodeAfterTime:3e5,checkingCodeInterval:2e3,codeLength:44,codeSymbols:"0123456789qwertyuiopasdfghjklzxcvbnm",isConfirmed:false,refreshQrCode:false,redirectUrl:""},_generateCodeId:function(){var e="ap24";var t=this.get("codeSymbols").length;while(e.length<this.get("codeLength")){e+=this.get("codeSymbols")[Math.floor(Math.random()*t)]}return e},initialize:function(){this.set({id:this._generateCodeId()})},getQueryBaseUrl:function(){var e=/https/i.test(location.protocol||"");return window.DEBUG?"http"+(e?"s":"")+"://app-p24-f-dev.ceb.loc":"https://qrapi.privatbank.ua"}});QRCode.Models.Main.prototype.parsers={check:function(e){return _.extend({},e,{isConfirmed:e.isConfirmed=="true",refreshQrCode:e.refreshQrCode=="true"})}};QRCode.Models.Main.prototype.queryParams={read:function(){return{url:this.getQueryBaseUrl()+"/qrapi/get_qrapi",dataType:"jsonp",cache:false,jsonpCallback:"response",data:{ajax:"true",code:this.id,id:this.get("merchantId"),noQr:"y"}}},check:function(){return{url:this.getQueryBaseUrl()+"/qrapi/check_login_user_enter",dataType:"jsonp",cache:false,jsonpCallback:"response",data:{type:"json",stepcheck:"n",codeId:this.id}}}};QRCode.Views.Main=Base.Views.Base.extend({templates:{preloader:Mustache.compile(QRCode.Templates.preloader),showCodeButton:Mustache.compile(QRCode.Templates.showCodeButton)},events:{"click [data-name='show-code-button']":"eventStart"},model:new QRCode.Models.Main,eventStart:function(e){e.preventDefault();$(e.target).remove();this.start()},initialize:function(e){this.options.needHideCode=!!e.needHideCode;this.router=e.router;this.attachEvents()},attachEvents:function(){this.model.on("change:isConfirmed",function(){if(this.model.get("isConfirmed")===true){this.stop();this.trigger("checked",this,true)}},this);this.model.on("change:refreshQrCode",function(){if(this.model.get("refreshQrCode")===true){this.stop();this.model.set({refreshQrCode:false});this.start()}},this)},render:function(e){e||(e={});if(e.el)this.$el=$(e.el);this.start();return this},addMainPreloader:function(){this.$el.html(this.renderTemplate("preloader"))},removeMainPreloader:function(){this.$el.find('[data-name="preloader"]').remove()},buildQRCode:function(){this.$el.html(QRCodeGenerator.generateHTML(this.model.id,{ecclevel:"L",margin:1e-4}))},start:function(){var e=this;this.trigger("start",this);this.model.fetch({beforeSend:function(){e.addMainPreloader()},complete:function(){e.removeMainPreloader();e.options.fetchCodeInterval=window.setInterval(function(){if(typeof e.options.checkingCodeInterval!=="undefined")window.clearInterval(e.options.checkingCodeInterval);e.model.fetch({beforeSend:function(){e.addMainPreloader()},complete:function(){e.removeMainPreloader()},success:function(){e.buildQRCode();e.startCheckingCode()}})},e.model.get("codeTimeToLive"))},success:function(){e.buildQRCode();e.startCheckingCode()}})},hideQRCode:function(){this.stop();this.$el.html(this.renderTemplate("showCodeButton"))},startCheckingCode:function(){var e=this;if(e.options.needHideCode){e.options.hideCodeTimeout=window.setTimeout(function(){window.clearTimeout(e.options.hideCodeTimeout);e.hideQRCode()},e.model.get("hideCodeAfterTime"))}this.options.checkingCodeInterval=window.setInterval(function(){e.model.check({modelData:e.options.mainModel})},this.model.get("checkingCodeInterval"))},stop:function(){this.trigger("stop",this);if(typeof this.options.checkingCodeInterval!=="undefined")window.clearInterval(this.options.checkingCodeInterval);if(typeof this.options.fetchCodeInterval!=="undefined")window.clearInterval(this.options.fetchCodeInterval);if(typeof this.options.hideCodeTimeout!=="undefined")window.clearTimeout(this.options.hideCodeTimeout)},restart:function(){this.stop();this.start()}});window.Accounts||(window.Accounts={});window.Accounts.Collections||(window.Accounts.Collections={});window.Accounts.Models||(window.Accounts.Models={});window.Accounts.Templates||(window.Accounts.Templates={});window.Accounts.Views||(window.Accounts.Views={});window.Accounts.Routers||(window.Accounts.Routers={});Accounts.Collections.Base=Base.Collections.Base.extend({_getMillisecondsForSort:function(e){return e?new window.IDate(e.toString("dd.mm.yyyy")).getMilliseconds():0},_fetchFrom:function(e){return function(t){var n=iStorage.get(e.storage,e.storageData);var i=_.clone(t||{});var r=i.success;var s=this;i.success=function(t){var n=e.rule?t.filter(e.rule):t.models;s.reset(_.map(n,function(e){return new s.model(e.attributes)}));if(typeof r==="function"){r(s)}};n.fetch(i)}},get:function(e){if(e==null){return null}if(String(e).indexOf("*")>=0){var t=e.replace(/\s+/g,"").replace(/\*/g,"[0-9]"),n=new RegExp("^"+t+"$");return this.find(function(e){return n.test(e.id)})}return Base.Collections.Base.prototype.get.apply(this,arguments)},getCardsWithSameAccount:function(e){var t=e&&e.get("account");if(!e){return[]}return this.filter(function(n){return n.isCard()&&n.get("account").is(t)&&!n.id.is(e.id)})}});Accounts.Models.Phone=Base.Models.Base.extend({defaults:{phone:null},idAttribute:"phone",toString:function(){return this.get("phone").toString()},validate:function(e){if(!e.phone||!e.phone.validate()||!e.phone.isUkrPhone()){return{field:"phone",message:"  "}}if(this.collection&&this.collection.get(e.phone.toString())){return{field:"phone",message:"    "}}}});Accounts.Collections.Phone=Accounts.Collections.Base.extend({model:Accounts.Models.Phone});Accounts.Collections.Phone.prototype.parsers=_.extend({},Accounts.Collections.Phone.prototype.parsers||{},{read:function(e){var t=[];var n={};var i=this;$("item",e).each(function(e,i){var r=new IPhone($(i).attr("phohe"));if(n[r]){_error("Accounts.Collections.Phone : Can't add the same model to a collection twice",true)}else if(r.validate()){n[r]=true;if(r){t.push({phone:r})}}});return t},addSmsInfoPhone:function(e){var t=$(e).find("number");if(t[0]){var n=$("isConnected",e).text();var i=new IPhone($("phone",e).text());if(n==="true"&&i.validate()){var r=this.get(i.toString());if(r){this.remove(r,{silent:true})}return[{phone:i}]}else{return false}}else{if($("needOTP",e).text()=="true"){return $(e).find("otpSignature").text()}else if($("success",e).text()=="true"){return true}else{return false}}},disconnectSmsInfo:function(e){var t=this;$("phone",e).each(function(e,n){if($("isDisconnect",this).text()=="true"){t.remove(t.get($("phone",this).text()))}});return t.models}});Accounts.Collections.Phone.prototype.queryParams=_.extend({},Accounts.Collections.Phone.prototype.queryParams||{},{read:function(e){return{url:"adminutils",data:{acc:e.get("number").toString(),ajax:"yes",oper:"smsgetphones"}}},addSmsInfoPhone:function(e){return{url:"adminutils",dataType:"text",data:{ajax:"yes",oper:"smsconnect",plan:"autoprocessing",acc:e?e.get("number").toString():"",fno:e?e.get("phone").toFullFormat():""}}},disconnectSmsInfo:function(e){var t=_.map(e.get("phones").models,function(e){return e.get("phone").toString()});return{url:"adminutils",dataType:"text",data:{ajax:"yes",oper:"smsdisconnect",acc:e?e.get("card").get("number").toString():"",phones:t.join(";")}}}});Accounts.Models.Account=Base.Models.Base.extend({defaults:{number:null,parentCardNumber:null,name:"",currency:new window.ICurrency,date:new window.IDate,balance:new window.INumber,state:"",minPaymentAmount:null,fullPaymentAmount:null,src:"",account:null,isHiddenForStatements:false,cardTypeName:"",isHiddenForPayments:false,isKopilka:false,isPayAvailiable:true,isSalaryCard:false,isPaymentReceivingAvailable:true,cardType:"",closeAction:null,graceAmount:null,restrictionLimit:null,restrictionLimitText:""},idAttribute:"number",isCreditCardPaymentsLoaded:false,isCreditCardGracePeriodLoaded:false,showRestrictionStatus:true,isNeedShowDate:function(){return this.attributes.date&&this.attributes.date.get("year")!=1970},toString:function(){return this.get("number").toString()},isCardOfCashTransactions:function(){return/^777710(0[0-3]|9)980/.test(this.attributes.number.toString())},isPayAvailiable:function(){return!!this.get("isPayAvailiable")},isSalaryCard:function(){return!!this.get("isSalaryCard")},isPaymentReceivingAvailable:function(){return!!this.get("isPaymentReceivingAvailable")},isPrivatDeposit:function(){return["DVPR","DVPS","CBPV"].indexOf(this.attributes.cardType)>=0},isCurrentAccount:function(){return["CACC","CANR","TSRZ","TSNR","CACN"].indexOf(this.attributes.cardType)>=0},isNotaryCard:function(){var e=this.get("number");return e&&/^22222270/.test(e.toString())},isWorkable:function(){if(this.isBadAccount()){return false}switch(this.get("state")){case"CLSC":case"NOAU":case"DELD":case"DELB":case"DELQ":case"PTTR":case"PICK":case"SCMD":case"BADC":case"CLCP":case"CLSB":case"REFI":case"CLSD":case"LOST":case"EXPC":case"RSTR":case"RSRT":case"SLAC":case"STLC":return false;default:return!(this.isDeposit()&&!this.isOpenDeposit())}},isChildAccount:function(){return!!(!_.isEmpty(this.get("parentCardNumber"))&&this.get("parentCardNumber").toString())},isManualBlocked:function(e){var t=this.get("number")&&this.get("number").toString();if(e.isForPayment){if(!t||/^414943700|77770320|77771000980|77771000840/.test(t)||/^77771001980|77771002980|77771003980|7777109980/.test(t)){return true}}return false},isLegalPersonAccount:function(){return/^2600/.test(this.get("number"))},isPhysicalPersonAccount:function(){return/^2605/.test(this.get("number"))},isCustomerAccount:function(){return/^2620/.test(this.get("number"))},isVisa:function(){var e=this.get("number").toString();return!!(e&&+e.substr(0,1)==4&&[13,16,17,18,19].indexOf(e.length)>=0)},isActualInfoLoaded:function(){return!!this.get("isActualInfoLoaded")},isMC:function(){var e=this.get("number").toString();return!!(e&&[5,6].indexOf(+e.substr(0,1))>=0&&e.length>=16&&e.length<=19)},isMetro:function(){return/^(7777|77770304)/.test(this.get("number"))&&!this.isFuel()},isVirtualAccount:function(){return/^(67624626|67624626[013-67]|47311851|2552|2655|2924|2554|2061|2625|2222224|2222222[976]|22222219|22222212|22222207|22222206|22222201)/.test(this.get("number"))},isVirtualCard:function(){return/^(4149605005|414949500[56]|4149605006|462708501)/.test(this.get("number"))},isInternetCard:function(){return/^(473118550[1-6]|47311856|4149605007|4149495007|4149605711|414949570[0-1]|4149605710|4149605005|4149495005|4149605006|4149495006|4149603[012357])/.test(this.get("number"))},isBadAccount:function(){return/^(22222216|22222224|2222223)/.test(this.get("number"))},isFuel:function(){return/^(7777160000|1001|1826|1827)/.test(this.get("number"))||/Petrolium/i.test(this.get("cardTypeName"))},isAvias:function(){return/^1001/.test(this.get("number"))&&this.get("src")=="M"},isTechnical:function(){return/^2625/.test(this.get("number"))},isLiqPay:function(){return false},isBonus:function(){return/^22222213|22222218|22222253/.test(this.get("number"))},isPensionCard:function(){return/^(6762462018|462708582|462708585|12080000|46270878)/.test(this.get("number"))},isPensionAccount:function(){return/^3311/.test(this.get("number"))},isPensionDeposit:function(){return/^12080000/.test(this.get("number"))},isDeposit:function(){return/^263[05]/.test(this.get("number"))},isKopilka:function(){return!!this.get("isKopilka")},isOpenDeposit:function(){return this.isDeposit()&&true},isCreditAccount:function(){return/^2909/.test(this.get("number"))},isCreditCard:function(){return this.get("limit")&&this.get("limit")["float"]>0&&!this.isCreditAccount()||/CREDIT\s+CARD|[KC]reditka|CREDIT\s+.+\s+PIN\]/i.test(this.get("cardTypeName"))||/^(41494353|4149437[13-578]|4149495[0-9]|4149605[0349]|4149615500)/.test(this.get("number"))||/^(4149625[39]|43233473|44058850|4405885[239]|46270850|4627830)/.test(this.get("number"))||/^(4731212000|518528044|5211537[2349]|53635423)/.test(this.get("number"))||/^(5457082[0389]|5457092[039]|5577212[36-9]|55772130)/.test(this.get("number"))||/^(51687423|51687553|545708223)/.test(this.get("number"))},isPersonalCard:function(){var e=this.get("number");return/^676246((2(7[01]|119|03[1267]|21|0([25]9|1[07]|[129]|[79]60|095|040|150)))|(4|0[023578]|1[0124]|47|34|44))/.test(e)||/^440129(4[68]|35|500[1245])/.test(e)||/^462708502[78]/.test(e)||/^440588(5(07[01]|600|0[59])|0[257]|8[23]|0)/.test(e)||/^41496((050(5[012456]|6[03]|02|7|9|04))|(0[0238]|078|08[47]|00[57]|027|032|06[012]|05400[1-3]|057([07]0|7013)|027(5707|6493|9298|6648|4950|3442)))/.test(e)||/^545708((2(0(54[12]|56|9|540|5[02]|7[02])|7(00|70)))|(0|4|33|47|00|0[2357]|1[0124]))/.test(e)||/^414949(5(05[02]|770|05[456]|0[79])|7(000|[25])|0[023459])/.test(e)||/^432575(0|27)|44053550[79]|77771800/.test(e)},isFinanceAccount:function(){return!this.isDeposit()&&!this.isCreditAccount()&&!this.isBonus()&&!this.isPensionAccount()&&!this.isMetal()&&!this.isLiqPay()&&!this.isPrivatDeposit()&&!this.isPenaltyAccount()},isMetal:function(){return!!this.get("currency")&&this.get("currency").is("XAU")},isCard:function(){return(this.isVisa()||this.isMC()||this.isFuel()||this.isMetro())&&!this.isVirtualAccount()&&!this.isBadAccount()&&!this.isBonus()&&!this.isDeposit()&&!this.isCreditAccount()&&!this.isLiqPay()&&!this.isPensionAccount()&&!this.isMetal()},isMain:function(){return _.isEmpty(this.get("parentCardNumber"))||!this.get("parentCardNumber").toString()},isMultiCurrency:function(){return this.get("isMultiCurrency")===true},isKeyCard:function(){return/^516933050|55842426|532957200|55842425|4149615500/.test(this.get("number"))},hasChildren:function(){if(!this.collection){return false}var e=this;var t=this.collection.select(function(t){return!_.isEmpty(t.get("parentCardNumber"))&&t.get("parentCardNumber").is(e.get("number"))});return!!t.length},isLocked:function(){return this.isLockedAccount||this.get("state")=="STLC"||this.get("state")=="LOST"||this.get("state")=="RSTR"},isHiddenForStatements:function(){return this.isTechnical()||!this.isWorkable()||this.isPrivatDeposit()&&!this.isPayAvailiable()||!!this.get("isHiddenForStatements")},isHiddenForPayments:function(){return!!this.get("isHiddenForPayments")},isAccountOfOtherBank:function(){return!!this.get("isAccountOfOtherBank")},isPartPaymentCard:function(){return!!this.get("isPartPaymentCard")},isPenaltyAccount:function(){return["SHTR","SHRS","SHTN"].indexOf(this.attributes.cardType)>=0},isBlockedCardAvailableForPayment:function(){return!this.isWorkable()&&this.isPayAvailiable()&&this.get("balance")&&this.get("balance")["float"]>0},getParent:function(){var e=this;if(_.isEmpty(this.get("parentCardNumber"))||!this.get("parentCardNumber").validate()||!this.collection){return null}var t=this.collection.select(function(t){return t.get("number").toString()==e.get("parentCardNumber").toString()});return t.length?t[0]:null},isMainCurrencyAccount:function(){if(!this.isChildAccount()){return false}var e=this.getParent();return!!(e&&this.get("currency")&&this.get("currency").is(e.get("currency")))},getChildren:function(){var e=this;if(!this.isMain()||!this.collection){return null}return this.collection.select(function(t){return!_.isEmpty(t.get("parentCardNumber"))&&t.get("parentCardNumber").is(e.get("number"))})},hasActions:function(){return!window.isLimitedFunctional&&(this.isCard()||this.isMetro()||this.isVirtualCard()||this.isVirtualAccount()||this.isCreditCard()||this.isCreditAccount()||this.isFuel()||this.isInternetCard()||this.isPensionAccount()||this.isCustomerAccount()||this.isMetal())&&!(this.isMultiCurrency()&&!this.isCard())},hasLockAction:function(){return this.hasActions()&&!this.isVirtualAccount()&&!this.isVirtualCard()&&!this.isFuel()&&!this.isPensionAccount()&&!this.isInternetCard()&&!this.isBonus()&&!this.isCreditAccount()&&!(this.isMultiCurrency()&&!this.isCard())&&!this.isAccountOfOtherBank()},hasDontLockAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isVirtualAccount()&&!this.isVirtualCard()&&!this.isPensionAccount()&&!this.isFuel()&&!this.isInternetCard()&&!this.isBonus()&&!this.isCreditAccount()&&!(this.isMultiCurrency()&&!this.isCard())&&!this.isAccountOfOtherBank()},hasPinUnlockAction:function(){return this.hasActions()&&!this.isVirtualAccount()&&!this.isVirtualCard()&&!this.isFuel()&&!this.isPensionAccount()&&!this.isInternetCard()&&!this.isBonus()&&!this.isMetro()&&!this.isCreditAccount()&&!(this.isMultiCurrency()&&!this.isCard())&&!this.isAccountOfOtherBank()},hasReturnFromATMAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isVirtualAccount()&&!this.isVirtualCard()&&!this.isPensionAccount()&&!this.isFuel()&&!this.isInternetCard()&&!this.isBonus()&&!this.isMetro()&&!this.isCreditAccount()&&!(this.isMultiCurrency()&&!this.isCard())&&!this.isAccountOfOtherBank()},hasOperationLimitAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isFuel()&&!this.isBonus()&&!this.isCreditAccount()&&!this.isPensionAccount()&&!this.isAccountOfOtherBank()},hasCvvAction:function(){return this.hasActions()&&this.isWorkable()&&this.isInternetCard()&&!this.isAccountOfOtherBank()},hasInternetPaymentsAction:function(){return this.hasActions()&&this.isWorkable()&&(!this.isVirtualAccount()&&!this.isMetro()&&!this.isFuel()&&!this.isBonus()&&!(this.isMultiCurrency()&&!this.isPensionAccount()&&!this.isCard())||this.isInternetCard())&&!this.isAccountOfOtherBank()},hasPercentsActivationAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isVirtualAccount()&&!this.isVirtualCard()&&!this.isMetro()&&!this.isFuel()&&!this.isBonus()&&!this.isInternetCard()&&!this.isCreditAccount()&&!this.isPensionAccount()&&!this.isAccountOfOtherBank()},hasSmsInfoAction:function(){return this.isWorkable()&&(this.hasActions()&&!this.isInternetCard()&&!this.isVirtualCard()&&!this.isFuel()&&!this.isPensionAccount()&&!this.isBonus()&&!this.isCreditAccount()&&!this.isAccountOfOtherBank()||/^473118550[1-6]/.test(this.attributes.number))},hasDownloadContractAction:function(){return false},isAvailableCloseAction:function(){return!!(this.attributes.closeAction&&this.attributes.closeAction.isAvailable())},hasHideForStatementsAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isCreditAccount()&&!this.isPensionAccount()},hasHideForPaymentsAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isCreditAccount()&&!this.isPensionAccount()},hasRenameAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isBonus()&&!this.isPensionAccount()&&!this.isAccountOfOtherBank()},hasMoneyBoxAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isBonus()&&!this.isPensionAccount()&&!this.isAccountOfOtherBank()},hasOpenDepositAction:function(){return this.hasActions()&&this.isWorkable()&&!this.isBonus()&&!this.isCreditAccount()&&!this.isPensionAccount()&&!this.isAccountOfOtherBank()},hasRefillAction:function(){return false},hasRestrictionLimit:function(){return[null,.08,.09].indexOf(this.get("restrictionLimit"))<0},loadOperationStatus:function(e,t){var n=this;var i=t.success;var r=t.complete;var s=t.error;if(!this.collection||!this.isCard()){if(typeof s==="function"){s(n)}return}if(e.toLowerCase()==="percentsactivation"){if(this.isPercentActivationStatusLoaded){if(typeof t.beforeSend==="function"){t.beforeSend(this)}if(typeof t.success==="function"){t.success(this)}if(typeof t.complete==="function"){t.complete(this)}}else{this.loadPercentsActivationStatus(_.extend(t,{success:function(e){n.isPercentActivationStatusLoaded=true;if(typeof i==="function"){i.apply(n,arguments)}}}))}return}this.collection.loadOperationStatus(e,_.extend(t,{success:function(e,t){if(typeof i==="function"){i(n,t)}if(typeof r==="function"){r(n,t)}},error:Backbone.wrapError(s||null,n,t)}))},isNeedToShowRestrictionStatus:function(){return this.showRestrictionStatus}});Accounts.Models.Card=Accounts.Models.Account.extend({defaults:{rest:new INumber,limit:new INumber,dynamic:null,bonusPlus:null,isMultiCurrency:false,mainMultAccount:null,openInternetPaymentsRate:new INumber(1),closeInternetPaymentsRate:new INumber(1),internetPaymentsRateCurrency:new ICurrency("UAH"),multiCurrencyAccounts:null,smsInfo:{isActive:false,isAvailable:false,phones:new Accounts.Collections.Phone},percentsActivation:{isActive:false,isAvailable:false},internetPayments:{limit:new INumber(2e3),isActive:false,isAvailable:false}}});Accounts.Models.Bonus=Accounts.Models.Card.extend({isCard:function(){return false},showRestrictionStatus:false,hasHideForPaymentsAction:function(){return false}});Accounts.Models.Fuel=Accounts.Models.Card.extend({refreshBalance:function(e){var t=this,n=new Accounts.Collections.Fuel;n.fetch({reset:true,beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now"),isActualInfoLoaded:true});t.set(i.toJSON())}else{t.set({date:new IDate("now"),isActualInfoLoaded:true})}if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}},complete:function(){if(typeof e.complete==="function"){e.complete()}}})}});Accounts.Models.Metro=Accounts.Models.Card.extend({refreshBalance:function(e){var t=this,n=new Accounts.Collections.Metro;n.fetch({reset:true,beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now"),isActualInfoLoaded:true});t.set(i.toJSON())}else{t.set({date:new IDate("now"),isActualInfoLoaded:true})}if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}},complete:function(){if(typeof e.complete==="function"){e.complete()}}})}});Accounts.Models.MulticurrencyCard=Accounts.Models.Card.extend({getMainCurrencyAccountBalance:function(){var e=this.getChildren(),t=this.get("balance");_.each(e,function(e){if(typeof e!=="function"&&e&&e.isMultiCurrency()&&e.isMainCurrencyAccount()){t=e.get("balance")}});return t}});Accounts.Models.VirtualAccount=Accounts.Models.Card.extend({isCard:function(){return false}});Accounts.Models.VirtualCard=Accounts.Models.Card.extend({});Accounts.Models.CreditCard=Accounts.Models.Card.extend({});Accounts.Models.CreditAccount=Accounts.Models.Account.extend({defaults:{startDate:new IDate,endDate:new IDate,rest:new INumber,balance:null,limit:new INumber,minPaymentAmount:null,fullPaymentAmount:null,percent:null,creditNumber:null,creditId:null,creditType:null,contractNumber:null,lastPay:null,lastPayDate:null},idAttribute:"number",defaultStatementsPeriod:new window.IPeriod(new window.IDate({months:-6})),showRestrictionStatus:false,isWorkable:function(){return this.get("state")!=="C"},isCard:function(){return false},hasDownloadContractAction:function(){return true},refreshBalance:function(e){var t=this,n=new Accounts.Collections.CreditAccount;n.fetch({reset:true,beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now"),isActualInfoLoaded:true});t.set(i.toJSON())}else{t.set({date:new IDate("now"),isActualInfoLoaded:true})}if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}},complete:function(){if(typeof e.complete==="function"){e.complete()}}})}});Accounts.Models.CreditInfo=Base.Models.Base.extend({defaults:{name:"",number:null,creditId:null,bankId:"",state:"",creditNumber:null,creditType:"",contractNumber:null,startDate:new IDate,currency:new ICurrency,lastPay:null,lastPayDate:null,isContractDownloadAvailable:false,rest:null,restOverdue:null,monthPayment:null,debtsByPercent:null,debtsByOverduePercent:null,debtsByComission:null,debtsByOverdueComission:null,debtsByFine:null},idAttribute:"number"});Accounts.Models.DepositAll=Accounts.Models.Account.extend({defaults:{isPayAvailiable:true,startDate:new IDate,endDate:new IDate,percent:new INumber,contractType:"",referenceContract:"",sync:"0"},refreshBalance:function(e){var t=this,n=new Accounts.Collections.DepositAll;n.fetch({reset:true,beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now"),isActualInfoLoaded:true});t.set(i.toJSON())}else{t.set({date:new IDate("now"),isActualInfoLoaded:true})}if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}},complete:function(){if(typeof e.complete==="function"){e.complete()}}})}});Accounts.Models.Deposit=Accounts.Models.DepositAll.extend({});Accounts.Models.Kopilka=Accounts.Models.DepositAll.extend({defaults:{isPayAvailiable:false,date:new IDate,name:"",isKopilka:true,isActualInfoLoaded:true},refreshBalance:function(e){var t=this,n=new Accounts.Collections.Kopilka;n.fetch({reset:true,beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now"),isActualInfoLoaded:true});t.set(i.toJSON())}else{t.set({date:new IDate("now"),isActualInfoLoaded:true})}if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}},complete:function(){if(typeof e.complete==="function"){e.complete()}}})}});Accounts.Models.LiqPay=Accounts.Models.Account.extend({defaults:{number:"",rate:new INumber},showRestrictionStatus:false,idAttribute:"currency",isLiqPay:function(){return true},refreshBalance:function(e){var t=this,n=new Accounts.Collections.LiqPay;n.fetch({reset:true,beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now"),isActualInfoLoaded:true});t.set(i.toJSON())}else{t.set({date:new IDate("now"),isActualInfoLoaded:true})}if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}},complete:function(){if(typeof e.complete==="function"){e.complete()}}})}});Accounts.Models.Metal=Accounts.Models.Account.extend({refreshBalance:function(e){var t=this,n=new Accounts.Collections.Metal;n.fetch({reset:true,beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now"),isActualInfoLoaded:true});t.set(i.toJSON())}else{t.set({date:new IDate("now"),isActualInfoLoaded:true})}if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}},complete:function(){if(typeof e.complete==="function"){e.complete()}}})}});Accounts.Models.PensionCard=Accounts.Models.Card.extend({});Accounts.Models.PensionAccount=Accounts.Models.Account.extend({defaults:_.extend({},Accounts.Models.Account.prototype.defaults,{name:" ",date:new IDate("now"),currency:new ICurrency("UAH"),contractId:"",type:"",fio:"",birthDate:null,createdAt:null,balance:null,lastMonthPayment:null,isActualInfoLoaded:true,closeAction:false}),defaultStatementsPeriod:new window.IPeriod(new window.IDate("01.01.2005")),showRestrictionStatus:false,refreshBalance:function(e){var t=this,n=new Accounts.Collections.PensionAccount;n.fetch(_.extend({},e,{reset:true,success:function(){var i=n.get(t.id);if(i){i.set({date:new IDate("now")});t.set(i.toJSON())}else{t.set({date:new IDate("now")})}if(typeof e.success==="function"){e.success(t)}}}))},getDetails:function(){return this.get("fio")+",    "+this.get("contractId")+"  I 33114991-"+this.get("number")},isCard:function(){return false},isActive:function(){return this.get("type")=="s"},isCanPrintExcerption:function(){return["z","r","p"].indexOf(this.get("type"))>-1},hasActions:function(){return true},hasRefillAction:function(){return this.isActive()}});Accounts.Models.LegalPersonAccount=Accounts.Models.Account.extend({defaults:{}});Accounts.Models.AccountsOtherBanks=Accounts.Models.Account.extend({defaults:{isHiddenForStatements:false,rate:0,isHiddenForPayments:false,name:"",account:"",isAccountOfOtherBank:true,isDefault:false,number:null,id:null},showRestrictionStatus:false,isDefault:function(){return!!this.get("isDefault")},refreshBalance:function(e){if(typeof e.beforeSend==="function"){e.beforeSend()}if(typeof e.error==="function"){e.error(this)}if(typeof e.complete==="function"){e.complete()}}});Accounts.Models.PartPaymentCard=Accounts.Models.Account.extend({defaults:{contractNumber:"",terminal:null,pointName:"",pointAddress:"",status:"",statusDescription:"",contractAmount:null,contractEndDate:null,paymentParts:[],monthlyCommission:null,limit:null,monthlyPayment:null,rest:null,isPartPaymentCard:true},idAttribute:"contractNumber",showRestrictionStatus:false,refreshBalance:function(e){if(e.success&&_.isFunction(e.success)){e.success()}if(e.complete&&_.isFunction(e.complete)){e.complete()}return true},isOpen:function(){return this.get("status")!=3},isCreditCard:function(){return false},getStatementsByPeriod:function(e,t){var n=e.get("start").getMilliseconds(),i=e.get("end").getMilliseconds(),r=[],s;if(this.get("paymentParts").length){_.each(this.get("paymentParts").models,function(a,o){if(a.get("date")instanceof window.IDate){s=a.get("date").getMilliseconds();if(s<i&&s>n){r.push(a)}}else if(e.get("end").toString()==t.get("end").toString()){r.push(a)}})}return new Statements.Collections.PartPaymentStatement(r)}});Accounts.Models.PenaltyAccount=Accounts.Models.Account.extend({isCard:function(){return false},showRestrictionStatus:false});Accounts.Collections.Account=Accounts.Collections.Base.extend({model:Accounts.Models.Account,initialize:function(){this.reset()},comparator:function(e){return!e.isAccountOfOtherBank()?-1*this._getMillisecondsForSort(e.attributes.date):1},merge:function(e){if(!(e instanceof Array)){e=[e]}var t=0;var n=0;var i=e.length;var r=0;for(t=0;t<i;t++){r=e[t].models.length;for(n=0;n<r;n++){if(!this.get(e[t].models[n].id)){this.add(e[t].models[n])}}}return this}});Accounts.Collections.Bonus=Accounts.Collections.Base.extend({model:Accounts.Models.Bonus,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeBonuses:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isBonus()){if(t.get(e)){var i=e,r=i.get("name"),s=t.get(e).attributes;s.limit=null;t.get(e).attributes=_.extend(i.attributes,s,{isHiddenForPayments:e.isHiddenForPayments(),isHiddenForStatements:e.isHiddenForStatements()});if(r){t.get(e).attributes.name=r;i.attributes.name=r}}else{t.add(new Accounts.Models.Bonus(e.toJSON()).set({limit:null},{silent:true}))}}});return this}});Accounts.Collections.Card=Accounts.Collections.Base.extend({model:Accounts.Models.Card,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},operationsList:{internetpayments:"InternetPayments",percentsactivation:"PercentsActivation",percentsactivationcreditcard:"PercentsActivationCreditCard",smsinfo:"SmsInfo"},loadOperationStatus:function(e,t){var n=this.operationsList[e.toLowerCase()];var i=this;var r=t.success;var s=t.error;if(this["is"+n+"Loaded"]){if(typeof t.success==="function"){t.success(this)}return}var a=_.extend(t,{success:function(e,t){i["is"+n+"Loaded"]=true;if(typeof r==="function"){r(i,t)}},error:Backbone.wrapError(s||null,this,t)});Backbone.sync("load"+n+"Status",this,a)},excludeCards:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isCard()){if(e.isMultiCurrency()){if(t.get(e)){var i=e;
    t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.MulticurrencyCard(e.toJSON()))}}else if(e.isFuel()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Fuel(e.toJSON()))}}else if(e.isCreditCard()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.CreditCard(e.toJSON()))}}else if(e.isMetro()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Metro(e.toJSON()))}}else{if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Card(e.toJSON()))}}}});return this}});Accounts.Collections.LegalPersonAccount=Accounts.Collections.Base.extend({model:Accounts.Models.LegalPersonAccount,fetch:function(e){var t=this;var n=e.success;var i=e.complete;var r=e.error;var s=false;e.success=null;e.error=function(){s=true};e.complete=function(){if(s){if(typeof r==="function"){r(t)}if(typeof i==="function"){i(t)}}else if(t.length){t._getAccountsBalances(function(){if(typeof n==="function"){n(t)}if(typeof i==="function"){i(t)}})}else{if(typeof n==="function"){n(t)}if(typeof i==="function"){i(t)}}};this.getAccounts(e)},_getAccountsBalances:function(e){var t=0;var n=this;var i=0;for(t=0;t<this.length;t++){this.models[t].refreshBalance({complete:function(){i++}})}var r=setInterval(function(){if(i>=n.length){clearInterval(r);if(typeof e==="function"){e()}}},200)}});Accounts.Collections.CardActionAccount=Accounts.Collections.Card.extend({excludeActionAccounts:function(e){var t=this,n={},i={};_.each(e.models,function(e,r){if(typeof e!=="function"&&e&&e.hasActions()){if(e.isBonus()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.Bonus(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isPensionAccount()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.PensionAccount(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isPensionCard()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.PensionCard(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isMetal()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.Metal(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isLiqPay()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.LiqPay(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isFuel()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.Fuel(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isVirtualAccount()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.VirtualAccount(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isVirtualCard()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.VirtualCard(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isCreditAccount()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.CreditAccount(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isCreditCard()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.CreditCard(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isMetro()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.Metro(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isAccountOfOtherBank()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.AccountsOtherBanks(e.toJSON());if(n.hasActions())t.add(n)}}else if(e.isCard()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{if(e.isMultiCurrency()){t.add(new Accounts.Models.MulticurrencyCard(e.toJSON()))}else{n=new Accounts.Models.Card(e.toJSON());if(n.hasActions())t.add(n)}}}else{if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{n=new Accounts.Models.Account(e.toJSON());if(n.hasActions())t.add(n)}}}});return this}});Accounts.Collections.CreditCard=Accounts.Collections.Base.extend({model:Accounts.Models.CreditCard,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeCreditCards:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isCreditCard()&&e.isCard()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.CreditCard(e.toJSON()))}}});return this}});Accounts.Collections.CreditAccount=Accounts.Collections.Base.extend({model:Accounts.Models.CreditAccount,options:{includesPenalty:false},ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeCreditAccounts:function(e){var t,n;_.each(e.models,function(e){if(typeof e!=="function"&&e&&(e.isCreditAccount()||this.options.includesPenalty&&e.isPenaltyAccount())){if(this.get(e)){n=e;this.get(e).attributes=_.extend(n.attributes,this.get(e).attributes)}else{t=e.isPenaltyAccount()?new Accounts.Models.PenaltyAccount(e.toJSON()):new Accounts.Models.CreditAccount(e.toJSON());this.add(t)}}},this);return this}});Accounts.Collections.CreditInfo=Accounts.Collections.Base.extend({model:Accounts.Models.CreditInfo,ititialize:function(){this.reset()}});Accounts.Collections.DepositAll=Accounts.Collections.Base.extend({model:Accounts.Models.DepositAll,initialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeDeposits:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&(e.isDeposit()||e.isPrivatDeposit())){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.DepositAll(e.toJSON()))}}});return this}});Accounts.Collections.Deposit=Accounts.Collections.Base.extend({model:Accounts.Models.Deposit,fetch:function(e){var t=iStorage.get("Accounts.Collections.DepositAll");var n=iStorage.get("Accounts.Collections.Kopilka");var i=_.clone(e||{});var r=i.success;var s=i.complete;var a=this;i.success=function(e){if(!t.isFetched||!n.isFetched){return}var i=t.get(n.first());if(i){i.set({isKopilka:true})}a.reset(t.filter(function(e){return!e.isKopilka()}));if(typeof s==="function"){s(a)}if(typeof r==="function"){r(a)}};i.complete=null;i.error=function(){if(typeof s==="function"){s(a)}};t.fetch(i);n.fetch(_.extend({},i,{beforeSend:null}))}});Accounts.Collections.Kopilka=Accounts.Collections.Base.extend({model:Accounts.Models.Kopilka,fetch:Accounts.Collections.Base.prototype.fetch||Backbone.Collection.prototype.fetch});Accounts.Collections.FinanceAccount=Accounts.Collections.Base.extend({excludeFinanceAccounts:function(e){var t=this;_.each(e.models,function(e){if(typeof e!=="function"&&e&&e.isFinanceAccount()){var n,i,r,s,a,o,l;if(e.isMultiCurrency()&&!e.isCard()){if(t.get(e)){n=e;t.get(e).attributes=_.extend(n.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Account(e.toJSON()))}}else if(e.isCreditCard()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.CreditCard(e.toJSON()))}}else if(e.isPensionCard()){if(t.get(e)){i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.PensionCard(e.toJSON()))}}else if(e.isFuel()){if(t.get(e)){r=e;t.get(e).attributes=_.extend(r.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Fuel(e.toJSON()))}}else if(e.isVirtualCard()){if(t.get(e)){a=e;t.get(e).attributes=_.extend(a.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.VirtualCard(e.toJSON()))}}else if(e.isVirtualAccount()){if(t.get(e)){s=e;t.get(e).attributes=_.extend(s.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.VirtualAccount(e.toJSON()))}}else if(e.isMetro()){if(t.get(e)){o=e;t.get(e).attributes=_.extend(o.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Metro(e.toJSON()))}}else if(e.isCard()){if(t.get(e)){l=e;t.get(e).attributes=_.extend(l.attributes,t.get(e).attributes)}else{if(e.isMultiCurrency()){t.add(new Accounts.Models.MulticurrencyCard(e.toJSON()))}else{t.add(new Accounts.Models.Card(e.toJSON()))}}}else{if(t.get(e)){n=e;t.get(e).attributes=_.extend(n.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Account(e.toJSON()))}}}});return this}});Accounts.Collections.Fuel=Accounts.Collections.Base.extend({model:Accounts.Models.Fuel,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeFuel:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isFuel()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Fuel(e.toJSON()))}}});return this}});Accounts.Collections.LiqPay=Accounts.Collections.Base.extend({model:Accounts.Models.LiqPay,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)}});Accounts.Collections.Metal=Accounts.Collections.Base.extend({model:Accounts.Models.Metal,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeMetals:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isMetal()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Metal(e.toJSON()))}}});return this}});Accounts.Collections.Metro=Accounts.Collections.Base.extend({model:Accounts.Models.Metro,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeMetro:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isMetro()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.Metro(e.toJSON()))}}});return this}});Accounts.Collections.PensionCard=Accounts.Collections.Base.extend({model:Accounts.Models.PensionCard,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludePensionCards:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isPensionCard()){if(t.get(e)){var i=e;var r=i.get("name");t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes);if(r){t.get(e).attributes.name=r;i.attributes.name=r}}else{t.add(new Accounts.Models.PensionCard(e.toJSON()))}}});return this}});Accounts.Collections.PensionAccount=Accounts.Collections.Base.extend({model:Accounts.Models.PensionAccount,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludePensionAccounts:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isPensionAccount()){if(t.get(e)){var i=e;var r=i.get("name");t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes);if(r){t.get(e).attributes.name=r;i.attributes.name=r}}else{t.add(new Accounts.Models.PensionAccount(e.toJSON()))}}});return this}});Accounts.Collections.VirtualAccount=Accounts.Collections.Base.extend({model:Accounts.Models.VirtualAccount,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeVirtualAccounts:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isVirtualAccount()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.VirtualAccount(e.toJSON()))}}});return this},isCard:function(){return false}});Accounts.Collections.VirtualCard=Accounts.Collections.Base.extend({model:Accounts.Models.VirtualCard,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},excludeVirtualCards:function(e){var t=this;_.each(e.models,function(e,n){if(typeof e!=="function"&&e&&e.isVirtualCard()){if(t.get(e)){var i=e;t.get(e).attributes=_.extend(i.attributes,t.get(e).attributes)}else{t.add(new Accounts.Models.VirtualCard(e.toJSON()))}}});return this}});Accounts.Collections.AccountsOtherBanks=Accounts.Collections.Base.extend({model:Accounts.Models.AccountsOtherBanks,fetch:function(){return this._fetchFrom({storage:"Accounts.Collections.FinanceAccount",rule:function(e){return e.isAccountOfOtherBank()}}).apply(this,arguments)},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)}});Accounts.Collections.PartPaymentCard=Accounts.Collections.Base.extend({model:Accounts.Models.PartPaymentCard,creditLimit:new window.INumber,ititialize:function(){this.reset()},comparator:function(e){return-1*this._getMillisecondsForSort(e.attributes.date)},getContractsAmount:function(){var e=0;if(this.length){_.each(this.models,function(t,n){e+=t.get("balance").toFloat()});return new window.INumber(e)}}});Accounts.Models.Account.prototype.parsers=_.extend({},Accounts.Models.Account.prototype.parsers||{},{read:function(e){var t={number:new IAccount($(e).find("account").attr("card")),name:$(e).find("account").attr("name"),currency:new ICurrency($(e).find("account").attr("ccy")),type:"card",date:new IDate($(e).find("info").text()),rest:new INumber($(e).find("rest").text()),balance:new INumber($(e).find("holded").text()),limit:new INumber($(e).find("finlimit").text()),cardTypeName:$(e).find("cardtypename").text()};switch($(e).find("dynamic").text()){case"D":t.lastMovingSign="-";break;case"I":t.lastMovingSign="+";break;default:t.lastMovingSign=false;break}t.state=$(e).find("account").attr("cardstate");t.cardType=$(e).find("account").attr("cardType")||$(e).find("account").attr("cardtype");t.src=$(e).find("account").attr("src");t.account=new IAccount($(e).find("account").attr("acc"));var n=$(e).find("account").attr("maincard");t.parentCardNumber=new IAccount(n&&!t.number.is(n)?n:null);t.isMultiCurrency=$(e).find("account").attr("isMulticurrency")=="true";t.isSalaryCard=$(e).find("account").attr("isSalaryCard")=="true";t.isHiddenForStatements=$(e).find("account").attr("isHiddenForStatements")=="true";t.isHiddenForPayments=$(e).find("account").attr("isHiddenForPays")=="true"||!$(e).find("account").attr("isHiddenForPays")&&$(e).find("account").attr("accPayAvail")&&$(e).find("account").attr("accPayAvail")!="true";t.isPayAvailiable=$(e).find("account").attr("accPayAvail")=="true";t.isPaymentReceivingAvailable=$(e).find("account").attr("accRecepientAvail")!="false";return t},saveCardName:function(e){var t=$(e).find("name").text();if(t){return{name:t}}return"false"},refreshBalance:function(e){var t={};var n=$("answ",e).attr("ErrCode");if(!n||n=="0"){var i=$(e).find("BaseAccount");if(i[0]){t={isActualInfoLoaded:true,date:new IDate};var r=$(e).find("BonusPlus");if(r[0]){t.bonusPlus=new Accounts.Models.Bonus({currency:new ICurrency(r.attr("Currency")),balance:new INumber(r.attr("BonusSumm")),isActualInfoLoaded:true,date:new IDate})}if(i.attr("Remain")){t.rest=new INumber(i.attr("Remain"))}if(i.attr("Avail")){t.balance=new INumber(i.attr("Avail"))}var s=this.getChildren();if($(e).find("Account")&&s&&s.length){$("Account",e).each(function(e,t){var n=new IAccount($(this).attr("AccNumber"));if(n.toString()){$.each(s,function(e,i){if(i&&i.isMultiCurrency()&&i.get("number").is(n)){var r={number:n,date:new IDate,isActualInfoLoaded:true};if($(t).attr("Remain")){r.rest=new INumber($(t).attr("Remain"))}if($(t).attr("Avail")){r.balance=new INumber($(t).attr("Avail"))}i.set(r);return false}})}})}}}return t},getCreditCardPayments:function(e){var t={},n,i=$(e),r=i.find("statusRequest");if(r.length&&r.text()==="e"){t.fullPaymentAmount=new INumber(this.get("rest"))}else{n=$.trim(i.find("balDuty").text());if(n){t.minPaymentAmount=new INumber(n).getInverted()}n=$.trim(i.find("limit").text());if(n&&+n!=-1){t.limit=new INumber(n)}n=$.trim(i.find("balanceAll").text());if(n&&+n){t.fullPaymentAmount=new INumber(n).getInverted()}this.isCreditCardPaymentsLoaded=true}return t},getGracePeriodAmount:function(e){if(e&&e.status&&e.status=="success"&&e.sumForSavePriv!==undefined){this.isCreditCardGracePeriodLoaded=true;return{graceAmount:new window.INumber(+e.sumForSavePriv)}}},lock:function(e){if($("needOTP",e).text()=="true"){return $(e).find("otpSignature").text()}else if($("success",e).text()=="true"){return"true"}else{return"false"}},unlock:function(e){if($("needOTP",e).text()=="true"){return $(e).find("otpSignature").text()}else if($("success",e).text()=="true"){return"true"}else{return"false"}},dontLock:function(e){if($("needOTP",e).text()=="true"){return $(e).find("otpSignature").text()}else if($("success",e).text()=="true"){return"true"}else{return"false"}},pinUnlock:function(e){if($("needOTP",e).text()=="true"){return $(e).find("otpSignature").text()}else if($("success",e).text()=="true"){return"true"}else{return"false"}},hideForStatements:function(e){var t={};if(($("REZULT",e).attr("MESS")||"").toUpperCase()=="SUCCESS"){t.isHiddenForStatements=true}return t},showForStatements:function(e){var t={};if(($("REZULT",e).attr("MESS")||"").toUpperCase()=="SUCCESS"){t.isHiddenForStatements=false}return t},hideForPayments:function(e){var t={};if(($("REZULT",e).attr("MESS")||"").toUpperCase()=="SUCCESS"){t.isHiddenForPayments=true}return t},showForPayments:function(e){var t={};if(($("REZULT",e).attr("MESS")||"").toUpperCase()=="SUCCESS"){t.isHiddenForPayments=false}return t},openForInternet:function(){return{}},closeForInternet:function(){return{}},changeInternetLimit:function(){return{}},gerInternetLastRequest:function(e){var t={internetPayments:this.get("internetPayments")};t.internetPayments.wasSent=$(e).find("state").text()=="inprocessing";return t},setOperationLimit:function(e){if($("needOTP",e).text()=="true"){return $(e).find("otpSignature").text()}else if($("success",e).text()=="true"){return"true"}else{return"false"}},activatePercents:function(e){return e.status&&e.status==="success"},getCVV2:function(e){if(e.status!="ok"){return new this.ParseError}return{}},confirmCVV2:function(e){var t={},n;if(!e||!e.status||e.status!="ok"){if(e&&e.errorMessage){switch(e.errorMessage){case"Invalid card number":n="  ";break;case"Invalid otp":n="  ";break;case"Send otp fail":n="   ";break;case"Unknown oper":n="   ";break;case"Parse object error":n="   ";break;case"Not found oper or value":n="   ";break}t={error:true,message:n}}return t}},reissue:function(){return{}},returnCardFromOtherBankAtm:function(e){if($("needOTP",e).text()=="true"){return $(e).find("otpSignature").text()}else if($("success",e).text()=="true"){return"true"}else{return"false"}},loadInternetPaymentsStatus:function(e){var t={internetPayments:_.extend({},this.get("internetPayments"))};var n=new INumber($("limit",e).text());if(n["float"]>0){t.internetPayments.limit=n}t.internetPayments.isActive=$("isConnected",e).text()=="true";t.internetPayments.isAvailable=$("isAvailable",e).text()=="true";return t},loadPercentsActivationStatus:function(e){return{percentsActivation:{isActive:e.status_code&&e.status_code=="p",isAvailable:e.status_code&&e.status_code=="r"}}},loadSmsInfoStatus:function(e){var t={smsInfo:_.extend({},this.get("smsInfo"))};t.smsInfo.isActive=$("isConnected",e).text()=="true";t.smsInfo.isAvailable=$("isAvailable",e).text()=="true";return t},getCloseActionStatus:function(e){return{closeAction:new Accounts.Models.AccountAction({isAvailable:true})}},regularPayment:function(e){this.attributes.calendarURL="";var t=$(e),n=t.find("state").text(),i=$.trim($(e).find("id").attr("regpid"))||null;return n==="success"||i?i||t.find("calendar").text():false},getRestrictionStatus:function(e){var t={};if(e.maxValue!==undefined&&[1,3,.5,5,.02,.01,.03,.06,.07,.8,.85,.9,.91].indexOf(e.maxValue)>=0){t={restrictionLimit:e.maxValue,restrictionLimitText:this.parsers._getRestrictionLimitText(e.maxValue)}}return t},_getRestrictionLimitText:function(e){var t="";e=_.isNumber(e)?e:null;switch(e){case 3:t='    .     .         . <a href="http://pb.ua/4561" target="_blank">http://pb.ua/4561</a>';break;case 0:case.5:case 5:case.02:t='   .        . <a href="http://pb.ua/4561" target="_blank">http://pb.ua/4561</a>';break;case.01:t='     - .    . <a href="http://pb.ua/4559" target="_blank">http://pb.ua/4559</a>';break;case.03:t='          .    .            (056) 735 33 04. <a href="http://pb.ua/5275" target="_blank">http://pb.ua/5275</a>';break;case.06:t='            . ,        .         . <a href="http://pb.ua/5276" target="_blank">http://pb.ua/5276</a>';break;case.8:t='       - .    ,    . <a href="http://pb.ua/4560" target="_blank">http://pb.ua/4560</a>';break;case.85:t='    -  .    ,    25 . <a href="http://pb.ua/4559" target="_blank">http://pb.ua/4559</a>';break;case.9:case.91:t='    .     . <a href="http://pb.ua/4561" target="_blank">http://pb.ua/4561</a>';break;case.07:t='<a href="http://privatbank.ua/business/universalnyje-reshenija/karta-dlia-viplat-rk/faq-1071/" target="_blank">  </a>';break;case 1:t='          .     . <a href="http://pb.ua/4559" target="_blank">pb.ua/4559</a>';break}return t}});Accounts.Collections.Base.prototype.parsers=_.extend({},Accounts.Collections.Base.prototype.parsers,{loadCreditsDebt:function(e){var t,n;for(t=e.length-1;t>=0;t--){n=this.get(e[t].account);if(n){}}return true}});Accounts.Collections.Account.prototype.parsers=_.extend({},Accounts.Collections.Account.prototype.parsers||{},{read:function(e){var t=this;var n=[];var i;var r={};$("list row",e).each(function(e,i){var s=new Accounts.Models.Account(t.model.prototype.parsers.read(i));if(!r[s.id]){r[s.id]=true;n.push(s)}else{_error("Accounts.Collections.Account : Can't add the same model to a collection twice",true)}});i=new Accounts.Collections.AccountsOtherBanks($("foreignCards",e)[0],{parse:true});n=_.union(n,i.models);return n}});Accounts.Models.Card.prototype.parsers=_.extend({},Accounts.Models.Card.prototype.parsers||{},{parseSignature:function(e){return $(e).find("answ").attr("Ref")||""}});Accounts.Models.Bonus.prototype.parsers=_.extend({},Accounts.Models.Bonus.prototype.parsers||{},{refreshBalance:function(e){var t={date:new IDate};if($(e).find("BonusPlus").attr("BonusSumm")){t.balance=new INumber($(e).find("BonusPlus").attr("BonusSumm"))}if($(e).find("BonusPlus").attr("BonusSumm")){t.limit=new INumber($(e).find("BaseAccount").attr("BaseAccount"))}return t},read:function(e){var t={name:" ",number:new IAccount($(e).attr("pan")),date:new IDate,currency:new ICurrency("UAH"),account:new IAccount($(e).attr("pan"))};return t}});Accounts.Models.VirtualAccount.prototype.parsers=_.extend({},Accounts.Models.VirtualAccount.prototype.parsers||{},{refreshBalance:function(e){var t={},n=this;var i=$("answ",e).attr("ErrCode");if(!i||i=="0"){var r=$(e).find("BaseAccount");if(r[0]){t={isActualInfoLoaded:true,date:new IDate};var s=$(e).find("BonusPlus");if(s[0]){t.bonusPlus=new Accounts.Models.Bonus({currency:new ICurrency(s.attr("Currency")),balance:new INumber(s.attr("BonusSumm")),isActualInfoLoaded:true,date:new IDate})}if(r.attr("Remain")){t.rest=new INumber(r.attr("Remain"))}if(r.attr("Avail")){t.balance=new INumber(r.attr("Avail"))}var a=this.getChildren();if($(e).find("Account")&&a&&a.length){$("Account",e).each(function(e,t){var n=new IAccount($(this).attr("AccNumber"));if(n.toString()){$.each(a,function(e,i){if(i&&i.isMultiCurrency()&&i.get("number").is(n)){var r={number:n,date:new IDate,isActualInfoLoaded:true};if($(t).attr("Remain")){r.rest=new INumber($(t).attr("Remain"))}if($(t).attr("Avail")){r.balance=new INumber($(t).attr("Avail"))}i.set(r);return false}})}})}}}return t}});Accounts.Models.VirtualCard.prototype.parsers=_.extend({},Accounts.Models.VirtualCard.prototype.parsers||{},{refreshBalance:function(e){var t={},n=this;var i=$("answ",e).attr("ErrCode");if(!i||i=="0"){var r=$(e).find("BaseAccount");if(r[0]){t={isActualInfoLoaded:true,date:new IDate};var s=$(e).find("BonusPlus");if(s[0]){t.bonusPlus=new Accounts.Models.Bonus({currency:new ICurrency(s.attr("Currency")),balance:new INumber(s.attr("BonusSumm")),isActualInfoLoaded:true,date:new IDate})}if(r.attr("Remain")){t.rest=new INumber(r.attr("Remain"))}if(r.attr("Avail")){t.balance=new INumber(r.attr("Avail"))}var a=this.getChildren();if($(e).find("Account")&&a&&a.length){$("Account",e).each(function(e,t){var n=new IAccount($(this).attr("AccNumber"));if(n.toString()){$.each(a,function(e,i){if(i&&i.isMultiCurrency()&&i.get("number").is(n.toString())){var r={number:n,date:new IDate,isActualInfoLoaded:true};if($(t).attr("Remain")){r.rest=new INumber($(t).attr("Remain"))}if($(t).attr("Avail")){r.balance=new INumber($(t).attr("Avail"))}i.set(r);return false}})}})}}}return t}});Accounts.Models.CreditAccount.prototype.parsers=_.extend({},Accounts.Models.CreditAccount.prototype.parsers||{},{read:function(e){var t={number:new IAccount($(e).find("col[name='bdm_3_acc']").text()),currency:new ICurrency($(e).find("col[name='edl_ccy']").text()),name:this.getCreditName($(e).find("col[name='btl_tlcode']").text()),date:new IDate,rest:new INumber($(e).find("col[name='okv_telo']").text()),monthPayment:new INumber($(e).find("col[name='month_paym']").text()),percent:$(e).find("col[name='okv_nach']").text(),limit:new INumber($(e).find("col[name='bdl_bal_s']").text()),startDate:new IDate($(e).find("col[name='bdl_dat_s']").text()),endDate:new IDate($(e).find("col[name='bdl_dat_p']").text()),account:new IAccount($(e).find("col[name='bdm_3_acc']").text())};return t},getCreditName:function(e){var t={"A~":" - ",A0:"  30 ",A1:"   - ",A2:"  ",A3:" ()",A4:"  ()",A5:"  ( )",A6:"  ( )",A7:"   ()",A8:"   (/)",A9:" /  ( )",AA:" (   )",AB:".  /",AC:" /  () -  1",AD:" /    ()",AE:" (/   )",AF:"Trade-in (  )",AG:".3 .  - ",AH:" / () - ",AI:" ( )",AK:"(  )",AL:" ()",AM:"  ( )",AN:"    ()",AO:" /   ",AP:" ()",AQ:"  ()",AR:" ( )",AS:"  ",AT:"  /  ()",AU:" ",AV:"   ()",AW:"",AX:" ()",AY:" ()",AZ:"/   . ",BA:"  ( )",BL:" ",BR:" ",CC:"CASH - credit",CD:" ",CR:" ()",DA:"  ()",DP:" ",DR:" ()",F0:"   ",F1:"  ()",F2:"-  ()",F3:"  ()",F4:" (   1500)",F5:" (   1501  3000)",F6:" (   3001  4500)",F7:" (   4501  6000)",F8:" (   6001  7500 )",F9:"10*10*10 ()",FA:"0%  ()",FB:"0%  ",FC:" - ()",FD:"- ",FE:" ( )",FF:" ()",FG:" ()",FH:"  ()",FI:"- ()",FJ:"- ()",FK:" ",FL:"  10  ( 1%)",FM:"  6  ( 1%)",FN:"  25  ( 1%)",FO:"   0.5 %",FP:"  ()",FQ:" ",FR:" 0% ()",FS:"10*10*10 ()",FT:" ()",FU:" ()",FV:"   ()",FW:"   ()",FX:" /10-19.99/ ()",FY:" /20-39.99/ ()",FZ:" /40/ ()",G0:" /40/ ()",G1:"   - ",G2:"   (  )",G3:"  3 .",G4:"   ( )",G5:"   (  )",G7:" () -  ",GA:"   (   )",GB:" ",GC:" ",GD:" (  )",GE:" (   )",GF:"   ( )",GG:"  ( )",GI:"  ",GK:"   ",GL:"   ()",GM:" - ",GN:" ",GO:"  ",GP:" ( )",GR:"  ",GS:" (   )",GT:"  ()",GU:"  ()",GV:"  (  )",GW:" ",GX:"  ()",GY:"  ( . )",KE:"R  ()",KF:"R  ()",KL:"  ()",KP:"  ()",KR:" ",KS:"C  ()",KT:"  ( . 889)",LK:" ",LL:"  ()",MA:"-",ME:"-",MK:" ()",MM:"",MO:"  ",MR:"  ",NL:"    ()",NN:"   ",NP:"    ()",OF:"   ..",OO:"   ",OT:"   ..",PC:"POS-CREDIT",PK:"  ",PL:"  ()",PP:"  ()",PS:"   . ",PZ:"  (  )",R0:".  ",R1:"COMFY ()",R2:"COMFY ()",R3:"COMFY,  (10*10*10)",R4:"COMFY ( )",R5:"COMFY( )",R6:"COMFY ( )",R7:"COMFY ()",R8:" ()",R9:" ()",RA:"  ",RB:"  (  . .)",RC:" (. .)",RD:" ( )",RE:" ()",RF:" ()",RG:" ",RH:"  ()",RI:"  ",RJ:" ( 0)",RK:"(  )",RL:"  ",RM:" (   )",RO:" ",RP:" ",RQ:"  ",RR:"  ",RS:" ",RT:"  0*0*0*10",RU:" ",RV:" ",RW:"  10*10*10",RX:" ",RY:" ",RZ:"  0%  ( )",SA:"  ",SE:" (  )",SH:" ",SK:" ",SL:" ()",SN:" ",SO:"   (   .)",SP:" ( )",SR:" ",ST:"C  ",SU:" WT",SZ:"  ",TP:"  ( )"};
    return t[(e||"").toUpperCase()]||""},refill:function(e){return!!$(e).find("operation").length}});Accounts.Collections.CreditAccount.prototype.parsers=_.extend({},Accounts.Collections.CreditAccount.prototype.parsers||{},{getCredits:function(e){var t=[],n={},i=this;$("row",e).each(function(e,r){if($(this).find("col[name='bdm_3_acc']").text()){var s=new Accounts.Models.CreditAccount(i.model.prototype.parsers.read(r));if(!n[s.id]){n[s.id]=true;t.push(s)}else{_error("Accounts.Collections.CreditAccount : Can't add the same model to a collection twice",true)}}});return t}});Accounts.Models.CreditCard.prototype.parsers=_.extend({},Accounts.Models.CreditCard.prototype.parsers||{},{refill:function(e){return!!$(e).find("operation").length}});Accounts.Models.CreditInfo.prototype.parsers=_.extend({},Accounts.Models.CreditInfo.prototype.parsers||{},{_addMoneyValue:function(e,t){return new window.INumber(new window.INumber(e).toFloat()+(t===undefined?0:t.toFloat()))},_sameMoneyValuesAttributes:{rest:"rest",restOverdue:"restOverdue",monthPayment:"monthPay",debtsByPercent:"debtsByPercent",debtsByOverduePercent:"debtsByOverduePercent",debtsByComission:"debtsByComission",debtsByOverdueComission:"debtsByOverdueComission",debtsByFine:"debtsByFine"},read:function(e){var t=$(e),n=this,i=new window.IAccount(t.attr("tranAcc")),r=t.parent().find("credit[tranAcc="+i+"]"),s={};r.each(function(e,t){var i=$(t),r;for(r in n.parsers._sameMoneyValuesAttributes){s[r]=n.parsers._addMoneyValue(i.attr(n.parsers._sameMoneyValuesAttributes[r]),s[r])}});return{name:t.attr("name"),number:i,creditId:t.attr("id"),bankId:t.attr("bank"),state:t.attr("state"),creditNumber:t.attr("baseNum"),creditType:t.attr("type"),contractNumber:t.attr("number"),startDate:new window.IDate(t.attr("dateStart")),currency:new window.ICurrency(t.attr("currency")),lastPay:new window.INumber(t.attr("lastPay")),lastPayDate:new window.IDate(t.attr("dateOfLastPay")),isContractDownloadAvailable:t.find("isCopiesArchAvailable").text()==="true",rest:s.rest,restOverdue:s.restOverdue,monthPayment:s.monthPayment,debtsByPercent:s.debtsByPercent,debtsByOverduePercent:s.debtsByOverduePercent,debtsByComission:s.debtsByComission,debtsByOverdueComission:s.debtsByOverdueComission,debtsByFine:s.debtsByFine}}});Accounts.Collections.CreditInfo.prototype.parsers=_.extend({},Accounts.Collections.CreditInfo.prototype.parsers||{},{read:function(e){var t=[],n={},i=this;$("credits credit",e).each(function(){if($(this).attr("tranAcc")){var e=new Accounts.Models.CreditInfo(this,{parse:true});if(!n[e.id]){n[e.id]=true;t.push(e)}else{_error("Accounts.Collections.CreditInfo : Can't add the same model to a collection twice",true)}}});return t}});Accounts.Models.LiqPay.prototype.parsers=_.extend({},Accounts.Models.LiqPay.prototype.parsers||{},{read:function(e){var t=new ICurrency($(e).find("cur").text());return{number:"",account:$(e).find("num").text(),currency:t,balance:new INumber($(e).find("amt").text()),date:new IDate,rate:new INumber($(e).find("rate").text()),isHiddenForPayments:$(e).find("can_pay").text()==1}}});Accounts.Models.Metal.prototype.parsers=_.extend({},Accounts.Models.Metal.prototype.parsers||{},{});Accounts.Models.PensionCard.prototype.parsers=_.extend({},Accounts.Models.PensionCard.prototype.parsers||{},{read:function(e){return{name:" ",number:new IAccount($(e).attr("pan")),date:new IDate,currency:new ICurrency("UAH"),account:new IAccount($(e).attr("acc"))}}});Accounts.Models.PensionAccount.prototype.parsers=_.extend({},Accounts.Models.PensionAccount.prototype.parsers||{},{read:function(e){var t=new IAccount(($(e).attr("IPR")||"").replace(/[^0-9]/g,""));return{number:t,account:t,contractId:$(e).attr("CNUMBER"),type:($(e).attr("CTYPE")||"").toLowerCase(),fio:$(e).attr("FIO"),birthDate:new IDate($(e).attr("BIRTH_DATE")),createdAt:new IDate($(e).attr("DATE_BEGIN")),date:new IDate("now"),balance:new INumber($(e).attr("REP_BAL")),lastMonthPayment:new INumber($(e).attr("REP_AMT_VZN")),isActualInfoLoaded:true}},refill:function(e){return!!$(e).find("operation").length}});Accounts.Models.LegalPersonAccount.prototype.parsers=_.extend({},Accounts.Models.LegalPersonAccount.prototype.parsers||{},{read:function(e){return{userVisa:e.USR_VIZAS||"",needVisa:e.NEED_VIZAS||"",number:new window.IAccount(e.ACC),account:new window.IAccount(e.ACC),name:e.CUS_ALIAS||"",currency:new window.ICurrency(e.CCY),bankName:e.BNK_NAME||"",bankState:e.BNK_STATE||"",accountType:e.ACC_TYPE||"",customerType:e.CUS_TYPE||""}},refreshBalance:function(e){return{balance:new window.INumber(e.balance||0),date:new window.IDate(e.date||"now")}}});Accounts.Collections.Card.prototype.parsers=_.extend({},Accounts.Collections.Card.prototype.parsers||{},{loadInternetPaymentsStatus:function(e){var t=this;$("account",e).each(function(e,n){var i=new IAccount($("number",n).text());var r=t.get(i.toString());if(r&&r.hasInternetPaymentsAction()){r.set(r.parsers.loadInternetPaymentsStatus.call(r,n))}});return t},loadSmsInfoStatus:function(e){var t=this;$("account",e).each(function(e,n){var i=new IAccount($("number",n).text());var r=t.get(i.toString());if(r&&r.hasSmsInfoAction()){r.set(r.parsers.loadSmsInfoStatus.call(r,n))}});return t}});Accounts.Collections.Bonus.prototype.parsers=_.extend({},Accounts.Collections.Bonus.prototype.parsers||{},{getBonusCards:function(e){var t=[],n={},i=this;$("client",e).each(function(e,r){if($(r).attr("acc")&&$(r).attr("pan")){var s=new Accounts.Models.Bonus(i.model.prototype.parsers.read(r));if(!n[s.id]){n[s.id]=true;t.push(s)}else{_error("Accounts.Collections.Bonus : Can't add the same model to a collection twice",true)}}});return t}});Accounts.Collections.PensionCard.prototype.parsers=_.extend({},Accounts.Collections.PensionCard.prototype.parsers||{},{getPensionCards:function(e){var t=[],n={},i=this,r={};$("card",e).each(function(s,a){if($(a).attr("acc")&&$(a).attr("pan")){r=new Accounts.Models.PensionCard(i.model.prototype.parsers.read(a))}else if($(this).find("account").attr("num")){r=new Accounts.Models.PensionCard({number:new IAccount($(a).find("account").attr("num")),currency:new ICurrency($(e).find("ccy").attr("code")),date:new IDate($(e).find("info").text()),rest:new INumber($(e).find("rest").text()),balance:new INumber($(e).find("rest").text()),account:new IAccount($(a).find("account").attr("num"))})}if(!n[r.id]){n[r.id]=true;t.push(r)}else{_error("Accounts.Collections.PensionCard : Can't add the same model to a collection twice",true)}});return t}});Accounts.Collections.PensionAccount.prototype.parsers=_.extend({},Accounts.Collections.PensionAccount.prototype.parsers||{},{read:function(e){return $("O",e).map($.proxy(function(e,t){return new this.model(t,{parse:true})},this)).get()}});Accounts.Collections.DepositAll.prototype.parsers=_.extend({},Accounts.Collections.DepositAll.prototype.parsers||{},{getDeposits:function(e){var t=[];var n={};$("card",e).each(function(i,r){var s=new IAccount($(r).find("commitment").attr("pan"));var a=new IAccount($(r).find("col[name='bdm_3_acc']").text()||$(r).find("commitment").attr("pan"));if(s.toString()){var o=new INumber($("deposilka",e).find("[pan='"+$(e).find("commitment").attr("pan")+"']").attr("rest"));o=o["float"]!=0?o:new INumber($(r).find("value").text());var l=new Accounts.Models.DepositAll({number:s,date:new IDate,currency:new ICurrency($(r).find("currency").find("name").text()),name:$(r).find("commitment").text().substring($(r).find("commitment").text().indexOf($(r).find("currency").find("name").text())+$(r).find("currency").find("name").text().length),balance:o,percent:new INumber($(r).find("commitment").attr("percentrate")),contractType:$(r).find("commitment").attr("contractType"),referenceContract:$(r).find("commitment").attr("refContract"),sync:$(r).find("commitment").attr("sync"),state:$(e).find("commitment").attr("state"),startDate:new IDate($(e).find("commitment").attr("datecreate")),endDate:new IDate($(e).find("commitment").attr("dateend")),account:a});if(!n[l.id]){n[l.id]=true;t.push(l)}else{_error("Accounts.Collections.Deposit : Can't add the same model to a collection twice",true)}}});return t}});Accounts.Models.Kopilka.prototype.parsers=_.extend({},Accounts.Models.Kopilka.prototype.parsers||{},{read:function(e){var t=$(e);var n=new IAccount(t.find("PAN").text());return{number:n,currency:new ICurrency(t.find("Currency").text()),balance:new INumber(t.find("BalDeposit").text()),percent:new INumber(t.find("PrcRate").text()),contractType:t.find("ContractType").text(),referenceContract:t.find("RefContract").text(),startDate:new IDate(t.find("DateStart").text()),endDate:new IDate(t.find("DateEnd").text()),account:n}}});Accounts.Collections.Kopilka.prototype.parsers=_.extend({},Accounts.Collections.Kopilka.prototype.parsers||{},{read:function(e){return $("PAN",e).text()?[new this.model(e,{parse:true})]:[]}});Accounts.Collections.LiqPay.prototype.parsers=_.extend({},Accounts.Collections.LiqPay.prototype.parsers||{},{read:function(e){var t=[],n={},i=this;$("card",e).each(function(e,r){if($(this).find("cur").text()){var s=new Accounts.Models.LiqPay(i.model.prototype.parsers.read(r));if(!n[s.id]){n[s.id]=true;t.push(s)}else{_error("Accounts.Collections.LiqPay : Can't add the same model to a collection twice",true)}}});return t}});Accounts.Collections.LegalPersonAccount.prototype.parsers=_.extend({},Accounts.Collections.LegalPersonAccount.prototype.parsers||{},{getAccounts:function(e){var t=[];var n={};var i=e.length;var r=0;var s=null;for(r=0;r<i;r++){s=new this.model(e[r],{parse:true});if(!n[s.id]){n[s.id]=true;t.push(s)}else{_error("Accounts.Collections.LegalPersonAccount : Can't add the same model to a collection twice",true)}}return t}});Accounts.Models.AccountsOtherBanks.prototype.parsers=_.extend({},Accounts.Models.AccountsOtherBanks.prototype.parsers||{},{read:function(e){var t=$(e);var n=t.find("rate").text();return{isHiddenForStatements:t.find("hide_stmns").text()=="true",rate:isNaN(n)?0:+n,isHiddenForPayments:t.find("hide_pays").text()=="true",name:t.find("alias").text()||"",isAccountOfOtherBank:t.find("is_acc_foreign").text()=="1",isDefault:t.find("is_default").text()=="1",number:new window.IAccount(t.find("number").text()),account:new window.IAccount(t.find("number").text()),id:t.find("card_id").text()||null}}});Accounts.Collections.AccountsOtherBanks.prototype.parsers=_.extend({},Accounts.Collections.AccountsOtherBanks.prototype.parsers||{},{read:function(e){var t=[];var n=this;$("foreignCard",e).each(function(e,i){t[e]=new n.model(i,{parse:true})});return t}});Accounts.Collections.PartPaymentCard.prototype.parsers=_.extend({},Accounts.Collections.PartPaymentCard.prototype.parsers||{},{read:function(e){var t=$(e),n=[],i=this,r;t.find("PartPayment > Contract").each(function(){r=new i.model($(this),{parse:true});if(r.isOpen()){n.push(r)}});this.creditLimit=new window.INumber(t.find("PartPayment > Limit").text());return n}});Accounts.Models.PartPaymentCard.prototype.parsers=_.extend({},Accounts.Models.PartPaymentCard.prototype.parsers||{},{read:function(e){var t=[],n=$(e),i;_.each(n.find("PartsContract").children(),function(e,n){i=new Statements.Models.PartPaymentStatement(e,{parse:true,index:n});if(i.get("date")){t.push(i)}});return{limit:new window.INumber(n.find("Limit").text()),balance:new window.INumber(n.find("Amount").text()),contractNumber:n.find("Dogovor").text(),terminal:n.find("Terminal").text(),pointName:n.find("PointName").text(),pointAddress:n.find("PointAddress").text(),status:n.find("Status").text(),statusDescription:n.find("StatusDescr").text(),paymentParts:new Statements.Collections.PartPaymentStatement(t),rest:new window.INumber(n.find("SummToPay").text()),monthlyPayment:new window.INumber(n.find("PartAmount").text()),paymentsCount:n.find("PayCnt").text(),contractEndDate:new window.IDate(n.find("DateReady").text()),number:new window.IAccount(n.find("Pan").text()),monthlyCommission:new window.INumber(n.find("Comission").text()),name:n.find("PointName").text(),date:new window.IDate("now")}}});Accounts.Models.Account.prototype.queryParams=_.extend({},Accounts.Models.Account.prototype.queryParams||{},{saveCardName:function(e){return{url:"nrest",data:{oper:"edit",ajax:"yes",acc:this.get("account").toString(),card:this.get("number").toString(),nameView:e.get("name"),id:"",table:"fintable"}}},refreshBalance:function(e){var t={url:"nrest",global:false,timeout:3e4,syncID:"asynchronous",signatureAttributeName:"ref",data:{nocache:!this._useLocalBalance,oper:"get_balance_in_async_mode",card:this.get("number").toString(),ref:""}};this._useLocalBalance=true;return t},getCreditCardPayments:function(e){return{url:"nrest",global:false,timeout:3e4,isAsynchronous:true,data:{oper:"get_debt_for_contract",ajax:"yes",card:this.get("number").toString()}}},getGracePeriodAmount:function(){return{url:"statements",dataType:"json",data:{oper:"get_grace_period_sum",ajax:true,card:this.get("number").toString()}}},lock:function(e){return{url:"demand",dataType:"xml",data:{oper:"savedemand",ajax:"yes",action:"lock",count:1,field0:"10000111",value0:encodeURIComponent(this.get("account")+"-"+this.get("number")+"-("+this.get("currency")+") "+this.get("name"))}}},unlock:function(e){return{url:"demand",dataType:"xml",data:{oper:"savedemand",ajax:"yes",action:"unlock",count:1,field0:"10000137",value0:encodeURIComponent(this.get("account")+"-"+this.get("number")+"-("+this.get("currency")+") "+this.get("name"))}}},dontLock:function(e){return{url:"demand",dataType:"xml",data:{oper:"demandNoLock",ajax:"yes",a_card:this.get("account")+"-"+this.get("number"),resp:e?e.get("resp"):"",date_begin:e?e.get("period").get("start").toString("dd.mm.yyyy"):"",date_end:e?e.get("period").get("end").toString("dd.mm.yyyy"):"",oversea_phone:e?e.get("contactPhone").toString():"",country:e?e.getCountries():""}}},pinUnlock:function(e){return{url:"demand",dataType:"xml",data:{oper:"savedemand",ajax:"yes",action:"pinUnlock",count:1,field0:"10000123",value0:encodeURIComponent(this.get("account")+"-"+this.get("number")+"-("+this.get("currency")+") "+this.get("name"))}}},hideForStatements:function(e){return{url:"defaccservlet",dataType:"xml",data:{oper:"hideCardInStatements",ajax:"yes",card:this.get("number").toString()}}},showForStatements:function(e){return{url:"defaccservlet",dataType:"xml",data:{oper:"showCardInStatements",ajax:"yes",card:this.get("number").toString()}}},hideForPayments:function(e){return{url:"defaccservlet",dataType:"xml",data:{oper:"hideCardInPays",ajax:"yes",card:this.get("number").toString()}}},showForPayments:function(e){return{url:"defaccservlet",dataType:"xml",data:{oper:"showCardInPays",ajax:"yes",card:this.get("number").toString()}}},openForInternet:function(e){return{url:"adminutils",dataType:"xml",data:{oper:"3DSecureContent",ajax:"yes",action:"openForInternet",acc:this.get("account").toString(),card:this.get("number").toString(),limit:e.get("limit")["float"],isFbLikePay:true}}},changeInternetLimit:function(e){return{url:"adminutils",dataType:"xml",data:{oper:"3DSecureContent",ajax:"yes",action:"changeInternetLimit",acc:this.get("account").toString(),card:this.get("number").toString(),limit:e.get("limit")["float"],isFbLikePay:true}}},closeForInternet:function(e){return{url:"adminutils",dataType:"xml",data:{oper:"3DSecureContent",ajax:"yes",action:"closeForInternet",acc:this.get("account").toString(),card:this.get("number").toString(),limit:e.get("limit")["float"],isFbLikePay:true}}},gerInternetLastRequest:function(){return{url:"adminutils",dataType:"xml",data:{oper:"3DSecure",ajax:true,action:"getStatusByCard",card:this.get("number").toString()}}},setOperationLimit:function(e){return{url:"demand",dataType:"xml",data:{oper:"savedemand",ajax:"yes",action:"changeOperationLimit",count:3,field0:"10000112",value0:encodeURIComponent(this.get("account")+"-"+this.get("number")+"-("+this.get("currency")+") "+this.get("name")),field1:"10000139",value1:e.get("limit")["float"],field2:"10000327",value2:e.get("endDate").toString("dd.mm.yyyy")}}},loadPercentsActivationStatus:function(){return{url:"adminutils",dataType:"json",data:{oper:"percentactivecheck",ajax:"yes",card:this.get("number").toString(),account:this.get("account").toString()}}},activatePercents:function(e){return{url:"adminutils",dataType:"json",data:{oper:"percentactivate",ajax:"yes",card:this.get("number").toString(),account:this.get("account").toString()}}},getCVV2:function(){return{url:"cvv",dataType:"json",type:"POST",data:{oper:"sendOtp",value:this.get("account").toString()}}},confirmCVV2:function(e){return{url:"cvv",dataType:"json",type:"POST",data:{value:e.otp,oper:"confirmOtp"}}},reissue:function(){return{url:"demand",dataType:"xml",data:{oper:"savedemand",ajax:"yes",id:"10000134",count:2,field0:"10000134",value0:encodeURIComponent(this.get("account")+"-"+this.get("number")+"-("+this.get("currency")+") "+this.get("name")),field1:"10000135",value1:""}}},returnCardFromOtherBankAtm:function(e){return{url:"demand",dataType:"xml",data:{oper:"savedemand",ajax:"yes",action:"returnFromAtm",count:5,field0:"10000129",value0:encodeURIComponent(this.get("account")+"-"+this.get("number")+"-("+this.get("currency")+") "+this.get("name")),field1:"10000130",value1:e.get("address"),field2:"10000131",value2:e.get("date").toString("dd.mm.yyyy"),field3:"10000132",value3:e.get("bank"),field4:"10000133",value4:e.get("comment")}}},getRestrictionStatus:function(){return{url:"adminutils",dataType:"json",data:{ajax:"yes",oper:"getFimiLimits",card:this.get("number").toString(),account:this.get("account").toString()}}}});Accounts.Collections.Base.prototype.queryParams=_.extend({},Accounts.Collections.Base.prototype.queryParams,{loadCreditsDebt:function(){return{url:"get-credit-debt",type:"GET",dataType:"json"}}});Accounts.Collections.Account.prototype.queryParams=_.extend({},Accounts.Collections.Account.prototype.queryParams||{},{read:function(){return{url:"/p24a/cards",data:{srvc_id:iURL.get("srvc_id"),sessionKey:this.options.session}}}});Accounts.Collections.Card.prototype.fetch=function(e){e=e||{};var t=this;var n=iStorage.get("Accounts.Collections.Account");n.fetch({complete:function(){if(typeof e.complete==="function"){e.complete()}},beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}},success:function(){t.excludeCards(n);n.on("change",function(e){var n=t.get(e);if(n){n.set(_.extend({},n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set(_.extend({},t.attributes,e.attributes))}});if(typeof e.success==="function"){e.success(t)}},error:function(){if(typeof e.error==="function"){e.error()}}})};Accounts.Collections.Card.prototype.queryParams=_.extend({},Accounts.Collections.Card.prototype.queryParams||{},{loadInternetPaymentsStatus:function(){var e=[];_.each(this.models,function(t){if(typeof t!=="function"&&t&&t.hasInternetPaymentsAction()){e.push(t.get("number").toString())}});return{url:"adminutils",dataType:"xml",data:{oper:"3DSecureContent",action:"getStatus",ajax:"yes",accs:e.join(";")}}},loadSmsInfoStatus:function(){var e=[];_.each(this.models,function(t){if(typeof t!=="function"&&t&&t.hasSmsInfoAction()){e.push(t.get("number").toString())}});return{url:"adminutils",dataType:"xml",data:{oper:"smsconntest",accs:e.join(";"),ajax:"yes"}}}});Accounts.Models.CreditAccount.prototype.queryParams=_.extend({},Accounts.Models.CreditAccount.prototype.queryParams||{},{refill:function(e){var t=e?e.get("card"):null,n={a_account:t?t.get("account").toString():"",a_card:t?t.get("number").toString():"",ajax:"yes",amt:e&&e.get("amount")?e.get("amount")["float"]:0,b_bic:"",b_card:this.get("number").toString(),b_card_or_acc:this.get("number").toString(),b_crf:"",b_name:"",ccy:this.get("currency").value,communal:"",date_in:"",details:" ",link:"upayment",notice_phone:"",notice_status:"",oper:"addpay",pu_address:"",pu_city_code:"",pu_comments:"",pu_cust_name:"",pu_inn:"",pu_pers_acc:"",pu_phone:"",pu_srv_code:"",pu_start_cnt:"",pu_stop_cnt:""};if(t&&t.isAccountOfOtherBank()){n.cvv=String(e.get("cvvCode")||"")}return{url:"chart",data:n}},regularPayment:function(e){var t="";t+='<prop name="a_card" value="'+e.get("card").get("number").toString()+'"/>';t+='<prop name="a_account" value="'+e.get("card").get("account").toString()+'"/>';t+='<prop name="b_card_or_acc" value="'+this.get("number").toString()+'"/>';t+='<prop name="b_card" value="'+this.get("number").toString()+'"/>';t+='<prop name="details" value=" "/>';t+='<prop name="type" value=""/>';t+='<prop name="communal" value=""/>';t+='<prop name="pu_srv_code" value=""/>';t+='<prop name="pu_inn" value=""/>';t+='<prop name="pu_cust_name" value=""/>';t+='<prop name="pu_phone" value=""/>';t+='<prop name="pu_pers_acc" value=""/>';t+='<prop name="pu_city_code" value=""/>';t+='<prop name="pu_address" value=""/>';t+='<prop name="notice_phone" value=""/>';t+='<prop name="notice_status" value=""/>';t+='<prop name="link" value="upayment"/>';var n=e.get("startDate").getShifted({years:3});var i=1;switch(e.get("interval")){case"day":i=1;break;case"month":i=30;break;case"year":i=365;break}var r={oper:"addPays",link:"upayment",amt:e.get("amount")["float"],ccy:this.get("currency").value,details:" ",ajax:"yes",date_in:e.get("startDate").toString("dd.mm.yyyy"),interval:1,interval_type:e.get("interval"),pays_count:parseInt(n.getUnitDifference(e.get("startDate"))/i),aux_props:encodeURI(t),receiver_id:"upayment",email:e.get("email"),bcard:this.get("number").toString(),specify:e.get("specify")};return{url:"calpay",data:r}}});Accounts.Collections.CreditAccount.prototype.fetch=function(e){e=e||{};var t=this,n=!e.reset?iStorage.get("Accounts.Collections.Account"):new Accounts.Collections.Account,i=0,r=0,s=3,a=iStorage.get("Accounts.Collections.CreditInfo");if(typeof e.beforeSend==="function")e.beforeSend();a.fetch({complete:function(){if(arguments[1]==="error"){r++}i++}});n.fetch({complete:function(){if(arguments[1]==="error"){r++}i++}});t.getCredits({complete:function(){if(arguments[1]==="error"){r++}i++}});var o=setInterval(function(){if(i>=s){clearInterval(o);if(r>=s){if(typeof e.error==="function")e.error()}else{if(t.length&&a.length){_.each(a.models,function(e,n){if(typeof e!=="function"&&e){_.each(t.models,function(t,n){if(typeof t!=="function"&&t&&t.id&&e.id&&t.id.toString()==e.id.toString()){t.attributes=_.extend(t.attributes,e.attributes)}})}})}t.excludeCreditAccounts(n);n.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});if(typeof e.success==="function")e.success(t)}if(typeof e.complete==="function")e.complete()}},200)};Accounts.Collections.CreditAccount.prototype.queryParams=_.extend({},Accounts.Collections.CreditAccount.prototype.queryParams||{},{getCredits:function(){return{url:"nrest",type:"post",dataType:"xml",data:{oper:"loadcredit",ajax:"yes"}}}});Accounts.Models.CreditCard.prototype.queryParams=_.extend({},Accounts.Models.CreditCard.prototype.queryParams||{},{refill:function(e){var t=e?e.get("card"):null,n={a_account:t?t.get("account").toString():"",a_card:t?t.get("number").toString():"",ajax:"yes",amt:e&&e.get("amount")?e.get("amount").toFixed():0,b_card_or_acc:this.get("number").toString(),ccy:this.get("currency").toString(),date_in:"",details:"  ",link:"oppayment",oper:"addpay",type:"C"};if(t&&t.isAccountOfOtherBank()){n.cvv=String(e.get("cvvCode")||"")}return{url:"chart",data:n}},regularPayment:function(e){var t="";t+='<prop name="a_card" value="'+e.get("card").get("number").toString()+'"/>';t+='<prop name="a_account" value="'+e.get("card").get("account").toString()+'"/>';t+='<prop name="b_card_or_acc" value="'+this.get("number").toString()+'"/>';t+='<prop name="link" value="oppayment"/>';t+='<prop name="type" value="C"/>';t+='<prop name="details" value="  "/>';var n=e.get("startDate").getShifted({years:3});var i=1;switch(e.get("interval")){case"day":i=1;break;case"month":i=30;break;case"year":i=365;break}var r={oper:"addPays",link:"oppayment",amt:e.get("amount")["float"],ccy:this.get("currency").value,details:"  ",ajax:"yes",date_in:e.get("startDate").toString("dd.mm.yyyy"),interval:1,interval_type:e.get("interval"),pays_count:parseInt(n.getUnitDifference(e.get("startDate"))/i),aux_props:encodeURI(t),prog_name:"   ",receiver_id:"oppayment",email:e.get("email"),bcard:this.get("number").toString(),specify:e.get("specify")};return{url:"calpay",data:r}}});Accounts.Collections.CreditInfo.prototype.queryParams=_.extend({},Accounts.Collections.CreditInfo.prototype.queryParams||{},{read:function(){return{url:"credit",type:"post",dataType:"xml",data:{state:"active",PUREXML:"",WITHOUTMENU:""}}}});Accounts.Models.LiqPay.prototype.queryParams=_.extend({},Accounts.Models.LiqPay.prototype.queryParams||{},{});Accounts.Models.Metal.prototype.queryParams=_.extend({},Accounts.Models.Metal.prototype.queryParams||{},{});Accounts.Models.PensionCard.prototype.queryParams=_.extend({},Accounts.Models.PensionCard.prototype.queryParams||{},{});Accounts.Models.PensionAccount.prototype.queryParams=_.extend({},Accounts.Models.PensionAccount.prototype.queryParams||{},{refill:function(e){var t=e?e.get("card"):null,n={a_account:t?t.get("account").toString():"",a_card:t?t.get("number").toString():"",ajax:"yes",amt:e&&e.get("amount")?e.get("amount").toFixed(2):0,b_card_or_acc:"26509050000918",ccy:this.get("currency").toString(),b_mfo:"305299",b_okpo:"33114991",b_name:"",notice_phone:"",notice_status:"",date_in:"",details:this.getDetails(),link:"upayment",oper:"addpay",type:"P"};if(t&&t.isAccountOfOtherBank()){n.cvv=String(e.get("cvvCode")||"")}return{url:"chart",data:n}},regularPayment:function(e){var t=e&&e.get("amount")?e.get("amount").toFixed(2):0;var n=e.get("startDate").getShifted({years:3});var i=1;switch(e.get("interval")){case"day":i=1;break;case"month":i=30;break;case"year":i=365;break}var r='<prop name="a_card" value="'+e.get("card").get("number").toString()+'"/>'+'<prop name="a_account" value="'+e.get("card").get("account").toString()+'"/>'+'<prop name="b_card_or_acc" value="26509050000918"/>'+'<prop name="details" value="'+this.getDetails()+'"/>'+'<prop name="type" value="P"/>'+'<prop name="communal" value=""/>'+'<prop name="pu_srv_code" value=""/>'+'<prop name="pu_inn" value=""/>'+'<prop name="pu_cust_name" value=""/>'+'<prop name="pu_phone" value=""/>'+'<prop name="pu_pers_acc" value=""/>'+'<prop name="pu_city_code" value=""/>'+'<prop name="pu_address" value=""/>'+'<prop name="notice_phone" value=""/>'+'<prop name="notice_status" value=""/>'+'<prop name="link" value="upayment"/>'+'<prop name="b_name" value=""/>'+'<prop name="b_crf" value="33114991"/>'+'<prop name="b_bic" value="305299"/>'+'<prop name="ccy" value="'+this.get("currency").value+'"/>'+'<prop name="amt" value="'+t+'"/>'+'<prop name="pu_comments" value=""/>'+'<prop name="pu_start_cnt" value=""/>'+'<prop name="pu_stop_cnt" value=""/>';return{url:"calpay",data:{oper:"addPays",link:"upayment",amt:t,ccy:this.get("currency").value,details:this.getDetails(),ajax:"yes",date_in:e.get("startDate").toString("dd.mm.yyyy"),interval:1,interval_type:e.get("interval"),pays_count:parseInt(n.getUnitDifference(e.get("startDate"))/i,10),aux_props:encodeURI(r),prog_name:"  ",receiver_id:"Privatbank",email:"",b_card_or_acc:26509050000918,specify:"false"}}},getType:function(){return{url:"privatfund",type:"post",dataType:"xml",cache:false,data:{oper:"getStatementsOfAccount",ajax:"true",startDate:"20130101",endDate:new IDate("today").toString("yyyymmdd")}}}});Accounts.Collections.CardActionAccount.prototype.fetch=function(e){e=e||{};var t=this,n=[];var i=iStorage.get("Accounts.Collections.FinanceAccount");n.push(iStorage.get("Accounts.Collections.PensionAccount"));n.push(iStorage.get("Accounts.Collections.Bonus"));n.push(iStorage.get("Accounts.Collections.LiqPay"));n.push(iStorage.get("Accounts.Collections.Metal"));n.push(iStorage.get("Accounts.Collections.Deposit"));n.push(iStorage.get("Accounts.Collections.CreditAccount"));i.fetch({complete:function(){var r=0,s=0;var a=n.length;_.each(n,function(e){if(e&&typeof e!=="function"){e.fetch({complete:function(e,t){if(t==="error"){s++}r++}})}});var o=setInterval(function(){if(r>=a){clearInterval(o);if(s>=a){if(typeof e.error==="function"){e.error()}if(typeof e.complete==="function"){e.complete()}}else{t.excludeActionAccounts(i);i.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=i.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});_.each(n,function(e,n){if(e&&typeof e!=="function"){t.excludeActionAccounts(e);e.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(t){var n=e.get(t);if(n){n.set({},_.extend(n.attributes,t.attributes))}})}});if(typeof e.success==="function"){e.success(t)}if(typeof e.complete==="function"){e.complete()}}}},200)},beforeSend:function(){if(typeof e.beforeSend==="function"){e.beforeSend()}}})};Accounts.Collections.Bonus.prototype.fetch=function(e){e=e||{};var t=this,n=!e.reset?iStorage.get("Accounts.Collections.Account"):new Accounts.Collections.Account,i=0,r=0,s=2;if(typeof e.beforeSend==="function")e.beforeSend();n.fetch({complete:function(){if(arguments[1]==="error"){r++}i++}});t.getBonusCards({complete:function(){if(arguments[1]==="error"){r++}i++}});var a=function(){var i=0;var r=t.length;_.each(t.models,function(e,t){if(typeof e!=="function"&&e){e.refreshBalance({complete:function(){i++}})}});var s=setInterval(function(){if(i>=r||!r){clearInterval(s);s=null;t.excludeBonuses(n);n.on("change",function(e){var n=t.get(e);if(n){n.set(_.extend({},n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set(_.extend({},t.attributes,e.attributes))}});if(typeof e.success==="function")e.success(t);if(typeof e.complete==="function")e.complete()}},200)};var o=setInterval(function(){if(i>=s){clearInterval(o);o=null;if(r>=s){if(typeof e.error==="function")e.error();if(typeof e.complete==="function")e.complete()}else{a()}}},200)};Accounts.Collections.Bonus.prototype.queryParams=_.extend({},Accounts.Collections.Bonus.prototype.queryParams||{},{getBonusCards:function(){return{url:"nrest",type:"post",dataType:"xml",data:{oper:"loadbonusplus",ajax:"yes"}}}});Accounts.Collections.PensionCard.prototype.fetch=function(e){e=e||{};var t=this;var n=!e.reset?iStorage.get("Accounts.Collections.Account"):new Accounts.Collections.Account;var i=0;var r=0;var s=2;if(typeof e.beforeSend==="function")e.beforeSend();n.fetch({complete:function(){if(arguments[1]==="error"){r++}i++}});t.getPensionCards({complete:function(){if(arguments[1]==="error"){r++}i++}});var a=setInterval(function(){if(i>=s){clearInterval(a);if(r>=s){if(typeof e.error==="function")e.error();if(typeof e.complete==="function")e.complete()}else{t.excludePensionCards(n);n.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});if(typeof e.success==="function")e.success(t);if(typeof e.complete==="function")e.complete()}}},200)};Accounts.Collections.PensionCard.prototype.queryParams=_.extend({},Accounts.Collections.PensionCard.prototype.queryParams||{},{getPensionCards:function(){return{url:"nrest",type:"post",dataType:"xml",data:{oper:"loadpens",ajax:"yes"}}}});Accounts.Collections.PensionAccount.prototype.queryParams=_.extend({},Accounts.Collections.PensionAccount.prototype.queryParams||{},{read:function(){return{url:"privatfund",type:"post",dataType:"xml",data:{oper:"getPensionAccount",ajax:"yes"}}}});Accounts.Collections.DepositAll.prototype.fetch=function(e){e=e||{};var t=this;var n=!e.reset?iStorage.get("Accounts.Collections.Account"):new Accounts.Collections.Account;var i=0;var r=0;
    var s=2;if(typeof e.beforeSend==="function"){e.beforeSend()}n.fetch({complete:function(){if(arguments[1]==="error"){r++}i++}});t.getDeposits({complete:function(){if(arguments[1]==="error"){r++}i++}});var a=setInterval(function(){if(i>=s){clearInterval(a);if(r>=s){if(typeof e.error==="function"){e.error()}if(typeof e.complete==="function"){e.complete()}}else{t.excludeDeposits(n);n.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});if(typeof e.success==="function"){e.success(t)}if(typeof e.complete==="function"){e.complete()}}}},200)};Accounts.Collections.DepositAll.prototype.queryParams=_.extend({},Accounts.Collections.DepositAll.prototype.queryParams||{},{getDeposits:function(){return{url:"nrest",type:"post",dataType:"xml",data:{oper:"loaddep",ajax:"yes"}}}});Accounts.Collections.Kopilka.prototype.queryParams=_.extend({},Accounts.Collections.Kopilka.prototype.queryParams||{},{read:function(){return{url:"nrest",type:"post",dataType:"xml",data:{oper:"get_kopilka",ajax:"yes"}}}});Accounts.Collections.LiqPay.prototype.queryParams=_.extend({},Accounts.Collections.LiqPay.prototype.queryParams||{},{read:function(){return{url:"nrest",type:"post",dataType:"xml",data:{oper:"loadlqp",ajax:"yes"}}}});Accounts.Collections.Metal.prototype.fetch=function(e){e=e||{};var t=this;var n=!e.reset?iStorage.get("Accounts.Collections.Account"):new Accounts.Collections.Account;n.fetch({beforeSend:function(){if(typeof e.beforeSend==="function")e.beforeSend()},complete:function(){if(typeof e.complete==="function")e.complete()},error:function(){if(typeof e.error==="function")e.error()},success:function(){t.excludeMetals(n);n.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});if(typeof e.success==="function")e.success(t)}})};Accounts.Collections.Fuel.prototype.fetch=function(e){e=e||{};var t=this;var n=!e.reset?iStorage.get("Accounts.Collections.Account"):new Accounts.Collections.Account;n.fetch({complete:function(){if(typeof e.complete==="function")e.complete()},beforeSend:function(){if(typeof e.beforeSend==="function")e.beforeSend()},success:function(){t.excludeFuel(n);n.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});if(typeof e.success==="function")e.success(t)},error:function(){if(typeof e.error==="function")e.error()}})};Accounts.Collections.Metro.prototype.fetch=function(e){e=e||{};var t=this;var n=!e.reset?iStorage.get("Accounts.Collections.Account"):new Accounts.Collections.Account;n.fetch({complete:function(){if(typeof e.complete==="function")e.complete()},beforeSend:function(){if(typeof e.beforeSend==="function")e.beforeSend()},success:function(){t.excludeMetro(n);n.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});if(typeof e.success==="function")e.success(t)},error:function(){if(typeof e.error==="function")e.error()}})};Accounts.Collections.FinanceAccount.prototype.fetch=function(e){e=e||{};var t=this;var n=iStorage.get("Accounts.Collections.Account");n.fetch({beforeSend:function(){if(typeof e.beforeSend==="function")e.beforeSend()},complete:function(){if(typeof e.complete==="function")e.complete()},error:function(){if(typeof e.error==="function")e.error()},success:function(){t.excludeFinanceAccounts(n);n.on("change",function(e){var n=t.get(e);if(n){n.set({},_.extend(n.attributes,e.attributes))}});t.on("change",function(e){var t=n.get(e);if(t){t.set({},_.extend(t.attributes,e.attributes))}});if(typeof e.success==="function")e.success(t)}})};Accounts.Collections.LegalPersonAccount.prototype.queryParams=_.extend({},Accounts.Collections.LegalPersonAccount.prototype.queryParams||{},{getAccounts:function(){return{url:"cbuser",dataType:"json",data:{oper:"getCbAccs",isTest:"1",ajax:"yes"}}}});Accounts.Collections.PartPaymentCard.prototype.queryParams=_.extend({},Accounts.Collections.PartPaymentCard.prototype.queryParams||{},{read:function(){return{url:"partpayments",type:"post",dataType:"xml",data:{oper:"getcontracts",ajax:"true"}}}});window.CardSelect||(window.CardSelect={});window.CardSelect.Collections||(window.CardSelect.Collections={});window.CardSelect.Models||(window.CardSelect.Models={});window.CardSelect.Templates||(window.CardSelect.Templates={});window.CardSelect.Views||(window.CardSelect.Views={});window.CardSelect.Routers||(window.CardSelect.Routers={});window.CardSelect.Templates["empty"]='<option value="0" disabled="disabled" selected="selected"> {{l10n "/ "}} </option>';window.CardSelect.Templates["loader"]='<option value="0" class="loader" disabled="disabled" selected="selected"> {{l10n " /"}}.. </option>';window.CardSelect.Templates["list"]='{{? it.collection.models.length && (it.options.isPayList || it.options.isWithoutSelectFirstCard)}} <option value="">{{! it.l10n(" ") }}</option> {{?}} {{~ it.collection.models :model:index}} {{ var parent = model.getParent(); var needParentDataForName = model.isMultiCurrency() && parent && parent.attributes && model.isChildAccount(); }} {{? !needParentDataForName || (needParentDataForName && (model.attributes.currency.value != parent.attributes.currency.value || !model.isCard())) }} <option data-id="{{! model.cid}}" {{? model.isAccountOfOtherBank()}} class="account-other-bank" title="{{? model.isCard() }}{{! it.l10n(\'\')}}{{??}}{{! it.l10n(\'\')}}{{?}} {{! it.l10n(\' \')}}" {{?}} {{? !model.isWorkable() }} class="account-blocked" {{?}} {{? model.isMultiCurrency() && model.isMain() && parent && model.attributes.currency == parent.attributes.currency}} {{? it.shortFormat }} value="{{! parent.attributes.number }}" {{??}} value="{{? parent.attributes.parentCardNumber && parent.attributes.parentCardNumber.validate()}}{{! parent.attributes.parentCardNumber.toString()}}{{??}}{{! parent.attributes.account.toString()}}{{?}}-{{! parent.attributes.number}}" {{?}} {{? it.selectCardNumber == parent.attributes.number}}selected="selected"{{?}} {{??}} {{? it.shortFormat }} value="{{! model.attributes.number}}" {{??}} value="{{! model.attributes.number}}-{{? model.attributes.parentCardNumber && model.attributes.parentCardNumber.validate()}}{{! model.attributes.parentCardNumber.toString()}}{{??}}{{! model.attributes.account.toString()}}{{?}}" {{?}} {{? it.selectCardNumber == model.attributes.number}}selected="selected"{{?}} {{?}} isMultiCurrency="{{! model.isMultiCurrency() }}"> {{? !model.isAccountOfOtherBank()}} {{! model.attributes.balance.toString()}}&nbsp;{{! it.l10n(model.attributes.currency.toString())}} &nbsp; {{?}} {{? needParentDataForName }} {{! parent.attributes.name || ""}}&nbsp;{{! parent.attributes.number.toHtml("short")}} {{??}} {{! model.attributes.name || ""}}&nbsp;{{! model.attributes.number.toHtml("short") }} {{?}} </option> {{?}} {{~}} <!--option value="new-card">{{! it.l10n(" ") }}</option-->';CardSelect.Views.Main=Base.Views.Base.extend({templates:{empty:Mustache.compile(CardSelect.Templates.empty),list:doT.template(CardSelect.Templates.list),loader:Mustache.compile(CardSelect.Templates.loader)},events:{change:"_changeItem"},options:{el:"select.pay_accounts, select.accounts",rule:null,isPayList:true,isWithoutSelectFirstCard:false,shortFormat:false,selectCardNumber:""},l10nHash:{},initialize:function(e){this.collection=e.collection||iStorage.get("Accounts.Collections.Account");this.collection.options=this.collection.options||{};this.collection.options=_.extend(this.collection.options,e.collectionOptions||{});if(e&&e.el){this.el=e.el;this.$el=$(this.el);this.render()}},render:function(){var e=this;this.loadAccounts({success:function(t){if(t.length){e.buildList(t)}else{e.buildEmpty()}e.trigger("complete")},error:function(){e.buildEmpty();e.trigger("complete")},beforeSend:function(){e.eventAddLoader()}});return this},loadAccounts:function(e){var t=e.success;var n=this;e.success=function(e){var i=n._collectionFilter(e);n.accountsListCollection=i;if(typeof t=="function"){t(i)}};this.collection.fetch(e)},getAccountsList:function(){return this.accountsListCollection||[]},_changeItem:function(){this.trigger("change");if(this.$el.val()=="new-card"){document.location="demand?oper=usrdmnd&id=17"}},_collectionFilter:function(e){var t=new Accounts.Collections.Account;if(typeof this.options.rule==="function"){t=t.reset(e.select(this.options.rule.bind(this)))}else{t=t.reset(e.models)}if(this.options.isPayList!==null){t.reset(t.select((this.options.isPayList?this._payListRule:this._receiveListRule).bind(this)))}return t},_basePayListRule:function(e){return e.isWorkable()&&e.isPayAvailiable()&&!e.isManualBlocked({isForPayment:true})&&!e.isHiddenForPayments()&&(e.get("balance")&&e.get("balance")["float"]>0||e.isLegalPersonAccount()||e.isAccountOfOtherBank())&&!e.isBonus()&&!e.isMetal()&&!e.isFuel()&&!e.isDeposit()&&!e.isPenaltyAccount()&&e.get("number").toString().substring(0,11)!="77771000980"&&e.get("number").toString().substring(0,11)!="77771000840"&&e.get("number").toString().substring(0,11)!="77771001980"&&e.get("number").toString().substring(0,11)!="77771002980"&&e.get("number").toString().substring(0,11)!="77771003980"&&e.get("number").toString().substring(0,10)!="7777109980"&&(e.isMultiCurrency()&&(!e.isChildAccount()||!e.isMainCurrencyAccount())||e.get("number").toString().substring(0,4)!="2625"&&e.get("number").toString().substring(0,4)!="1201")},_payListRule:function(e){return this._basePayListRule(e)&&e.isFinanceAccount()&&!e.isPrivatDeposit()&&!e.isNotaryCard()},_receiveListRule:function(e){return e.isWorkable()&&e.isPaymentReceivingAvailable()&&!e.isBonus()&&!e.isFuel()&&!e.isPenaltyAccount()&&(e.isMultiCurrency()?!e.isChildAccount()||!e.isMainCurrencyAccount():true)},buildList:function(e){if(e.length){var t=this;this.$el.html(this.buildTemplate("list",{selectCardNumber:this.options.selectCardNumber,collection:e,options:this.options,shortFormat:this.options.shortFormat}));this.options.currentSelectedCard=e.models[0];this.$el.bind("change",function(){t.options.currentSelectedCard=t.collection.getByCid(t.$el.find("option:selected").attr("data-id"))});if(typeof this.options.complete==="function"){this.options.complete()}}else{this.buildEmpty()}},buildEmpty:function(){var e=this;this.$el.html(this.templates.empty({l10n:$.proxy(e.l10n,e)}));if(typeof this.options.complete==="function"){this.options.complete()}},eventAddLoader:function(){var e=this;this.$el.addClass("reading").html(this.templates.loader({l10n:$.proxy(e.l10n,e)}))},eventRemoveLoader:function(){this.$el.removeClass("reading").find(".loader").remove()},selectCard:function(e){var t=this.collection.get(e);if(t){this.$el.find("#"+t.cid).attr("selected","selected")}},getSelectedCard:function(){this.options.currentSelectedCard=this.collection.getByCid(this.$el.find("option:selected").attr("data-id"));return this.options.currentSelectedCard||null}});CardSelect.Views.LegalPerson=CardSelect.Views.Main.extend({initialize:function(e){this.collection=new Accounts.Collections.Account;this.financeAccountsCollection=iStorage.get("Accounts.Collections.Account");this.legalPersonAccountsCollection=iStorage.get("Accounts.Collections.LegalPersonAccount");if(e&&e.el){this.el=e.el;this.$el=$(e.el);this.render()}},loadAccounts:function(e){var t=e.success;var n=this;e.success=function(e){var i=n._collectionFilter(e);n.accountsListCollection=i;if(typeof t=="function"){t(i)}};var i=2;var r=0;var s=0;if(typeof e.beforeSend==="function"){e.beforeSend()}this.financeAccountsCollection.fetch({complete:function(){if(!this.length){s++}r++}});this.legalPersonAccountsCollection.fetch({complete:function(){if(!this.length){s++}r++}});var a=setInterval(function(){if(r==i){clearInterval(a);if(s<i){n.collection.reset(n.financeAccountsCollection.models);n.collection.merge(n.legalPersonAccountsCollection);if(typeof e.success==="function"){e.success(n.collection)}}else{if(typeof e.error==="function"){e.error()}}}},200)}});CardSelect.Views.Main.prototype.l10nHash.en={"/ ":"Cards/accounts is unavaliable"," /":"Cards/accounts is loading","":"Card","":"Account"," ":"of other bank"};CardSelect.Views.Main.prototype.l10nHash.uk={"/ ":"/ "," /":" /","":"","":""," ":" "};window.ReglamChat||(window.ReglamChat={});window.ReglamChat.Collections||(window.ReglamChat.Collections={});window.ReglamChat.Models||(window.ReglamChat.Models={});window.ReglamChat.Templates||(window.ReglamChat.Templates={});window.ReglamChat.Views||(window.ReglamChat.Views={});window.ReglamChat.Routers||(window.ReglamChat.Routers={});window.ReglamChat.Templates["main"]='<div class="reglament-chat-form"> <h1> {{l10n "  "}} </h1> <p> {{l10n ", ,   ."}} </p> {{#reglam.attributes.reason}} <p>{{{reglam.attributes.reason}}}</p> {{/reglam.attributes.reason}} <p> {{l10n "   "}} {{reglam.attributes.repairDate}} </p> <a href="#" class="button grey">{{l10n ""}}</a> </div>';ReglamChat.Models.Main=Base.Models.Base.extend({defaults:{url:/login\-test\.ceb\.loc|localhost/.test(document.location.href)?"http://10.1.108.109:9080/p24/accountorder":"https://privat24.privatbank.ua/p24/accountorder",reason:"",isAvailable:true,repairDate:new IDate}});ReglamChat.Models.Main.prototype.parsers={read:function(e){if(!e||typeof e.isAvail==="undefined"||e.isAvail!="false"){return false}return{isAvailable:false,reason:e.reason||"",repairDate:new IDate(e.repairDate||"")}}};ReglamChat.Models.Main.prototype.queryParams={read:function(){return{url:this.get("url"),dataType:"jsonp",crossDomain:true,type:"GET",data:{ajax:true,oper:"isAvail"}}}};ReglamChat.Views.Main=Base.Views.Base.extend({templates:{main:Mustache.compile(ReglamChat.Templates.main)},l10nHash:{},options:{wasSent:false},initialize:function(e){this.model=iStorage.get("ReglamChat.Models.Main")},render:function(){var e=this;$("body").delegate("#sh_button","mousedown",function(t){t.preventDefault();if(!e.options.wasSent){e.options.wasSent=true;var n=this;n.onclick=null;e.model.fetch({complete:function(){e.options.wasSent=false;if(e.model.get("isAvailable")){return}var t=e.$el.children(":visible").hide();var n=$(e.renderTemplate("main",{reglam:e.model})).appendTo(e.$el);$(".back",e.$el).click(function(){n.remove();t.show()})}})}});return this}});ReglamChat.Views.Main.prototype.l10nHash.en={"  ":"Under construction","   ":"Service will be restored at",", ,   ":"Sorry for any inconvenience","":"Go back"};ReglamChat.Views.Main.prototype.l10nHash.uk={"  ":"  ","   ":"   ",", ,   ":", -,   ","":""};window.Authorization||(window.Authorization={});window.Authorization.Collections||(window.Authorization.Collections={});window.Authorization.Models||(window.Authorization.Models={});window.Authorization.Templates||(window.Authorization.Templates={});window.Authorization.Views||(window.Authorization.Views={});window.Authorization.Routers||(window.Authorization.Routers={});Backbone.sync.add("auth",_.extend({},Backbone.sync.get("default").get("sync"),{validate:function(e,t){if(e==null){return false}e=e.model||e.collection||e;switch(t.queryParams.dataType){case"xml":var n=$("ERROR",e),i=$("changePassword",e).text()==="true",r=window.decodeURIComponent($("RedirectURL",e).text()||"");if(/accountorder|unauth/i.test(r)){return false}else if(n.text().length||n.attr("MESSAGE")){return false}else if(i){return false}break;case"text":if(e.indexOf("ERROR")>=0||e==""||e.substring(0,3)=="err"){return false}break;case"json":var s=e instanceof Object,a=e instanceof Array;if(!e||e.error||t.options.parserContext&&t.options.parserContext instanceof Backbone.Model&&!s||t.options.parserContext&&t.options.parserContext instanceof Backbone.Collection&&!a||!t.options.parserContext&&t.storage instanceof Backbone.Model&&!s||!t.options.parserContext&&t.storage instanceof Backbone.Collection&&!a){return false}break;default:if(e.error){return false}break}return true}}));window.Authorization.Templates["browserMessage"]='<div class="message"> <h2> {{l10n "  "}} </h2> {{l10n "   24     "}}: <div class="browsers"> <a href="https://www.google.com/chrome" class="chrome" target="_blank">Chrome</a> <a href="http://www.mozilla.org/firefox/new/" class="firefox" target="_blank">Firefox&nbsp;14+</a> <a href="http://www.apple.com/safari/" class="safari" target="_blank">Safari</a> <a href="http://www.opera.com/download/" class="opera" target="_blank">Opera&nbsp;12+</a> <a href="http://ie.microsoft.com/" class="msie" target="_blank">IE 10</a> </div> </div> ';window.Authorization.Templates["changePassword"]='<div class="form" data-name="change-password-form"> <div class="input" data-name="errors"></div> <div class="label"> {{l10n " "}}: </div> <div class="input"> <input type="password" data-name="password" name="password" value="" tabindex="1" maxlength="15"> <div class="hint"> {{l10n "  6 "}}<br/> {{l10n "        "}} </div> </div> <div class="label"> {{l10n " "}}: </div> <div class="input"> <input type="password" data-name="password-confirm" name="password-confirm" value="" tabindex="2" maxlength="15"> </div> <div class="error-message"> {{#error}} {{error.message}} {{/error}} </div> <a class="button" data-name="confirm-button" tabindex="2" href="#" title="{{l10n \'\'}}"> {{l10n ""}} </a> </div> ';window.Authorization.Templates["exchangeRates"]="{{#exchangeRates.length}} <span {{#date}}title=\"{{l10n \"  \"}}&nbsp;{{date.toString 'dd.mm.yyyy HH:MM'}}\"{{/date}} > {{#exchangeRates.models}} {{#attributes.currency.is 'EUR'}} <strong>{{attributes.currency.toString}}:</strong>&nbsp;{{attributes.buy.toString null null null 2}}&nbsp;/&nbsp;{{attributes.sale.toString null null null 2}} {{/attributes.currency.is}} {{#attributes.currency.is 'USD'}} <strong>{{attributes.currency.toString}}:</strong>&nbsp;{{attributes.buy.toString null null null 3}}&nbsp;/&nbsp;{{attributes.sale.toString null null null 3}} {{/attributes.currency.is}} {{/exchangeRates.models}} </span> {{/exchangeRates.length}} ";window.Authorization.Templates["exchangeRatesBlock"]='<div class="exchange-rates" data-name="exchange-rates-block"> </div>';window.Authorization.Templates["fieldError"]='<div class="hint error"> {{message}} </div>';window.Authorization.Templates["footer"]='<div class="footer"> <div class="content"> <div class="copyright"> &nbsp;{{date.toString \'yyyy\'}} <a target="_blank" class="link" {{#model.isUkraine}} href="http://privatbank.ua/" {{/model.isUkraine}} {{#model.isRussia}} href="http://www.privatbank.ru/" {{/model.isRussia}} > {{l10n ""}} </a> <br> {{#model.isUkraine}} {{l10n "  22  05.10.2011 "}}. {{/model.isUkraine}} {{#model.isRussia}} {{l10n "    2827  23.04.2012 "}}. {{/model.isRussia}} </div> <a class="virtual-keyboard" data-name="virtual-keyboard" id="v_keyboard" href="#"></a> <div class="phone"> {{#model.isUkraine}} 3700 {{/model.isUkraine}} {{#model.isRussia}} 8 800 200 20 80 {{/model.isRussia}} </div> <div class="menu"> <a class="menu-item" target="_blank" {{#model.isUkraine}} href="http://privatbank.ua/pay/" {{/model.isUkraine}} {{#model.isRussia}} href="https://p24ru.privatbank.ua/p24/info" {{/model.isRussia}} > {{l10n "/"}} </a> {{#model.isUkraine}} <a href="https://api.privatbank.ua/" class="menu-item" target="_blank">{{l10n "API"}}</a> {{/model.isUkraine}} <a class="menu-item" target="_blank" {{#model.isUkraine}} href="http://privatbank.ua/apps/" {{/model.isUkraine}} {{#model.isRussia}} href="http://www.privatbank.ru/apps/" {{/model.isRussia}} > {{l10n " "}} </a> {{#model.isUkraine}} <a href="http://privatbank.ua/safeness/" class="menu-item" target="_blank"> {{l10n " "}} </a> {{/model.isUkraine}} </div> </div> </div> ';window.Authorization.Templates["header"]='<a class="logo" {{#model.isUkraine}} href="http://privat24.ua/" {{/model.isUkraine}} {{#model.isRussia}} href="http://privat24.ru/" {{/model.isRussia}} > <img src="img/logo_big2.png" /> <br /> <h1> {{l10n "  -"}} </h1> </a> ';window.Authorization.Templates["keyboard"]='<div class="keyboard" data-name="keyboard"></div> <div class="input-result" data-name="input-result"></div> <div class="clear"></div>';window.Authorization.Templates["l10n"]='<div class="languages"> {{#lang == "en"}} <span title="English">EN</span> {{/lang}} {{^lang == "en"}} <a href="#" data-name="l10n" data-id="en" title="English">EN</a> {{/lang}} {{#lang == "ru"}} <span title="">RU</span> {{/lang}} {{^lang == "ru"}} <a href="#" data-name="l10n" data-id="ru" title="">RU</a> {{/lang}} {{#mainModel.isUkraine}} {{#lang == "uk"}} <span title="">UK</span> {{/lang}} {{^lang == "uk"}} <a href="#" data-name="l10n" data-id="uk" title="">UK</a> {{/lang}} {{/mainModel.isUkraine}} </div> ';window.Authorization.Templates["login"]='<div class="form" data-name="login-form"> <div class="input" data-name="errors"> {{#options.isRegistrationSuccess || options.isPasswordRecoverySuccess || options.isLoginChangingSuccess}} <strong>{{l10n ""}}!</strong><br/> {{#options.isPasswordRecoverySuccess}} {{l10n "     24"}}. {{/options.isPasswordRecoverySuccess}} {{^options.isPasswordRecoverySuccess}} {{#options.isLoginChangingSuccess}} {{l10n "     24"}}. {{/options.isLoginChangingSuccess}} {{^options.isLoginChangingSuccess}} {{l10n "    24"}}. {{/options.isLoginChangingSuccess}} {{/options.isPasswordRecoverySuccess}} {{#options.isLoginChangingSuccess}} {{l10n "    24      "}} {{/options.isLoginChangingSuccess}} {{^options.isLoginChangingSuccess}} {{l10n "    24     "}} {{/options.isLoginChangingSuccess}} {{/options.isRegistrationSuccess}} </div> <div class="input"> <input type="text" data-name="phone" name="phone" value="{{model.attributes.login}}{{^model.attributes.login}}{{#mainModel.isUkraine}}+380{{/mainModel.isUkraine}}{{#mainModel.isRussia}}+7{{/mainModel.isRussia}}{{/model.attributes.login}}" tabindex="1" maxlength="16" placeholder="{{l10n ""}}" /> </div> {{^model.attributes.needHidePassword}} <div class="input"> <input type="password" data-name="password" maxlength="15" tabindex="2" value="" placeholder="{{l10n ""}}"> <div class="language" data-name="language-label" style="display: none;">EN</div> <div class="caps-lock" data-name="caps-lock-label" style="display: none;">CAPS LOCK</div> </div> {{/model.attributes.needHidePassword}} <a href="#" class="button" data-name="sign-in-button" tabindex="3"> {{l10n ""}} </a> <a data-name="password-recovery-link" {{#mainModel.isUkraine}} href="https://privat24.privatbank.ua/p24/com/unlock.html?isPasswordRecovery=true#registration" {{/mainModel.isUkraine}} {{#mainModel.isRussia}} href="https://p24ru.privatbank.ua/p24/passwd?lng=ru&NOXML=true" {{/mainModel.isRussia}} > {{l10n " "}}? </a> {{#mainModel.isUkraine}} <br /> <a data-name="change-login-link" href="https://privat24.privatbank.ua/p24/com/unlock.html?isLoginChanging=true#registration"> {{l10n " "}} </a> {{/mainModel.isUkraine}} </div> <div class="qr-code"> {{l10n "QR-  "}} <br /> {{l10n "   Google Glass"}}: <br /> <a target="_blank" {{#mainModel.isUkraine}} href="http://www.youtube.com/watch?v=S_NvFKahkfM&feature=youtu.be" {{/mainModel.isUkraine}} {{#mainModel.isRussia}} href="http://youtu.be/oPB05p0r4Is" {{/mainModel.isRussia}} > {{l10n \'\'}}&nbsp;&gt;&nbsp;{{l10n \'24\'}}&nbsp;&gt;&nbsp;{{l10n \'\'}}&nbsp;&gt;&nbsp;{{l10n \'\'}} </a> <div data-name="qr-code-block"></div> </div> ';window.Authorization.Templates["main"]='<img src="img/preloader_qr_codes.gif" alt="" class="hidden-image"> <div class="right-block"> <a class="banner-ipay" data-name="ipay-banner-block" href="https://play.google.com/store/apps/details?id=ua.privatbank.merchant&feature=search_result" target="_blank" > <span>{{l10n "   "}}</span> {{l10n ""}} </a> <div class="block" data-name="form-block"></div> <div class="applications" data-name="applications-block"> <a href="http://itunes.apple.com/ru/app/privat24/id326277589?mt=8" class="store app-store" target="_blank" data-name="ios-application-button"> <span>{{l10n "24 "}}</span> </a> <a href="https://play.google.com/store/apps/details?id=ua.privatbank.ap24" class="store google-play" target="_blank" data-name="android-application-button"> <span>{{l10n "24 "}}</span> </a> <a class="more" href="https://docs.google.com/presentation/pub?id=1MgfAgd27Uuzjk4eGpMCf-0e_EzqnQ9DLukSQU-uLvac&start=false&loop=false&delayms=10000#"> {{l10n ""}}.. </a> <div data-name="android-application-button"> *&nbsp;{{l10n \' \'}} <a href="https://privat24.ua/ap24-release.apk" class="external" title="{{l10n \'     \'}} Google-play">apk-{{l10n \'\'}}</a> </div> </div> </div> {{^options.isRegistrationSuccess}} <div class="features"> <div class="statements"> <div class="title"> {{l10n "    "}} </div> {{l10n "      /"}}. </div> <div class="mobile"> <div class="title"> {{l10n " "}} </div> {{#model.isUkraine}} {{l10n ".      "}}. {{/model.isUkraine}} {{#model.isRussia}} {{l10n ".    "}}. {{/model.isRussia}} </div> <div class="utilities-payments"> <div class="title"> {{l10n "  "}} </div> {{l10n "    : ,    "}}. </div> <div class="transfers"> <div class="title">{{l10n "   "}}</div> {{l10n "  VISA/MasterCard, WesternUnion"}}, {{#model.isUkraine}} {{l10n "PrivatMoney"}}, {{/model.isUkraine}} {{l10n "  Liqpay"}}. </div> <div class="deposits"> <div class="title">{{l10n ""}}</div> {{l10n "    %    "}}. </div> </div> <div class="actions"> <a class="register" {{#model.isUkraine}} href="https://privat24.privatbank.ua/p24/com/registration.html#registration" {{/model.isUkraine}} {{#model.isRussia}} href="https://p24ru.privatbank.ua/p24/start?lng=ru&NOXML=true" {{/model.isRussia}} target="_blank" > {{l10n ""}} </a> <a class="more" {{#model.isUkraine}} href="https://docs.google.com/presentation/pub?id=1MgfAgd27Uuzjk4eGpMCf-0e_EzqnQ9DLukSQU-uLvac&start=false&loop=false&delayms=10000" {{/model.isUkraine}} {{#model.isRussia}} href="https://docs.google.com/presentation/d/1xtNuR7ue4VljbgUmAoN8uMx8xPibcTV1EX04svxM9Oc/present" {{/model.isRussia}} target="_blank" > {{l10n "  1001 ,   "}} </a> </div> {{/options.isRegistrationSuccess}} <div class="clear"></div>';window.Authorization.Templates["mainPreloader"]='<div class="center"> <img src="img/preloader_qr_codes.gif" alt="{{l10n \'  24\'}}..."> </div>';window.Authorization.Templates["main_alternate"]='<img src="img/preloader_qr_codes.gif" alt="" class="hidden-image"> <div class="right-block"> <a class="banner-ipay" href="https://play.google.com/store/apps/details?id=ua.privatbank.merchant&feature=search_result" target="_blank" > <span>{{l10n "   "}}</span> {{l10n ""}} </a> <div class="block" data-name="form-block"></div> <div class="applications"> <a href="http://itunes.apple.com/ru/app/privat24/id326277589?mt=8" class="store app-store" target="_blank" data-name="ios-application-button"> <span>{{l10n "24 "}}</span> </a> <a href="https://play.google.com/store/apps/details?id=ua.privatbank.ap24" class="store google-play" target="_blank" data-name="android-application-button"> <span>{{l10n "24 "}}</span> </a> <a class="more" href="https://docs.google.com/presentation/pub?id=1MgfAgd27Uuzjk4eGpMCf-0e_EzqnQ9DLukSQU-uLvac&start=false&loop=false&delayms=10000#"> {{l10n ""}}.. </a> <div data-name="android-application-button"> *&nbsp;{{l10n \' \'}} <a href="https://privat24.ua/ap24-release.apk" class="external" title="{{l10n \'     \'}} Google-play">apk-{{l10n \'\'}}</a> </div> </div> </div> {{^options.isRegistrationSuccess}} <div class="features"> <div class="statements"> <div class="title"> {{l10n "    "}} </div> {{l10n "      /"}}. </div> {{#model.isUkraine}} <div class="mobile"> <div class="title"> {{l10n " "}} </div> {{l10n ".      "}}. </div> {{/model.isUkraine}} {{#model.isUkraine}} <div class="utilities-payments"> <div class="title"> {{l10n "  "}} </div> {{l10n "    : ,    "}}. </div> {{/model.isUkraine}} {{#model.isUkraine}} <div class="transfers"> <div class="title">{{l10n "   "}}</div> {{l10n "  VISA/MasterCard, WesternUnion"}}, {{l10n "PrivatMoney"}}, {{l10n "  Liqpay"}}. </div> {{/model.isUkraine}} {{#model.isRussia}} <div class="transfers"> <div class="title">{{l10n "   "}}</div> {{l10n "   /"}} </div> {{/model.isRussia}} {{#model.isUkraine}} <div class="deposits"> <div class="title">{{l10n ""}}</div> {{l10n "    %    "}}. </div> {{/model.isUkraine}} </div> <div class="actions" <!--         ,   --> {{#model.isRussia}} style="margin-top: 226px;" {{/model.isRussia}} > <a class="register" {{#model.isUkraine}} href="https://privat24.privatbank.ua/p24/com/registration.html#registration" {{/model.isUkraine}} {{#model.isRussia}} href="https://p24ru.privatbank.ua/p24/start?lng=ru&NOXML=true" {{/model.isRussia}} target="_blank" > {{l10n ""}} </a> <a class="more" {{#model.isUkraine}} href="https://docs.google.com/presentation/pub?id=1MgfAgd27Uuzjk4eGpMCf-0e_EzqnQ9DLukSQU-uLvac&start=false&loop=false&delayms=10000" {{/model.isUkraine}} {{#model.isRussia}} href="https://docs.google.com/presentation/d/1xtNuR7ue4VljbgUmAoN8uMx8xPibcTV1EX04svxM9Oc/present" {{/model.isRussia}} target="_blank" > {{l10n "  1001 ,   "}} </a> </div> {{/options.isRegistrationSuccess}} <div class="clear"></div> ';window.Authorization.Templates["otp"]='<div class="form" data-name="otp-form"> <div class="input" data-name="errors"></div> <div class="label"> {{l10n "  "}}: </div> <div data-name="inputs-line"> <div class="input"> <input type="text" class="input-section" data-name="first-section" data-class="otp-input" maxlength="3" tabindex="1" value="" placeholder="XX"> <input type="text" class="input-section" data-name="second-section" data-class="otp-input" maxlength="3" tabindex="1" value="" placeholder="XX"> <input type="text" class="input-section" data-name="third-section" data-class="otp-input" maxlength="3" tabindex="1" value="" placeholder="XX"> <input type="text" class="input-section" data-name="fourth-section" data-class="otp-input" maxlength="3" tabindex="1" value="" placeholder="XX"> </div> </div> <input type="hidden" name="otp" id="otp" value=""> <div class="error-message"> {{#error}} {{error.message}} {{/error}} </div> <div class="alternate-confirm" data-name="alternate-confirm-block"> {{ l10n \'  \' }}? <a href="#ivr" data-name="show-ivr">{{ l10n \' \' }}</a> </div> <div class="ivr-confirmation" data-name="ivr-confirmation-block"></div> <a class="button" data-name="confirm-button" tabindex="2" href="#" title="{{l10n \'\'}}"> {{l10n ""}} </a> <div class="clear"></div> </div> ';
window.Authorization.Templates["otpCodeChannelMessage"]='<div class="global-message-block-wrapper"> <div class="global-message-block"> <div class="global-message-form"> <div class="title"> {{l10n \'      24     \'}}: </div> <div class="part"> <span class="icon viber"></span> <div class="part-content"> <div class="title">Viber</div> <a href="#" class="link">Android</a> <a href="#" class="link">IPhone</a> </div> </div> <div class="part"> <span class="icon p24"></span> <div class="part-content"> <div class="title">{{l10n \'24\'}}</div> <a href="#" class="link">Android</a> <a href="#" class="link">IPhone</a> </div> </div> </div> </div> </div>';window.Authorization.Templates["pinCode"]='<form class="form" data-name="form" action="/" method="post"> <div class="label"> {{l10n " "}}<br/> <span class="hint"> <a href="http://privatbank.ua/registracija-telefona-v-banke/" target="_blank">{{l10n "     ?"}}</a> </span> </div> <div class="form-line"> <div class="input"> <select name="card"></select> </div> </div> <div class="form-line keyboard-line" data-name="code"> <div class="label"> {{l10n " PIN-  " }}: <div class="big-arrow"></div> </div> <div class="input" data-name="keyboard-block"> </div> <div class="clear"></div> </div> <div class="form-line buttons-line"> <div class="back"> <button class="button" type="button" data-name="skip" tabindex="2" title="{{l10n \'   \'}}">{{l10n ""}}</button> </div> <div class="next"> <button class="button" type="submit" tabindex="1" title="{{l10n \'  \'}}">{{l10n ""}}</button> </div> </div> </form> ';window.Authorization.Templates["serviceError"]='<div class="form"> <div class="form-line" data-name="service-error"> {{^withoutTitle}} <div class="input">{{l10n " "}}</div> {{/withoutTitle}} <div class="input"> {{#error && error.message}} {{l10n error.message}} {{/error}} {{^error && error.message}} {{l10n "  . , , "}} {{/error}} </div> {{#isNeedMainButton}} <a href="#login" class="button">{{l10n ""}}</a> {{/isNeedMainButton}} </div> </div> ';window.Authorization.Templates["ivr"]='<div class="form ivr-form"> {{l10n " ,    24    "}} <div class="phone-block"> <span class="title"> {{l10n ""}}... </span> <span class="title phone"> {{model.get \'ivrIncomeNumber\'}} </span> </div> </div>';window.Authorization.Templates["ivrBrief"]='<div class="ivr-confirmation-hint">{{! it.l10n("    SMS ,    24    ") }}</div> <a class="button grey" data-name="ivr-confirm-button" tabindex="3" href="#ivr" title="{{! it.l10n(\' \') }}"> {{! it.l10n(" ") }} </a>';window.Authorization.Templates["ivrTimer"]="<div class=\"ivr-confirmation-hint\"> {{! it.l10n('') }} <b><span data-name=\"timer\">{{! it.view.getTime(it.options.availableTime) }}</span></b>, {{! it.l10n('      ') }}. </div>";Authorization.Models.Base=Base.Models.Base.extend({syncID:"auth"});Authorization.Models.FillingSpeed=Authorization.Models.Base.extend({defaults:{attemptsCount:0,data:[]}});Authorization.Models.Analytics=Authorization.Models.Base.extend({defaults:{invalidAttemptsCount:0,fillingSpeed:{password:new Authorization.Models.FillingSpeed,login:new Authorization.Models.FillingSpeed}},incrementInvalidAttempts:function(){this.attributes.invalidAttemptsCount++},incrementFillingAttempts:function(e){var t=this.attributes.fillingSpeed[e];if(t){t.attributes.attemptsCount++}},checkFirstFillingAttempt:function(e){var t=this.attributes.fillingSpeed[e];if(t&&!t.attributes.attemptsCount){t.attributes.attemptsCount=1}},checkSpeed:function(e){e=e||{};var t=this.attributes.fillingSpeed[e.fieldName];if(t){var n=(new Date).getTime();var i=t.attributes.data.length;t.attributes.data.push({position:e.symbolPosition,time:i>0?n-t.attributes.data[i-1].startTime:0,startTime:n})}},getCheckFillingSpeedData:function(){return{invalidAttemptsCount:this.attributes.invalidAttemptsCount,password:this.attributes.fillingSpeed.password.toJSON(),login:this.attributes.fillingSpeed.login.toJSON()}}});Authorization.Models.QRCode=QRCode.Models.Main.extend({defaults:_.extend({},QRCode.Models.Main.prototype.defaults,{codeTimeToLive:22e4,hideCodeAfterTime:3e5,checkingCodeInterval:7e3,merchantId:/app-p24-login/.test(document.location)?23:window.DEBUG?14:1})});Authorization.Models.ExchangeRate=Authorization.Models.Base.extend({defaults:{currency:null,baseCurrency:null,buy:new INumber,sale:new INumber,date:new IDate("today")},idAttribute:"currency",validate:function(e){if(!e.currency||!e.currency.validate()){return{field:"currency",message:", , "}}if(!e.currency||!e.currency.validate()){return{field:"baseCurrency",message:", ,  "}}}});Authorization.Models.User=Authorization.Models.Base.extend({defaults:{role:"",isIndividualPerson:true},isIndividualPerson:function(){return this.get("isIndividualPerson")===true},validate:function(e){if(!e.role){return{field:"role",message:"   "}}}});Authorization.Models.Login=Authorization.Models.Base.extend({defaults:{login:null,password:"",redirectUrl:"",ekbId:"",from:"",needHidePassword:false,isNeedIVR:false,user:null,userInfoKey:null},validate:function(e){if(!e.login){return{field:"login",message:"  "}}if(!new IPhone(e.login).validate("full-all")){return{field:"login",message:"   "}}if(!this.get("needHidePassword")&&!$.trim(e.password)){return{field:"password",message:" "}}if(e.user!==null){var t=e.user.validate(_.clone(e.user.toJSON()));if(t){return t}}},isNeedIVR:function(){return!!this.get("isNeedIVR")}});Authorization.Models.OTP=Authorization.Models.Base.extend({defaults:{code:"",redirectUrl:"",needToCheckPinCode:false,session:null,dynString:null},validate:function(e){if(!e.code||e.code.length<8){return{field:"otp",message:"  "}}}});Authorization.Models.IVR=Authorization.Models.Base.extend({defaults:{id:null,isConfirmed:false,redirectUrl:"",ivrIncomeNumber:""},options:{checkingIntervalTime:2e3,checkingTime:3e5},initialize:function(){this.on("change:isConfirmed",function(){if(this.isConfirmed()){this.stop()}})},isConfirmed:function(){return!!this.get("isConfirmed")},check:function(e){this.trigger("before:check");this.stop({silent:true});this.checkingIntervalId=setInterval(function(){this.checkQuery({error:function(e,t){this.trigger("error:check",t);this.stop()}.bind(this),modelData:e})}.bind(this),this.options.checkingIntervalTime);this.checkingTimeoutId=setTimeout(function(){this.stop();this.trigger("abort:confirm")}.bind(this),this.options.checkingTime)},stop:function(e){e=e||{};clearTimeout(this.checkingTimeoutId);clearInterval(this.checkingIntervalId);this.checkingIntervalId=null;if(!e.silent){this.on("complete:check")}},detectIVRIncomeNumber:function(e){var t;if(e&&e instanceof IPhone){if(e.isMtsPhone()){t="+380567335045"}else if(e.isKyivStarPhone()){t="+380567369123"}else if(e.isLifePhone()){t="+380567976011"}else if(e.isGoldenTelecom()||e.isPeopleNetPhone()||e.isInterTelecom()||e.isUkrTelecomPhone()){t="+380927896555"}}this.set({ivrIncomeNumber:t},{silent:true})}});Authorization.Models.ChangePassword=Authorization.Models.Base.extend({defaults:{newPassword:"",newPasswordConfirm:"",redirectUrl:""},validate:function(e){if(!e.newPassword){return{field:"newPassword",message:" "}}if(e.newPassword.length<6){return{field:"newPassword",message:"    ,   6 "}}if(/[^\w]+/i.test(e.newPassword)){return{field:"newPassword",message:"       "}}if(!/[0-9]+/.test(e.newPassword)){return{field:"newPassword",message:"      "}}if(!/[a-z]+/i.test(e.newPassword)){return{field:"newPassword",message:"       "}}if(e.newPassword!==e.newPasswordConfirm){return{field:"newPasswordConfirm",message:"  "}}}});Authorization.Models.PinCodeCheck=Authorization.Models.Base.extend({defaults:{code:"",card:{}},validate:function(e){var t;if(!e.code||!/^\d{4}$/i.test(e.code)){t={field:"code",message:"  PIN-"}}if(!e.card||!e.card.validate()){t={field:"card",message:" "}}return t},save:function(e,t){this.set(e);this._sendPinCode(e,t)},_sendPinCode:function(e,t){var n=t;this.sendPinCode(_.extend({},t,{complete:function(){n.complete();this._checkPinCode(e,t)}.bind(this),error:null}))},_checkPinCode:function(e,t){this.checkPinCode(_.extend({},t,{success:function(){Base.Models.Base.prototype.save.call(this,e,t)}.bind(this)}))}});Authorization.Models.Main=Authorization.Models.Base.extend({defaults:{id:null,serviceId:iURL.get("srvc_id")||"vsrvs1",url:iURL.get("go")||"/p24/news",prominSession:iURL.get("ProminSession")||"",forceSignIn:false,getParameters:iURL.getAllParameters(),noAuth:iURL.get("noauth")||"",redirectUrl:"",clientCard:"",otpStepIsFirst:iURL.get("otpStepIsFirst")=="true"||/\/otp/i.test(document.location.pathname),ivrStepIsFirst:iURL.get("ivrStepIsFirst")=="true"||/\/ivr/i.test(document.location.pathname),isLegalPerson:iURL.get("phis")==="N"||false,loginStep:new Authorization.Models.Login,otpStep:new Authorization.Models.OTP,ivrStep:new Authorization.Models.IVR,changePasswordStep:new Authorization.Models.ChangePassword,pinCodeStep:new Authorization.Models.PinCodeCheck,analyticsModel:new Authorization.Models.Analytics,stepError:null},initialize:function(){if(!iURL.get("srvc_id")){if(this.isRussia())this.set({serviceId:"vsrvs12"});if(this.isUkraine())this.set({serviceId:"vsrvs1"})}},toStartStep:function(){this.set({loginStep:new Authorization.Models.Login,otpStep:new Authorization.Models.OTP,ivrStep:new Authorization.Models.IVR})},isRussia:function(){return/privat24\.ru|login\-(test|pre|dev)\-ru\.ceb\.loc|isRussia/.test(document.location.href)},isUkraine:function(){return/privat24\.ua|login\.privatbank\.ua|login\-(test|pre|dev)\.ceb\.loc|^https?:\/\/10\.|isUkraine/.test(document.location.href)&&!/isRussia/.test(document.location.href)}});Authorization.Collections.Base=Backbone.Collection.extend({});Authorization.Collections.ExchangeRate=Authorization.Collections.Base.extend({model:Authorization.Models.ExchangeRate,courseId:11,currencyPriority:{USD:1,EUR:2,RUB:3},comparator:function(e){return this.currencyPriority[e.get("currency").toString()]||this.currencyPriority.length}});Authorization.Models.Base.prototype.parsers={_errorCodes:{INV_USER:{field:"login",message:"     "},INV_PWD:{field:"password",message:"    ",redirectUrl:"login"},"UA.PRIVATBANK.VAB.P24P.BASE.P24UNABLE2AUTHWITHIP":{field:"password",message:"    "},INV_ACCS:{field:"service",message:"    "},INV_PHONE:{field:"login",message:"    24  "},VOTP:{field:"otp",message:"    "},"UA.PRIVATBANK.VAB.P24P.BASE.P24ILLEGALACCESS":{field:"otp",message:"    "},"UA.PRIVATBANK.VAB.P24P.BASE.LOWSECUREDPASSWORD":{field:"newPassword",message:"  "},passwordNotEquals:{field:"newPasswordConfirm",message:"  "},newPasswordShort:{field:"newPassword",message:"    ,   6 "},newPasswordHasNotNumbers:{field:"newPassword",message:"      "},newPasswordHasNotLetters:{field:"newPassword",message:"       "},newPasswordEqualWithLogin:{field:"newPassword",message:"    "},WRONG_OTP:{field:"otp",message:"    "},"UA.PRIVATBANK.VAB.P24P.OTP.P24OTPILLEGALACCESS":{field:"otp",message:"    "},"JAVA.NET.SOCKETTIMEOUTEXCEPTION":{field:"service",message:" "},defaultError:{field:"service",message:" ",attempts:null},sessionError:{field:"service",message:"  ",attempts:null},accountorder:{field:"numberAttempts",message:" .       3  ",attempts:null,redirectUrl:""},needChangePassword:{field:"changePassword"}},_getMessageByErrorCode:function(e){e=window.decodeURIComponent(e);for(var t in this.parsers._errorCodes){if(e.indexOf("UA.PRIVATBANK.VAB.P24P.BASE.LOWSECUREDPASSWORD")>-1){var n=e.split("@")[1]||"";if(n.indexOf("NE")>-1){return this.parsers._errorCodes["passwordNotEquals"]}else if(n.indexOf("-1")>-1){return this.parsers._errorCodes["newPasswordShort"]}else if(n.indexOf("-2")>-1){return this.parsers._errorCodes["newPasswordHasNotNumbers"]}else if(n.indexOf("-3")>-1){return this.parsers._errorCodes["newPasswordHasNotLetters"]}else if(n.indexOf("EL")>-1){return this.parsers._errorCodes["newPasswordEqualWithLogin"]}else{return this.parsers._errorCodes["UA.PRIVATBANK.VAB.P24P.BASE.LOWSECUREDPASSWORD"]}}else if(e.indexOf(t)>-1){var i=this.parsers._errorCodes[t];i.attempts=(e.split("@")[1]||"").split(" ")[0];i.attempts=i.attempts?+i.attempts:null;return i}else if(e.indexOf("UA.PRIVATBANK.VAB.P24P.BASE.P24UNABLE2AUTHWITHIP")||e.indexOf("INV_PWD")>-1){$('[data-name="password"]').val("")}}return null},error:function(e){var t=($(e).find("ERROR").attr("MESSAGE")||"").toUpperCase().replace(/^\s+/,"");var n=window.decodeURIComponent($(e).find("RedirectURL").text()||"");var i=$("changePassword",e).text()==="true";if(i){return this.parsers._errorCodes.needChangePassword}t=t.replace(/\s+$/,"");if(!t.length&&!n.length){return this.parsers._errorCodes.defaultError}if(n.length){n=window.decodeURIComponent(n);var r=/unauth=(.+)$/i.exec(n);if(r){r=window.decodeURIComponent(r)}else{r=n}var s=this.parsers._getMessageByErrorCode.call(this,r.toUpperCase());if(s&&!s.redirectUrl)s.redirectUrl=n;else if(/accountorder/i.test(n))s={field:"numberAttempts",redirectUrl:n};return s||this.parsers._errorCodes.defaultError}if(t=="0")return this.parsers._errorCodes.sessionError;return this.parsers._getMessageByErrorCode.call(this,t)||this.parsers._errorCodes.defaultError}};Authorization.Collections.ExchangeRate.prototype.parsers=_.extend({},Authorization.Collections.ExchangeRate.prototype.parsers||{},{read:function(e){var t=[];var n=null;var i=this;var r={};_.each(e,function(e,s){if(e){n=new i.model(e,{parse:true});if(!r[n.id]){r[n.id]=true;t.push(n)}else{_error("Authorization.Collections.ExchangeRate : Can't add the same model to a collection twice",true)}}});return t}});Authorization.Models.ExchangeRate.prototype.parsers=_.extend({},Authorization.Models.ExchangeRate.prototype.parsers||{},{read:function(e){return{currency:new ICurrency(e.ccy),baseCurrency:new ICurrency(e.base_ccy),buy:new INumber(e.buy),sale:new INumber(e.sale),date:new IDate("now")}}});Authorization.Models.User.prototype.parsers=_.extend({},Authorization.Models.User.prototype.parsers||{},{read:function(e){return{role:$(e).attr("role")||"",isIndividualPerson:$(e).attr("phis")==="Y"}}});Authorization.Models.OTP.prototype.parsers=_.extend({},Authorization.Models.OTP.prototype.parsers||{},{create:function(e){var t=$(e),n;n=t.find("RedirectURL").text();if(!n){return false}n=window.decodeURIComponent(n);return{redirectUrl:n,needToCheckPinCode:t.find("needChangePhoneToFinance").text()=="true",session:t.find("sessionKey").text(),dynString:t.find("dyn_string").text()}}});Authorization.Models.IVR.prototype.parsers={error:function(e){var t=e.error||{};this.attributes.error=t;return t},read:function(e){this.attributes.error=null;return e},checkQuery:function(e){this.attributes.error=null;return e}};Authorization.Models.Login.prototype.parsers=_.extend({},Authorization.Models.Login.prototype.parsers||{},{create:function(e){var t=$(e),n=t.find("RedirectURL").text();if(n){n=window.decodeURIComponent(n);return{redirectUrl:n}}else{return{redirectUrl:null,isNeedIVR:t.find("needIVRConfirm").text()==="true",user:new Authorization.Models.User(t.find("userinfo"),{parse:true}),userInfoKey:t.find("userInfoKey").text()}}}});Authorization.Models.Main.prototype.parsers=_.extend({},Authorization.Models.Main.prototype.parsers||{},{read:function(e){var t=$(e).find("goto");var n=$(e).find("userinfo");var i={redirectUrl:$(e).find("RedirectURL").text()||"",forceSignIn:$(e).find("forceSignIn").text()=="true",otpStepIsFirst:$(e).find("otpStepIsFirst").text()=="true",ivrStepIsFirst:$(e).find("ivrStepIsFirst").text()=="true",clientCard:$(e).find("clientCard").text(),otpStep:new Authorization.Models.OTP};if(t.attr("srvc_id")){i.serviceId=t.attr("srvc_id")}if(t.attr("url")){i.url=t.attr("url")}var r=$(e).find("isInvalidProminSession").text()!=="true";var s=$(e).find("userPhoneForPromin").text();if(!r){i.loginStep=new Authorization.Models.Login({login:s?new IPhone(s):null});i.stepError={error:{field:"prominSession",message:" .          "}}}else{i.loginStep=new Authorization.Models.Login({login:s?new IPhone(s):null,ekbId:$(e).find("ekbId").text(),from:$(e).find("from").text(),needHidePassword:$(e).find("isNeedHidePassword").text()==="true"})}if(n[0]){i.loginStep.set({user:new Authorization.Models.User(n,{parse:true})})}return i}});Authorization.Models.ChangePassword.prototype.parsers=_.extend({},Authorization.Models.ChangePassword.prototype.parsers||{},{create:function(e){var t=$(e).find("RedirectURL").text();if(!t)return false;t=window.decodeURIComponent(t);return{redirectUrl:t}}});Authorization.Models.PinCodeCheck.prototype.parsers=_.extend({},Authorization.Models.PinCodeCheck.prototype.parsers||{},{checkPinCode:function(e){if(!e||e.error){return new this.ParseError}return true},sendPinCode:function(e){return true},create:function(e){if(!e||e.error){return new this.ParseError}return true},error:function(e){var t=e&&e.error||{};t.incrementAttempts=t.field=="code";return t}});Authorization.Collections.ExchangeRate.prototype.queryParams=_.extend({},Authorization.Collections.ExchangeRate.prototype.queryParams||{},{read:function(e){return{url:"https://api.privatbank.ua/p24api/pubinfo",type:"GET",timeout:5e3,dataType:"jsonp",jsonp:"jsonp",cache:false,jsonpCallback:"success",crossDomain:true,data:{exchange:"",coursid:this.courseId}}}});Authorization.Models.Login.prototype.queryParams=_.extend({},Authorization.Models.Login.prototype.queryParams||{},{create:function(e){return{url:"/p24a/otp?XMLONLY=1&_="+Math.random(),type:"POST",dataType:"xml",data:{ajax:"true",NewUserNameAsPhone:this.get("login").toString(),UserName:this.get("login").toString(),UserPass:this.get("password").toString(),ekbId:this.get("ekbId").toString(),from:this.get("from").toString(),"goto":e.get("url").toString(),phis:!e.get("isLegalPerson")?"Y":"N",oper:"chkstpwd",srvc_id:e.get("serviceId"),clientCard:e.get("clientCard"),ProminSession:e.get("prominSession")||""}}}});Authorization.Models.Main.prototype.queryParams=_.extend({},Authorization.Models.Main.prototype.queryParams||{},{read:function(){var e=_.extend({},this.get("getParameters"),{ajax:true,XMLONLY:true,noauth:this.get("noAuth"),ProminSession:this.get("prominSession"),srvc_id:this.get("serviceId"),go:window.encodeURIComponent(this.get("url"))});return{url:"/p24a/login",type:"GET",dataType:"xml",data:e}}});Authorization.Models.OTP.prototype.queryParams=_.extend({},Authorization.Models.OTP.prototype.queryParams||{},{create:function(e){return{url:"/p24a/otp?XMLONLY=1",type:"POST",dataType:"xml",data:{ajax:true,"goto":e.get("url"),oper:"chkotp",otp:this.get("code"),srvc_id:e.get("serviceId"),clientCard:e.get("clientCard")}}}});Authorization.Models.IVR.prototype.queryParams={read:function(e){return{url:"https://qrapi.privatbank.ua/qrapi/ivr_login_send",dataType:"jsonp",cache:false,jsonpCallback:"response",data:{userInfoKey:String(e.get("loginStep").get("userInfoKey"))}}},checkQuery:function(e){return{url:"https://qrapi.privatbank.ua/qrapi/ivr_login_check",dataType:"jsonp",cache:false,jsonpCallback:"response",data:{codeId:this.id,stepcheck:"n","goto":e.get("url").toString(),srvc_id:e.get("serviceId")}}}};Authorization.Models.ChangePassword.prototype.queryParams=_.extend({},Authorization.Models.ChangePassword.prototype.queryParams||{},{create:function(e){return{url:"/p24a/info?XMLONLY=1",type:"POST",dataType:"xml",data:{ajax:true,"goto":e.get("url"),oper:"cmt",srvc_id:e.get("serviceId"),pwd1:this.get("newPassword"),pwd2:this.get("newPasswordConfirm")}}}});Authorization.Models.Analytics.prototype.queryParams=_.extend({},Authorization.Models.Analytics.prototype.queryParams||{},{create:function(e){return{url:"/p24a/analytics",type:"POST",dataType:"json",data:{data:JSON.stringify(this.getCheckFillingSpeedData()),dyn_string:e.get("otpStep").get("dynString"),srvc_id:e.get("serviceId")}}}});Authorization.Models.QRCode.prototype.queryParams=_.extend({},Authorization.Models.QRCode.prototype.queryParams,{check:function(e){var t=QRCode.Models.Main.prototype.queryParams.check.apply(this,arguments)||{};t.data=t.data||{};t.data.goto=e.get("url").toString();t.data.srvc_id=e.get("serviceId");return t}});Authorization.Models.PinCodeCheck.prototype.queryParams=_.extend({},Authorization.Models.PinCodeCheck.prototype.queryParams||{},{checkPinCode:function(e){return{url:"/p24a/checkPin",type:"POST",dataType:"json",data:{srvc_id:iURL.get("srvc_id"),sessionKey:e.otpModel.get("session"),lastFourNumbersOfCard:this.get("card").toString().substr(-4)}}},sendPinCode:function(e){var t={pin:this.get("code"),sessionid:e.otpModel.get("session"),systemid:"id1"};return{url:"https://pin.privatbank.ua/pinblok/create",type:"GET",dataType:"jsonp",timeout:1e4,jsonpCallback:"f_pinblock",cache:false,data:{json:JSON.stringify(t)}}},create:function(e){return{url:"/p24a/makePhoneFinance",type:"POST",dataType:"json",data:{sessionKey:e.otpModel.get("session")}}}});Authorization.Views.Base=Base.Views.Base.extend({l10nHash:{},changeInputFieldsTypeToNumber:function(e){if(!(e instanceof Array))e=[e];for(var t=0,n=e.length;t<n;t++){if(UserAgent.isIOSDevice()){$(e[t]).prop("pattern","[0-9]*");$(e[t]).attr("pattern","[0-9]*")}else{$(e[t]).prop("type","number")}}},_isDigitKey:function(e){if(!e)return false;return e.keyCode>=48&&e.keyCode<=57},addMainPreloader:function(e){$(this.options.$form).hide();this.$el.prepend(this.renderTemplate("preloader",{action:e||""}))},removeMainPreloader:function(){this.$el.find('[data-name="preloader"]').remove();$(this.options.$form).show()},removeFieldsError:function(){this.options.$form.find(".hint.error").remove();this.options.$form.find(".input .error").removeClass("error");this.removeServiceError()},removeFieldError:function(e){e.parents(".input").find(".hint.error").remove();e.removeClass("error")},addFieldError:function(e,t){var n=this;e.addClass("error").parents(".input").append(this.renderTemplate("fieldError",{message:this.l10n(t.message)}));e.keyup(function(e){n.removeFieldError($(this))})},renderServiceError:function(){this.options.$errorsBlock.html(this.renderTemplate("serviceError")).show()},removeServiceError:function(){this.options.$errorsBlock.find('[data-name="service-error"]').remove();if(this.options.$errorsBlock.is(":empty")){this.options.$errorsBlock.hide()}}});Authorization.Views.QRCode=QRCode.Views.Main.extend({model:new Authorization.Models.QRCode});Authorization.Views.ExchangeRate=Authorization.Views.Base.extend({templates:{exchangeRates:Mustache.compile(Authorization.Templates.exchangeRates),preloader:Mustache.compile(Base.Templates.preloader)},initialize:function(e){this.collection=iStorage.get("Authorization.Collections.ExchangeRate")},render:function(){var e=this;this.collection.fetch({beforeSend:function(){e.addMainPreloader("exchangeRates")},complete:function(){e.removeMainPreloader()},success:function(){e.$el.html(e.renderTemplate("exchangeRates",{exchangeRates:e.collection,date:new IDate("now"),mainModel:e.options.mainModel}))},error:function(){e.removeMainPreloader()}});return this}});Authorization.Views.Login=Authorization.Views.Base.extend({templates:{login:Mustache.compile(Authorization.Templates.login),preloader:Mustache.compile(Base.Templates.preloader),serviceError:Mustache.compile(Authorization.Templates.serviceError),fieldError:Mustache.compile(Authorization.Templates.fieldError),mainPreloader:Mustache.compile(Authorization.Templates.mainPreloader)},options:{masks:{capsLock:/[A-Z]|[-]/,capsLockShift:/[a-z]|[-]/,ruLang:/[-]/i,engLang:/[a-z]/i,textSymbols:/[a-z]|[-]/i,numbers:/[^0-9+]/,replaceNumbers:/[^0-9+]/g,beginPhone:/^\+\d*$/,plus:/\+/g},charCountForHidingLanguage:20,charCountForHidingCapsLock:13,passwordLengthBefore:0,loginLengthBefore:0,isActiveCapsLock:false,isEnglish:true,isSignProcess:false,timings:{id:"P24Enter"}},events:{"keyup [data-name='password']":"checkPassword","keyup [data-name='phone']":"checkLogin","change [data-name='phone']":"checkLogin","focus [data-name='phone']":"checkLogin","click [data-name='sign-in-button']":"eventSend",'click [data-name="password-recovery-link"]':"trackPasswordRecovery"},eventSend:function(e){e.preventDefault();this.signIn()},trackPasswordRecovery:function(){timings.remove("P24Pass");timings.measure("P24Pass");return true},signIn:function(){var e=this;this.removeFieldsError();if(!this.options.isSignProcess){this.options.$passwordRecoveryLink.removeClass("strong");e.addGoogleAnalytics();timings.remove(this.options.timings.id);timings.measure(this.options.timings.id);this.model.save({login:new IPhone(this.options.$loginField.val()),password:this.options.$passwordField.val()||""},{modelData:this.mainModel,beforeSend:function(){e.options.isSignProcess=true;e.addMainPreloader("signIn")},complete:function(){e.options.isSignProcess=false;e.removeMainPreloader()},success:function(){if(e.options.qrCodeView){e.options.qrCodeView.stop()}e.mainModel.set({stepError:null});if(e.model.get("redirectUrl")){e.$el.html(e.renderTemplate("mainPreloader"));window.location=e.model.get("redirectUrl")}else{e.options.router.navigate(e.model.isNeedIVR()?"ivr":"otp",{trigger:true})}},error:function(t,n){if(n&&n.field){e.errorHandler(n)}else{e.renderServiceError()}}})}},addGoogleAnalytics:function(){window._gaq=window._gaq||[];window._gaq.push(["_setAccount","UA-29683426-2"]);window._gaq.push(["_trackPageview"]);window._gaq.push(["_setCustomVar",1,"intervalByGetOTP",Authorization.Timing.getIntervalByGetOTP(),1]);window._gaq.push(["_trackEvent","Loginstep1Pass","Click","sms"])},errorHandler:function(e){this.analyticsModel.incrementInvalidAttempts();switch(e.field){case"numberAttempts":if(e.redirectUrl){this.$el.html(this.renderTemplate("mainPreloader"));document.location=e.redirectUrl}else{this.renderServiceError()}break;case"login":this.options.$passwordRecoveryLink.addClass("strong");this.addFieldError(this.options.$loginField,e);break;case"password":this.options.$passwordRecoveryLink.addClass("strong");this.addFieldError(this.options.$passwordField,e);break;case"service":this.renderServiceError();break;default:this.renderOtherError(e)}},removeFieldsError:function(){this.$el.find(".hint.error").remove();this.$el.find(".input .error").removeClass("error");this.options.$errorsBlock.hide().empty();this.removeServiceError()},renderOtherError:function(e){this.options.$errorsBlock.html(this.renderTemplate("fieldError",{message:this.l10n(e.message)})).show()},changeCapsLockLabel:function(e){if(e){this.options.$capsLockLabel.show()}else{this.options.$capsLockLabel.hide()}},changeLanguageLabel:function(e){if(e){this.options.$languageLabel.text("EN").show()}else{this.options.$languageLabel.text("RU").show()}},checkPassword:function(e){var t="",n="password",i=this.options.$passwordField.val()||"";if(!i){this.options.$capsLockLabel.hide();this.options.$languageLabel.hide();this.options.passwordLengthBefore=0;return false}if(e.keyCode=="13"){if(i==""){return false}this.signIn()}var r=i.length;t=i.substr(r-1,1);if(!t){return false}if(this.options.passwordLengthBefore==r){return false}this.options.passwordLengthBefore=r;if(e.keyCode=="8"){if(this.options._isClearAnalytics&&r){this.analyticsModel.incrementFillingAttempts(n)}if(r<this.options.charCountForHidingLanguage){this.changeLanguageLabel(this.options.isEnglish);this.options.$languageLabel.show();if(r<this.options.charCountForHidingCapsLock){this.changeCapsLockLabel(this.options.isActiveCapsLock)}}return false}if(r>=this.options.charCountForHidingCapsLock){this.options.$capsLockLabel.hide();if(r>=this.options.charCountForHidingLanguage){this.options.$languageLabel.hide()}}if(this.options._isClearAnalytics){this.analyticsModel.checkFirstFillingAttempt(n);this.analyticsModel.checkSpeed({fieldName:n,symbolPosition:r-1})}if(!this.options.masks.textSymbols.test(t)){return false}this.options.isEnglish=this.options.masks.engLang.test(t);if(e.shiftKey){if(!this.options.masks.capsLockShift.test(t)){this.options.isActiveCapsLock=true}else if(!this.options.masks.capsLock.test(t)){this.options.isActiveCapsLock=false}}else{if(this.options.masks.capsLock.test(t)){this.options.isActiveCapsLock=true}else if(this.options.masks.capsLockShift.test(t)){this.options.isActiveCapsLock=false}}if(r<this.options.charCountForHidingLanguage){this.changeLanguageLabel(this.options.isEnglish);this.options.$languageLabel.show();if(r<this.options.charCountForHidingCapsLock){this.changeCapsLockLabel(this.options.isActiveCapsLock)}}},checkLogin:function(e){var t=this.options.$loginField.val(),n="login",i=/focus/.test(e.type);if(this.options._isClearAnalytics&&!i&&e.keyCode=="8"){this.analyticsModel.incrementFillingAttempts(n);return false}if(this.options.masks.numbers.test(t)){t=t.replace(this.options.masks.replaceNumbers,"");this.options.$loginField.val(t);window.iSelection.moveSelectionTo(this.options.$loginField[0])}if(!this.options.masks.beginPhone.test(t)){t="+"+t.replace(this.options.masks.plus,"");this.options.$loginField.val(t);window.iSelection.moveSelectionTo(this.options.$loginField[0])}if(t.indexOf("+380")==0){if(t.length>13){this.options.$loginField.val(t.substr(0,13));window.iSelection.moveSelectionTo(this.options.$loginField[0])}}else{if(t.length>16){this.options.$loginField.val(t.substr(0,16));window.iSelection.moveSelectionTo(this.options.$loginField[0])}}var r=this.options.$loginField.val().length;if(e.keyCode=="13"){if(this.options.$passwordField[0]&&!this.options.$passwordField.val()){this.options.$passwordField.focus()}else{this.signIn()}}else if(!i&&this.options._isClearAnalytics&&this.options.loginLengthBefore!=r){this.analyticsModel.checkFirstFillingAttempt(n);this.analyticsModel.checkSpeed({fieldName:n,symbolPosition:r-1})}this.options.loginLengthBefore=r},initialize:function(e){this.mainModel=e.mainModel;this.model=e.mainModel.get("loginStep");this.analyticsModel=e.mainModel.get("analyticsModel")},render:function(){this.$el.html(this.renderTemplate("login",{model:this.model,options:this.options,mainModel:this.options.mainModel}));var e=this;this.options.$form=this.$el.find('[data-name="login-form"]');this.options.$loginField=this.options.$form.find('[data-name="phone"]');this.options.$passwordField=this.options.$form.find('[data-name="password"]');this.options.$capsLockLabel=this.options.$form.find('[data-name="caps-lock-label"]');this.options.$languageLabel=this.options.$form.find('[data-name="language-label"]');this.options.$qrCodeBlock=this.$el.find('[data-name="qr-code-block"]');this.options.$passwordRecoveryLink=this.$el.find('[data-name="password-recovery-link"]');this.options.$errorsBlock=this.$el.find('[data-name="errors"]');this.options.loginLengthBefore=this.options.$loginField.val().length;if(this.options.isRegistrationSuccess||this.options.isPasswordRecoverySuccess||this.options.isLoginChangingSuccess){this.options.$errorsBlock.show()
}else{this.options.$errorsBlock.hide()}if(!this.options.qrCodeView){this.options.qrCodeView=new Authorization.Views.QRCode({el:this.options.$qrCodeBlock.selector,mainModel:this.mainModel});this.options.qrCodeView.on("checked",function(t,n){if(n===true){window._gaq=window._gaq||[];window._gaq.push(["_trackEvent","Loginstepqr","Click","activate"]);window._gaq.push(["_setCustomVar",1,"allProcessTime",Authorization.Timing.getAllProcessTime(),1]);window._gaq.push(["_trackEvent","LoginSL","Click","Time of authorization process"]);e.$el.html(e.renderTemplate("mainPreloader"));t.stop();document.location=t.model.get("redirectUrl")}},this)}this.options.qrCodeView.render({el:this.options.$qrCodeBlock});this.options.$loginField.focus();window.iSelection.moveSelectionTo(this.options.$loginField[0]);if(this.mainModel.get("stepError")){this.errorHandler(this.mainModel.get("stepError").error)}else{this.analyticsModel.toDefaults();this.options._isClearAnalytics=true}return this}});Authorization.Views.ChangePassword=Authorization.Views.Base.extend({templates:{changePassword:Mustache.compile(Authorization.Templates.changePassword),preloader:Mustache.compile(Base.Templates.preloader),serviceError:Mustache.compile(Authorization.Templates.serviceError),fieldError:Mustache.compile(Authorization.Templates.fieldError),mainPreloader:Mustache.compile(Authorization.Templates.mainPreloader)},events:{"click [data-name='confirm-button']":"eventConfirm","keyup [data-name='password']":"eventKeyUpOnPassword","keyup [data-name='password-confirm']":"eventKeyUpOnPasswordConfirm"},initialize:function(e){this.mainModel=e.mainModel;this.model=e.mainModel.get("changePasswordStep")},eventKeyUpOnPassword:function(e){if(e.keyCode=="13"){if(this.options.$newPasswordConfirmField.val()){this.saveModel()}else{this.options.$newPasswordConfirmField.focus()}}},eventKeyUpOnPasswordConfirm:function(e){if(e.keyCode=="13"){if(this.options.$newPasswordField.val()){this.saveModel()}else{this.options.$newPasswordField.focus()}}},eventConfirm:function(e){e.preventDefault();this.saveModel()},render:function(){this.$el.html(this.renderTemplate("changePassword",{mainModel:this.options.mainModel}));this.options.$form=this.$el.find('[data-name="change-password-form"]');this.options.$errorsBlock=this.$el.find('[data-name="errors"]').hide();this.options.$newPasswordField=this.options.$form.find('[data-name="password"]');this.options.$newPasswordConfirmField=this.options.$form.find('[data-name="password-confirm"]');if(this.mainModel.get("stepError")){this.errorHandler(this.mainModel.get("stepError").error)}return this},saveModel:function(){var e=this;this.removeFieldsError();var t={newPassword:this.options.$newPasswordField.val(),newPasswordConfirm:this.options.$newPasswordConfirmField.val()};var n=this.model.validate(t);if(n){e.errorHandler(n)}else{this.model.set(t);this.model.save({},{modelData:this.mainModel,beforeSend:function(){e.addMainPreloader("changePassword")},success:function(t,n){e.mainModel.set({stepError:null});e.$el.html(e.renderTemplate("mainPreloader"));window.location=t.get("redirectUrl")},error:function(t,n){if(n&&n.field){e.errorHandler(n)}else{e.renderServiceError()}e.removeMainPreloader()}})}},errorHandler:function(e){switch(e.field){case"numberAttempts":if(e.redirectUrl){this.$el.html(this.renderTemplate("mainPreloader"));window.location=e.redirectUrl}else this.renderServiceError();break;case"otp":if(this.mainModel.get("otpStepIsFirst"))this.addFieldError($('[data-class="otp-input"]'),e);else this.mainModel.set({stepError:{error:e}});this.options.router.navigate("login",{trigger:true});break;case"login":case"password":this.mainModel.set({stepError:{error:e}});this.options.router.navigate("login",{trigger:true});break;case"changePassword":this.options.router.navigate("password-change",{trigger:true});break;case"newPassword":this.addFieldError(this.options.$newPasswordField,e);break;case"newPasswordConfirm":this.addFieldError(this.options.$newPasswordConfirmField,e);break;case"service":this.renderServiceError();break}}});Authorization.Views.OTP=Authorization.Views.Base.extend({templates:{otp:Mustache.compile(Authorization.Templates.otp),otpCodeChannelMessage:Mustache.compile(Authorization.Templates.otpCodeChannelMessage),preloader:Mustache.compile(Base.Templates.preloader),serviceError:Mustache.compile(Authorization.Templates.serviceError),fieldError:Mustache.compile(Authorization.Templates.fieldError),mainPreloader:Mustache.compile(Authorization.Templates.mainPreloader),ivrTimer:doT.template(Authorization.Templates.ivrTimer),ivrBrief:doT.template(Authorization.Templates.ivrBrief)},events:{"click [data-name='confirm-button']":"eventConfirm","submit [data-name='otp-form']":"eventConfirm","keyup [data-class='otp-input']":"removeOtpError",'click [data-name="show-ivr"]':"showIvr"},$elements:{},options:{availableTime:9e4},ivrAvailable:false,initialize:function(e){this.mainModel=e.mainModel;this.loginModel=e.mainModel.get("loginStep");this.model=e.mainModel.get("otpStep");this.analyticsModel=e.mainModel.get("analyticsModel");this.options.router=e.router},removeOtpError:function(e){this.removeFieldsError()},eventConfirm:function(e){e.preventDefault();this.confirmCode()},renderOTPChannelMessage:function(){$("body").append(this.renderTemplate("otpCodeChannelMessage"))},render:function(){var e=this;this.$el.html(this.renderTemplate("otp",{mainModel:this.options.mainModel}));this.options.$form=this.$el.find('[data-name="otp-form"]');this.options.$errorsBlock=this.$el.find('[data-name="errors"]').hide();this.$elements.ivrBlock=this.$el.find('[data-name="ivr-confirmation-block"]').hide();this.$elements.alternateConfirm=this.$el.find('[data-name="alternate-confirm-block"]');if(UserAgent.isMobileDevice()){this.changeInputFieldsTypeToNumber([$('[data-class="otp-input"]')])}this.options.otpFieldParams={fields:[this.$el.find('[data-name="first-section"]').val("").focus(),this.$el.find('[data-name="second-section"]').val(""),this.$el.find('[data-name="third-section"]').val(""),this.$el.find('[data-name="fourth-section"]').val("")],defaultSectionTextLength:2,codeLength:8,otpMask:/[^0-9]+/g};this.options.otpFieldParams.fieldsCount=this.options.otpFieldParams.fields.length;window.iSelection.moveSelectionTo(this.options.otpFieldParams.fields[0][0]);this._launchTimer();if(this.options.error){this.errorHandler(this.options.error)}if(UserAgent.isIOSDevice()){$.each(this.options.otpFieldParams.fields,function(t,n){if(n){$(n).keyup(function(t){var n=($(this).val()||"").replace(e.options.otpFieldParams.otpMask,"");var i=n.length;$(this).val(n);if(t.keyCode>=48&&t.keyCode<=57||t.keyCode===8){if(t.keyCode===8){if(!i){var r=this.previousElementSibling;if(r){this.parentNode.insertBefore(r,$(this).next(".input-section")[0]);n=$(r).val();i=n.length;$(this).val(n);r.value=""}}}else if(i>=e.options.otpFieldParams.defaultSectionTextLength){var s=$(this).next(".input-section")[0];if(s){this.parentNode.insertBefore(s,this);var a=($(s).val()||"").replace(e.options.otpFieldParams.otpMask,"");a=a.substring(0,e.options.otpFieldParams.defaultSectionTextLength);if(i>e.options.otpFieldParams.defaultSectionTextLength){a=n.substring(e.options.otpFieldParams.defaultSectionTextLength,i)}n=n.substring(0,e.options.otpFieldParams.defaultSectionTextLength);i=n.length;$(s).val(n);$(this).val(a)}else{t.preventDefault();$(this).val(n.substring(0,e.options.otpFieldParams.defaultSectionTextLength))}}}else if(t.keyCode===13&&e.isEntered()){e.confirmCode()}}).keydown(function(t){if(!$(this).next(".input-section")[0]&&this.value.length>e.options.otpFieldParams.defaultSectionTextLength){t.preventDefault();this.value=this.value.substring(0,e.options.otpFieldParams.defaultSectionTextLength)}})}})}else{this.buildSeparatedFields()}timings.measure("P24Enter",{data:{eventId:"EnterLogin",label:'   ""     '}});if(this.mainModel.get("stepError")){this.errorHandler(this.mainModel.get("stepError").error)}return this},buildSeparatedFields:function(){var e=this;e.options.otpFieldParams.fields[0].focus();$.each(this.options.otpFieldParams.fields,function(t,n){if(n){n.keyup(function(n){if(n.keyCode===13&&e.isEntered()){e.confirmCode()}else{var i=window.iSelection.getSelection(this);var r=($(this).val()||"").replace(e.options.otpFieldParams.otpMask,"");$(this).val(r);if(i){if(i.start==i.end){window.iSelection.moveSelectionTo(this,i.end)}else{window.iSelection.setSelection(this,i.start,i.end)}}if(n.keyCode==8&&r==""){var s=e.options.otpFieldParams.fields[t-1];if(s){var a=s.focus().val();window.iSelection.moveSelectionTo(s[0])}}else if(this.value.length==e.options.otpFieldParams.defaultSectionTextLength){var o=e.options.otpFieldParams.fields[t+1];if(o&&!o[0].value){o.removeProp("disabled").focus();window.iSelection.moveSelectionTo(o[0])}}}});n.keydown(function(n){var i=$(this).val();if(i.length<e.options.otpFieldParams.defaultSectionTextLength){return}if(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105){var r=window.iSelection.getSelection(this);if(r&&r.start!=r.end){var s=i.substring(0,r.start);s+=i.substring(r.end,i.length);this.value=s;window.iSelection.moveSelectionTo(this,r.start);return}var a=e.options.otpFieldParams.fields[t+1];if(a){a.val("").removeProp("disabled").focus();window.iSelection.moveSelectionTo(a[0])}else{n.preventDefault()}}})}})},getCode:function(){var e="";var t=$('[data-class="otp-input"]');t.each(function(t,n){if(n&&n.value){e+=n.value}});return e},isEntered:function(){var e=this.getCode();return e.length===this.options.otpFieldParams.codeLength},addGoogleAnalytics:function(){window._gaq=window._gaq||[];window._gaq.push(["_setCustomVar",1,"intervalBySendOTP",Authorization.Timing.getIntervalBySendOTP(),1]);window._gaq.push(["_trackEvent","Loginstep2Pass","Click","Inservice"])},confirmCode:function(){var e=this.getCode(),t;this.removeFieldsError();this.addGoogleAnalytics();clearTimeout(this.options.ivrTimer);t=this.model.validate({code:e});if(t){this.addFieldError($('[data-class="otp-input"]'),t)}else{timings.measure("P24Enter");this.model.save({code:e},{modelData:this.mainModel,beforeSend:function(){this.addMainPreloader("checkOtp")}.bind(this),success:function(e,t){this.mainModel.set({stepError:null});this.$el.html(this.renderTemplate("mainPreloader"));window._gaq=window._gaq||[];window._gaq.push(["_trackEvent","Loginstep3Pass","Click","activate"]);window._gaq.push(["_setCustomVar",1,"allProcessTime",Authorization.Timing.getAllProcessTime(),1]);window._gaq.push(["_trackEvent","LoginSL","Click","Time of authorization process"]);timings.measure("P24Enter",{data:{eventId:"EnterOTP",label:'   ""     24'}});timings.save("P24Enter");this.analyticsModel.save(null,{modelData:this.mainModel,complete:function(){if(this.model.attributes.needToCheckPinCode){this.options.router.navigate("pin",{trigger:true})}else{document.location=e.get("redirectUrl")}}.bind(this)})}.bind(this),error:function(e,t){if(t&&t.field){this.errorHandler(t)}else{this.renderServiceError()}this.removeMainPreloader()}.bind(this)})}},errorHandler:function(e){var t=this;switch(e.field){case"numberAttempts":if(e.redirectUrl){this.$el.html(t.renderTemplate("mainPreloader"));window.location=e.redirectUrl}else{this.renderServiceError()}break;case"otp":if(this.mainModel.get("otpStepIsFirst")){this.addFieldError($('[data-class="otp-input"]'),e)}else{this.mainModel.set({stepError:{error:e}})}this.options.router.navigate("login",{trigger:true});break;case"login":case"password":this.mainModel.set({stepError:{error:e}});this.options.router.navigate("login",{trigger:true});break;case"changePassword":this.options.router.navigate("password-change",{trigger:true});break;case"service":this.renderServiceError();break}},_launchTimer:function(){this.timerInterval=setInterval(function(){if(this.options.availableTime){this.options.availableTime-=1e3;this.trigger("change:timer",this.options.availableTime)}else{clearInterval(this.timerInterval);this.ivrAvailable=true;this.trigger("stop:timer")}}.bind(this),1e3)},showIvr:function(e){this.$elements.alternateConfirm.hide();if(!this.ivrAvailable){e.preventDefault();this.showTimer()}},showTimer:function(){this.$elements.ivrBlock.html(this.buildTemplate("ivrTimer",{view:this})).show();this.$elements.timer=this.$elements.ivrBlock.find('[data-name="timer"]');this.on("change:timer",function(e){this.$elements.timer.html(this.getTime(e))},this);this.on("stop:timer",function(){this.off("change:timer");this._buildBrief()},this)},_buildBrief:function(){this.$elements.ivrBlock.html(this.buildTemplate("ivrBrief"))},getTime:function(e){var t=0,n=0,i;if(e){i=e/1e3;t=Math.floor(i/60);n=i-t*60;n=n<10?"0"+n:n}return new INumber(t+"."+n).toString(":")}});Authorization.Views.PinCodeCheck=Authorization.Views.Base.extend({templates:{pinCode:Mustache.compile(Authorization.Templates.pinCode),preloader:Mustache.compile(Base.Templates.preloader),serviceError:Mustache.compile(Authorization.Templates.serviceError),fieldError:Mustache.compile(Authorization.Templates.fieldError)},events:{'submit [data-name="form"]':"eventSubmit",'click [data-name="skip"]':"skipStep"},options:{pinCodeLength:4,pinCodeNumberOfAttempts:3,usedAttempts:0},$elements:{},accountCollection:new Accounts.Collections.Account,initialize:function(e){this.mainModel=e.mainModel;this.model=e.mainModel.get("pinCodeStep");this.otpModel=e.mainModel.get("otpStep")},render:function(){this.$el.html(this.renderTemplate("pinCode",{mainModel:this.options.mainModel}));this.$elements.$form=this.$form=this.$el.find('[data-name="form"]');this.$elements.pinBlock=this.$form.find('[data-name="keyboard-block"]');this.$elements.card=this.$form.find('[name="card"]');if(this.mainModel.get("stepError")){this.errorHandler(this.mainModel.get("stepError").error)}this.pinCodeKeyboard=new Authorization.Views.Keyboard({el:this.$elements.pinBlock.selector,maxLength:this.options.pinCodeLength});this.pinCodeKeyboard.render();this.cardSelector=new CardSelect.Views.Main({isPayList:null,shortFormat:false,lang:this.options.lang,el:this.$elements.card,collectionOptions:{session:this.otpModel.get("session")},rule:function(e){return e.isWorkable()&&["VP24","LIQP","PIWE","P24V"].indexOf(e.get("cardType"))<0&&e.isPayAvailiable()&&!e.isBonus()&&!e.isMetal()&&!e.isFuel()&&!e.isDeposit()&&!e.isPrivatDeposit()&&!e.isVirtualCard()&&!e.isVirtualAccount()&&!e.isAccountOfOtherBank()&&!e.isInternetCard()&&!e.isCustomerAccount()&&!e.isPhysicalPersonAccount()&&(e.isMultiCurrency()&&!e.isChildAccount()||!e.isMultiCurrency()&&!e.isTechnical())}});this.cardSelector.on("complete",function(){if(!this.cardSelector.getAccountsList().length){this.skipStep()}}.bind(this));return this},errorHandler:function(e){this.removeFieldsError();if(!e||!e.field){this.renderServiceError();return}if(e.field&&this.$elements[e.field]){this.addFieldError(this.$elements[e.field],e)}if(e.field&&e.field=="code"){this.addPinError(e)}},eventSubmit:function(e){e.preventDefault();var t,n;t=this.getFormData();n=this.model.validate(t);n=n||this.extraValidate(t);if(!n){this.model.save(t,this.getSaveOptions())}else{this.errorHandler(n)}},extraValidate:function(e){var t;if(this.options.usedAttempts>=this.options.pinCodeNumberOfAttempts){t={field:"code",message:'    -.    24     "".'}}return t},skipStep:function(){document.location=this.otpModel.get("redirectUrl")},getSaveOptions:function(){return{beforeSend:function(){this.addPreloaderBefore(this.$form,"main")}.bind(this),complete:function(){this.removePreloaderBefore(this.$form)}.bind(this),success:function(){this.skipStep()}.bind(this),error:function(e,t){t=t||{};this.errorHandler(t)}.bind(this),modelData:{otpModel:this.otpModel}}},getFormData:function(){return{code:this.pinCodeKeyboard.val(),card:new IAccount(this.$elements.card.val())}},renderServiceError:function(e){e=e||this.$el;this.removeServiceError(e);e.html(this.renderTemplate("serviceError"))},removeServiceError:function(e){e=e||this.$el;e.find('[data-name="service-error"]').remove()},addPreloaderBefore:function(e,t){if(e){e.hide().before(this.renderTemplate("preloader",{action:t||" "}))}},removePreloaderBefore:function(e){var t=e.siblings('[data-name="preloader"]');if(e){t.first().remove();if(!t.filter(":visible").length){e.show()}}},removeFieldsError:function(){this.$form.find(".hint.error").remove();this.$form.find(".input .error").removeClass("error");this.removeServiceError()},addPinError:function(e){if(e.incrementAttempts){this.options.usedAttempts++;if(this.options.usedAttempts>=this.options.pinCodeNumberOfAttempts){e.message=this.l10n('    -.    24     "".')}else{e.message=this.l10n(e.message)+". "+this.l10n(" ")+": "+(this.options.pinCodeNumberOfAttempts-this.options.usedAttempts)}this.pinCodeKeyboard.clear()}else{e.message=this.l10n(e.message)}this.$elements.pinBlock.append(this.buildTemplate("fieldError",{message:e.message}))}});Authorization.Views.Keyboard=Authorization.Views.Base.extend({templates:{main:Mustache.compile(Authorization.Templates.keyboard),preloader:Mustache.compile(Base.Templates.preloader)},events:{"click .symbol":"_clickOnSymbol"},options:{alphabet:[0,1,2,3,4,5,6,7,8,9],value:""},_clickOnSymbol:function(e){e.preventDefault();var t=this,n=this.options.$inputResultBlock.text(),i=$(e.target).text();this.options.$mainBlock.html(this.renderTemplate("preloader",{action:" "}));if($(e.target).is(".backspace")){this.options.$inputResultBlock.text(n.substr(0,n.length-1));this.options.value=this.options.value.substr(0,this.options.value.length-1)}else if($(e.target).is(".close")){this.clear()}else if(!this.options.maxLength||this.options.value.length<this.options.maxLength){this.options.$inputResultBlock.text(n+"*");this.options.value+=i}var r=window.setTimeout(function(){window.clearTimeout(r);t.options.alphabet.sort(function(){return.5-Math.random()});t.render()},1e3)},clear:function(){this.options.$inputResultBlock.text("");this.options.value=""},val:function(){return this.options.value},initialize:function(e){e=e||{};this.options.alphabetLength=this.options.alphabet.length;this.options.maxLength=e.maxLength?+e.maxLength:null},render:function(){this.$el.html(this.renderTemplate("main"));this.options.$mainBlock=this.$el.find('[data-name="keyboard"]');this.options.$inputResultBlock=this.$el.find('[data-name="input-result"]');var e=document.createDocumentFragment(),t=0,n=null,i=this.options.value.length;if(i){for(t=0;t<i;t++){this.options.$inputResultBlock.text(this.options.$inputResultBlock.text()+"*")}}for(t=0;t<this.options.alphabetLength;t++){n=document.createElement("div");n.className="symbol";n.onselectstart=function(){return false};n.onmousedown=function(){return false};n.appendChild(document.createTextNode(this.options.alphabet[t]));e.appendChild(n)}var r=document.createElement("div");r.className="symbol backspace";var s=document.createElement("div");s.className="symbol close";e.childNodes[0].parentNode.insertBefore(r,e.childNodes[0].nextSibling);e.childNodes[0].parentNode.insertBefore(s,e.childNodes[1].nextSibling);this.options.$mainBlock.append(e);return this}});Authorization.Views.IVR=Authorization.Views.Base.extend({templates:{main:Mustache.compile(Authorization.Templates.ivr),preloader:Mustache.compile(Base.Templates.preloader),serviceError:Mustache.compile(Authorization.Templates.serviceError),mainPreloader:Mustache.compile(Authorization.Templates.mainPreloader)},$elements:{},initialize:function(e){this.$elements={};this.mainModel=e.mainModel;this.model.on("change:isConfirmed",function(){if(this.model.isConfirmed()){if(this.model.get("redirectUrl")){this.$el.html(this.renderTemplate("mainPreloader"));window.location=this.model.get("redirectUrl")}}},this);this.model.on("error:check",function(e){this.$el.html(this.renderTemplate("serviceError",{error:e,withoutTitle:true,isNeedMainButton:true})).show()},this);this.model.detectIVRIncomeNumber(this.mainModel.get("loginStep").get("login"))},addPreloader:function(){this.$el.html(this.renderTemplate("preloader",{action:"ivr"}))},removePreloader:function(){this.$el.find('[data-name="preloader"]').remove()},render:function(){var e=this.options.mainView.wasChangeL10N();if(e&&this.model.get("error")){this.$el.html(this.renderTemplate("serviceError",{error:this.model.get("error"),withoutTitle:true,isNeedMainButton:true})).show()}else{this.$el.html(this.renderTemplate("main",{model:this.model}));if(!e||!this.model.id){this.model.fetch({modelData:this.options.mainModel,error:function(e,t){this.$el.html(this.renderTemplate("serviceError",{error:t,withoutTitle:true,isNeedMainButton:true})).show()}.bind(this),success:function(){this.model.check(this.options.mainModel)}.bind(this)})}}return this}});Authorization.Views.Main=Authorization.Views.Base.extend({templates:{l10n:Mustache.compile(Authorization.Templates.l10n),main:Mustache.compile(Authorization.Templates.main),browserMessage:Mustache.compile(Authorization.Templates.browserMessage),header:Mustache.compile(Authorization.Templates.header),exchangeRatesBlock:Mustache.compile(Authorization.Templates.exchangeRatesBlock),footer:Mustache.compile(Authorization.Templates.footer),preloader:Mustache.compile(Base.Templates.preloader),serviceError:Mustache.compile(Authorization.Templates.serviceError),fieldError:Mustache.compile(Authorization.Templates.fieldError)},events:{"click [data-name='online-help']":"openOnlineHelp","click [data-name='virtual-keyboard']":"toggleVirtualKeyboard","click [data-name='l10n']":"changeL10N","click .register":"trackRegistration"},changeL10N:function(e){e.preventDefault();var t=this.lang||this.options.router.lang,n=$(e.target).attr("data-id");if(n&&n!=t){this.options.oldL10N=t;this.options.router.lang=n;this.lang=n;this.options.lang=n;this.reglamChatView.lang=n;this.reglamChatView.options.lang=n;window.iLocalStorage.set("l10n",n);this.render(this.renderOptions)}},wasChangeL10N:function(){return!!(this.options.oldL10N&&this.lang!=this.options.oldL10N)},trackRegistration:function(){timings.remove("P24Registr");timings.measure("P24Registr");return true},toggleVirtualKeyboard:function(e){e.preventDefault();$(e.target).toggleClass("active");var t=this.$el.find('[data-name="phone"]');var n=this.$el.find('[data-name="password"]');if(this.options.isActiveVirtualKeyboard){this.options.isActiveVirtualKeyboard=false;this.detachVirtualKeyboard(t);this.detachVirtualKeyboard(n)}else{this.options.isActiveVirtualKeyboard=true;setTimeout(function(){if(t[0]&&!t[0].VKI_attached)VKI_attach(t[0]);if(n[0]&&!n[0].VKI_attached)VKI_attach(n[0])},100)}},detachVirtualKeyboard:function(e){e=$(e);e[0].onclick=null;e[0].onkeyup=null;e[0].onselect=null;e[0].onfocus=null;e[0].VKI_attached=false;e.removeAttr("vki_attached")},openOnlineHelp:function(e){e.preventDefault();window.open("https://siteheart.com/webconsultation/698102?byhref=1","siteheart_sitewindow_698102","width=550, "+"height=400 ,top=30,left=30,resizable=yes")},initialize:function(e){this.model=iStorage.get("Authorization.Models.Main");if(this.model.isRussia()&&this.options.lang=="uk")this.options.lang="ru";this.reglamChatView=new ReglamChat.Views.Main({el:e.el})},renderOldBrowserMessage:function(){var e={model:this.model,date:new IDate("today")};this.$el.empty().addClass("not-supported-browser").append(this.renderTemplate("header",e)).append(this.renderTemplate("browserMessage",e)).append(this.renderTemplate("footer",e))},render:function(e){e=e||{};this.renderOptions=e;this.options.stepName=e.stepName||"";this.options.isRegistrationSuccess=!!e.isRegistrationSuccess;this.options.isPasswordRecoverySuccess=!!e.isPasswordRecoverySuccess;this.options.isLoginChangingSuccess=!!e.isLoginChangingSuccess;if(window.UserAgent.browser.isSupported){this.start()}else{this.renderOldBrowserMessage()}return this},start:function(){var e=this;this.reglamChatView.render();var t={options:this.options,model:this.model,randomString:Math.random().toString().replace(".",""),date:new IDate};this.buildMainPageTitle();this.$el.empty().append(this.renderTemplate("l10n",{lang:this.options.lang,mainModel:this.model})).append(this.renderTemplate("exchangeRatesBlock",t)).append(this.renderTemplate("header",t)).append(this.renderTemplate("main",t)).append(this.renderTemplate("footer",t));if(this.options.isRegistrationSuccess||this.options.isPasswordRecoverySuccess||this.options.isLoginChangingSuccess){this.$el.addClass("centered-content")}else{this.$el.removeClass("centered-content")}this.options.$formBlock=this.$el.find('[data-name="form-block"]');this.options.$iosApplicationButton=this.$el.find('[data-name="ios-application-button"]');this.options.$androidApplicationButton=this.$el.find('[data-name="android-application-button"]');this.options.$exchangeRatesBlock=this.$el.find('[data-name="exchange-rates-block"]');this.options.$virtualKeyboardButton=this.$el.find('[data-name="virtual-keyboard"]');if(this.model.isUkraine()){this.exchangeRatesView=new Authorization.Views.ExchangeRate({el:this.options.$exchangeRatesBlock.selector,lang:this.options.lang});this.exchangeRatesView.render()}if(UserAgent.isMobileDevice()||this.options.stepName=="otp"){this.options.$virtualKeyboardButton.hide()}this.buildMobileDevicesMessage();if(!iURL.hasParameters()){e.buildForm()}else{this.model.fetch({beforeSend:function(){e.addPreloader(e.options.$formBlock,"main")},complete:function(){e.removePreloader(e.options.$formBlock)},success:function(){e.buildForm()},error:function(t,n){if(n&&n.field){if(n.field=="service"){e.renderServiceError()}else{e.model.set({stepError:{error:n}});e.buildForm()}}else{e.renderServiceError()}}})}},buildMainPageTitle:function(){document.title=this.l10n("24 -   -!")},buildForm:function(){var e=this.$el.find('[data-name="ipay-banner-block"]').show(),t=this.$el.find('[data-name="applications-block"]').show();if(this.options.stepName=="ivr"){if((this.model.get("stepError")||!this.model.get("loginStep").isValid())&&!this.model.get("ivrStepIsFirst")){this.options.router.navigate("login",{trigger:true});return true}e.hide();t.hide();this.ivrView=new Authorization.Views.IVR({el:this.options.$formBlock.selector,router:this.options.router,lang:this.options.lang,mainModel:this.model,mainView:this,model:this.model.get("ivrStep")});this.ivrView.render()}else{if(this.model.get("ivrStep")){this.model.get("ivrStep").toDefaults()}if(this.options.stepName=="otp"){if((this.model.get("stepError")||!this.model.get("loginStep").isValid())&&!this.model.get("otpStepIsFirst")){this.options.router.navigate("login",{trigger:true});return true}this.otpView=new Authorization.Views.OTP({el:this.options.$formBlock.selector,router:this.options.router,lang:this.options.lang,mainModel:this.model});this.otpView.render()}else if(this.options.stepName=="changePassword"){if(this.model.get("stepError")||!this.model.get("loginStep").isValid()||!this.model.get("otpStep").isValid()){this.options.router.navigate("login",{trigger:true});return true}this.changePasswordView=new Authorization.Views.ChangePassword({el:this.options.$formBlock.selector,router:this.options.router,lang:this.options.lang,mainModel:this.model});this.changePasswordView.render()}else if(this.options.stepName=="pinCodeCheck"){if(this.model.get("stepError")||!this.model.get("loginStep").isValid()||!this.model.get("otpStep").isValid()){this.options.router.navigate("login",{trigger:true});return true}this.pinCodeCheckView=new Authorization.Views.PinCodeCheck({el:this.options.$formBlock.selector,router:this.options.router,lang:this.options.lang,mainModel:this.model});this.pinCodeCheckView.render()}else{if(!this.model.get("stepError")&&this.model.get("otpStepIsFirst")){this.options.router.navigate("otp",{trigger:true});return true}if(!this.model.get("stepError")&&this.model.get("ivrStepIsFirst")){this.options.router.navigate("ivr",{trigger:true});return true}this.loginView=new Authorization.Views.Login({el:this.options.$formBlock.selector,router:this.options.router,isRegistrationSuccess:this.options.isRegistrationSuccess,isPasswordRecoverySuccess:this.options.isPasswordRecoverySuccess,isLoginChangingSuccess:this.options.isLoginChangingSuccess,lang:this.options.lang,mainModel:this.model});this.loginView.render();if(this.model.get("forceSignIn")){this.loginView.signIn()}}}},buildMobileDevicesMessage:function(){var e=100;this.options.$androidApplicationButton.show();this.options.$iosApplicationButton.show();if(UserAgent.isAndroidDevice()){this.options.$iosApplicationButton.hide();if(!$.cookie("android-message")){$.cookie("android-message",true,{expires:e});var t=confirm(this.l10n("     Android  ! "+"  ,     24"));if(t){document.location.href="https://market.android.com/details?id=ua.privatbank.ap24"}}}else if(UserAgent.isIOSDevice()){this.options.$androidApplicationButton.hide();if(UserAgent.isIPhone()&&!$.cookie("iphone-message")){$.cookie("iphone-message",true,{expires:e});var t=confirm(this.l10n("     iPhone  ! "+"  ,     24"));if(t){document.location.href="http://itunes.apple.com/ru/app/privat24/id326277589?mt=8"}}else if(UserAgent.isIPod()&&!$.cookie("ipod-message")){$.cookie("ipod-message",true,{expires:e});var t=confirm(this.l10n("     iPod  ! "+"  ,     24"));if(t){document.location.href="http://itunes.apple.com/ru/app/privat24/id326277589?mt=8"}}}},renderServiceError:function(e){e=e||this.options.$formBlock;this.removeServiceError(e);e.find(">div").hide().prepend(this.renderTemplate("serviceError"))},removeServiceError:function(e){e=e||this.options.$formBlock;e.find(">div").show().find('[data-name="service-error"]').remove()},addPreloader:function(e,t){$(e).html(this.renderTemplate("preloader",{action:t||""}))},removePreloader:function(e){$(e).find('[data-name="preloader"]').remove()}});Authorization.Views.Base.prototype.l10nHash.en={"24 -   -!":"Privat24 - your live Internet-Bank!","  ":"Your browser is too old","   24     ":"To work with Privat24 install any of the following","":"PrivatBank","  22  05.10.2011 ":"License  22 of 05.10.2011","    2827  23.04.2012 ":"License CB RF  2827 of 23.04.2012","/":"Regulations/Rates"," ":"Security rules","  -":"Your live Internet-Bank","    ":"Statements","      /":"Control the movement of funds in a bank account"," ":"Pay for your mobile",".      ":"Instantly. All mobile operators in Ukraine and Russian Federation",".    ":"Instantly. All mobile operators in Russian Federation","  ":"Recurrent utility payments","    : ,    ":"Recurrent payments for utilities: water, gas and other services","   ":"Money transfers around the world","  VISA/MasterCard, WesternUnion":"To Visa/MasterCard cards, WesternUnion","  Liqpay":"to Liqpay accounts","":"Saving accounts","    %    ":"Open saving accounts with great % rates remotely and manage it","  1001 ,   ":"and 1001 services, get tour","":"More","24 ":"Privat24 at","   ":"Accept Visa/MasterCard","":"Order","":"Install"," ":"or download","     ":"If you do not have access to","":"file","":"Phone","":"Password","":"Log in"," ":"Forgot your password"," ":"Change login","":"Register","QR-  ":"QR-code for log in","   Google Glass":"from smartphone and Google Glass","":"Smartphone","24":"Privat24","":"Contactless","":"Scan","  ":"The password from SMS","":"Confirm","":"Congratulations","    24":"You have successfully registered Privat24","     24":"You have successfully recovered password from the Privat24","     24":"You have successfully change login from the Privat24",", ":"Please wait","  ":"Getting an exchange rates","   ":"Verifying username and password","  ":"Confirmation code checking"," ":"Error","  . , , ":"The service is temporarily unavailable. Please try again later","  ":"Fill the phone number","   ":"Fill the phone number in the full format"," ":"Fill password","  ":"Fill security code","  ":"Check entered data","   ":"You did not specify a user role","     ":"A user with the entered username is not found","    ":"Entered an incorrect username or password","    ":"Your access to the system is locked","    24  ":"Phone number is incorrectly","    ":"Invalid one-time password"," ":"Failed connection"," ":"Service error","  ":"Exchange rates","  ":"Session is expired"," ":"Mobile applications"," ":"Password change"," ":"New password"," ":"Password confirm","  24":"Logging in Privat24"," .       3  ":"Your access to the system is locked. You have entered wrong username or password 3 times","    ,   6 ":"The password must have at least 6 characters","       ":"The password should contain latin characters and digits","      ":"The password must contain at least one number","       ":"The password must contain at least one letter","  ":"Passwords do not match","  6 .":"Not less than 6 characters","        ":"The password must contain both letters and numbers at the same time","":"Save","  ":"Invalid password","    ":"The new password is equal your login","    24     ":"Enter your login and password to get into the Privat24","    24      ":"Enter your new login and password to get into the Privat24","   24":"Canceled entrance Privat24","  24 ":"Sign Privat24 canceled","":"Back","":"Calling","":"Answer","     ":"Timeout response from the user"," ,    24    ":"Dear Customer, confirm authorization Privat24 taking a call from the bank","":"Skip","   ":"Login without confirmation of phone","  ":"Confirm phone number"," PIN-  ":"Enter the PIN-code here"," ":"Phone confirmation","     ?":"Why would the bank know your phone number?",'    -.    24     "".':'Exceeded the number of attempts to enter the PIN. To enter Privat24 without confirmation of phone, click "Skip".'," ":"Attempts left","  PIN-":"Invalid PIN","    SMS ,    24    ":"If you do not receive SMS password, confirm the entrance taking a call from the bank"," ":"Call me","  ":"SMS does not come"," ":"Click here","":"After","      ":"You will be able to confirm the enter with the call"};
Authorization.Views.Base.prototype.l10nHash.ru={"Incorrect PIN":"  PIN-","the user's session has expired":" ","General error during processing":"  "};Authorization.Views.Base.prototype.l10nHash.uk={"24 -   -!":"24 -   I-!","  ":"   ","   24     ":"   24  -   ","":"","  22  05.10.2011 ":"  22  05.10.2011 ","    2827  23.04.2012 ":"    2827  23.04.2012 ","/":"/"," ":" ","  -":"  -","    ":"    ","      /":"      /"," ":" ",".      ":".      ",".    ":".    ","  ":"  ","    : ,    ":"    : ,    ","   ":"   ","  VISA/MasterCard, WesternUnion":"  VISA/MasterCard, WesternUnion","  Liqpay":"  Liqpay","":"","    %    ":"    %    ","  1001 ,   ":"  1001 ,   ","":"","24 ":"24 ","   ":"   ","":"","":""," ":" ","     ":"     ","":"","":"","":"","":""," ":" "," ":" ","":"","QR-  ":"QR-  ","   Google Glass":"   Google Glass","":"","24":"24","":"","":"","  ":"  ","":"","":"","    24":"    24","     24":"     24","     24":"     24",", ":", -","  ":"  ","   ":"   ","  ":"  "," ":" ","  . , , ":"  . , -, ","  ":"  ","   ":"   "," ":" ","  ":"  ","  ":"  ","   ":"   ","     ":"   i  ","    ":"  '  ","    ":"    ","    24  ":"    24  i","    ":"    "," ":" '"," ":" ","  ":"  ","  ":"  "," ":" "," ":" "," ":" ","  24":"  24"," ":"  "," .       3  ":"    .  i  i   3  i","    ,   6 ":"     ,  6 ","       ":"       ","      ":"      ","       ":"       ","  ":"  ","  6 .":" ,  6 ","        ":"        ","":"","  ":"  ","    ":"    ","    24     ":"   24     ","    24      ":"   24      ","":"","   ":"   ","  ":"  "," PIN-  ":" PIN-  "," ":" ","     ?":"     ?",'    -.    24     "".':'    PIN-.    24     "".',"Incorrect PIN":"  PIN-","the user's session has expired":" ","General error during processing":"  "," ":" ","  PIN-":"  PIN-","   24":"   24","  24 ":"  24 ","":"","":"","":"","     ":"     "," ,    24    ":" ,    24    ","    SMS ,    24    ":"    SMS ,    24    "," ":" ","  ":"  "," ":" ","":"","      ":"      "};Authorization.Routers.Main=Backbone.Router.extend({initialize:function(e){this.el=e.el;this.$el=$(e.el);this.lang=iURL.get("lang")||window.iLocalStorage.get("l10n")||UserAgent.browser.language||"ru";this.mainView=new Authorization.Views.Main({el:this.el,router:this,lang:this.lang});BlockShower.route(this.el,/.*/,this,this.startRoute);BlockShower.route(this.el,/^login\/?$/i,this,this.login);BlockShower.route(this.el,/^otp\/?$/i,this,this.otp);BlockShower.route(this.el,/^pin\/?$/i,this,this.pin);BlockShower.route(this.el,/^ivr\/?$/i,this,this._checkIVRRoute);BlockShower.route(this.el,/^password-change\/?$/i,this,this.changePassword);if(!document.location.hash){this.navigate("login",{trigger:true})}},_checkIVRRoute:function(){this.mainView.render({stepName:"ivr"})},startRoute:function(){this.navigate("login",{trigger:true})},login:function(){this.mainView.render({stepName:"login",isRegistrationSuccess:window.iURL.get("reg")=="true",isPasswordRecoverySuccess:window.iURL.get("isPasswordRecovery")=="true",isLoginChangingSuccess:window.iURL.get("isLoginChanging")=="true"})},otp:function(){this.mainView.render({stepName:"otp"})},pin:function(){this.mainView.render({stepName:"pinCodeCheck"})},changePassword:function(){this.mainView.render({stepName:"changePassword"})}});$(document).ready(function(){Authorization.Timing={authTimeStart:new Date,_getSecondsFromMilliseconds:function(e){return Math.round(e/1e3*100)/100},_getIntervalName:function(e){switch(true){case e>0&&e<=10:return"1-10";case e>10&&e<=15:return"10-15";case e>15&&e<=25:return"15-25";case e>25&&e<=40:return"25-40";case e>40&&e<=60:return"40-60";case e>60:return"60+"}},getAllProcessTime:function(){return this._getSecondsFromMilliseconds((new Date).getTime()-this.authTimeStart.getTime())},getIntervalByGetOTP:function(){this.timeBeforeGetOTP=new Date;var e=this._getSecondsFromMilliseconds(this.timeBeforeGetOTP.getTime()-this.authTimeStart.getTime());return this._getIntervalName(e)},getIntervalBySendOTP:function(){if(this.timeBeforeGetOTP){var e=this._getSecondsFromMilliseconds((new Date).getTime()-this.timeBeforeGetOTP.getTime());return this._getIntervalName(e)}}};new Authorization.Routers.Main({el:".container"});Backbone.history.start()});